(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function XT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pd={exports:{}},Io={};var Z0;function $T(){if(Z0)return Io;Z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Io.Fragment=e,Io.jsx=i,Io.jsxs=i,Io}var J0;function ZT(){return J0||(J0=1,Pd.exports=$T()),Pd.exports}var b=ZT(),Bd={exports:{}},Ce={};var W0;function JT(){if(W0)return Ce;W0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=N&&M[N]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function _e(M,P,se){this.props=M,this.context=P,this.refs=ee,this.updater=se||$}_e.prototype.isReactComponent={},_e.prototype.setState=function(M,P){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,P,"setState")},_e.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Te(){}Te.prototype=_e.prototype;function ge(M,P,se){this.props=M,this.context=P,this.refs=ee,this.updater=se||$}var Ue=ge.prototype=new Te;Ue.constructor=ge,te(Ue,_e.prototype),Ue.isPureReactComponent=!0;var ot=Array.isArray;function Qe(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function w(M,P,se){var ae=se.ref;return{$$typeof:s,type:M,key:P,ref:ae!==void 0?ae:null,props:se}}function V(M,P){return w(M.type,P,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var P={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return P[se]})}var R=/\/+/g;function Xe(M,P){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):P.toString(36)}function At(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Qe,Qe):(M.status="pending",M.then(function(P){M.status==="pending"&&(M.status="fulfilled",M.value=P)},function(P){M.status==="pending"&&(M.status="rejected",M.reason=P)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,P,se,ae,le){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Pe=!1;if(M===null)Pe=!0;else switch(xe){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(M.$$typeof){case s:case e:Pe=!0;break;case E:return Pe=M._init,F(Pe(M._payload),P,se,ae,le)}}if(Pe)return le=le(M),Pe=ae===""?"."+Xe(M,0):ae,ot(le)?(se="",Pe!=null&&(se=Pe.replace(R,"$&/")+"/"),F(le,P,se,"",function(Wi){return Wi})):le!=null&&(D(le)&&(le=V(le,se+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(R,"$&/")+"/")+Pe)),P.push(le)),1;Pe=0;var Ot=ae===""?".":ae+":";if(ot(M))for(var mt=0;mt<M.length;mt++)ae=M[mt],xe=Ot+Xe(ae,mt),Pe+=F(ae,P,se,xe,le);else if(mt=G(M),typeof mt=="function")for(M=mt.call(M),mt=0;!(ae=M.next()).done;)ae=ae.value,xe=Ot+Xe(ae,mt++),Pe+=F(ae,P,se,xe,le);else if(xe==="object"){if(typeof M.then=="function")return F(At(M),P,se,ae,le);throw P=String(M),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function re(M,P,se){if(M==null)return M;var ae=[],le=0;return F(M,ae,"","",function(xe){return P.call(se,xe,le++)}),ae}function de(M){if(M._status===-1){var P=M._result;P=P(),P.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=P)}if(M._status===1)return M._result.default;throw M._result}var Ve=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ze={map:re,forEach:function(M,P,se){re(M,function(){P.apply(this,arguments)},se)},count:function(M){var P=0;return re(M,function(){P++}),P},toArray:function(M){return re(M,function(P){return P})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=S,Ce.Children=Ze,Ce.Component=_e,Ce.Fragment=i,Ce.Profiler=o,Ce.PureComponent=ge,Ce.StrictMode=a,Ce.Suspense=_,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,P,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=te({},M.props),le=M.key;if(P!=null)for(xe in P.key!==void 0&&(le=""+P.key),P)!x.call(P,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&P.ref===void 0||(ae[xe]=P[xe]);var xe=arguments.length-2;if(xe===1)ae.children=se;else if(1<xe){for(var Pe=Array(xe),Ot=0;Ot<xe;Ot++)Pe[Ot]=arguments[Ot+2];ae.children=Pe}return w(M.type,le,ae)},Ce.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ce.createElement=function(M,P,se){var ae,le={},xe=null;if(P!=null)for(ae in P.key!==void 0&&(xe=""+P.key),P)x.call(P,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(le[ae]=P[ae]);var Pe=arguments.length-2;if(Pe===1)le.children=se;else if(1<Pe){for(var Ot=Array(Pe),mt=0;mt<Pe;mt++)Ot[mt]=arguments[mt+2];le.children=Ot}if(M&&M.defaultProps)for(ae in Pe=M.defaultProps,Pe)le[ae]===void 0&&(le[ae]=Pe[ae]);return w(M,xe,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:g,render:M}},Ce.isValidElement=D,Ce.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:de}},Ce.memo=function(M,P){return{$$typeof:y,type:M,compare:P===void 0?null:P}},Ce.startTransition=function(M){var P=I.T,se={};I.T=se;try{var ae=M(),le=I.S;le!==null&&le(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Qe,Ve)}catch(xe){Ve(xe)}finally{P!==null&&se.types!==null&&(P.types=se.types),I.T=P}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(M){return I.H.use(M)},Ce.useActionState=function(M,P,se){return I.H.useActionState(M,P,se)},Ce.useCallback=function(M,P){return I.H.useCallback(M,P)},Ce.useContext=function(M){return I.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,P){return I.H.useDeferredValue(M,P)},Ce.useEffect=function(M,P){return I.H.useEffect(M,P)},Ce.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(M,P,se){return I.H.useImperativeHandle(M,P,se)},Ce.useInsertionEffect=function(M,P){return I.H.useInsertionEffect(M,P)},Ce.useLayoutEffect=function(M,P){return I.H.useLayoutEffect(M,P)},Ce.useMemo=function(M,P){return I.H.useMemo(M,P)},Ce.useOptimistic=function(M,P){return I.H.useOptimistic(M,P)},Ce.useReducer=function(M,P,se){return I.H.useReducer(M,P,se)},Ce.useRef=function(M){return I.H.useRef(M)},Ce.useState=function(M){return I.H.useState(M)},Ce.useSyncExternalStore=function(M,P,se){return I.H.useSyncExternalStore(M,P,se)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.3",Ce}var e_;function Um(){return e_||(e_=1,Bd.exports=JT()),Bd.exports}var tt=Um();const t_=XT(tt);var qd={exports:{}},No={},Hd={exports:{}},Gd={};var n_;function WT(){return n_||(n_=1,(function(s){function e(F,re){var de=F.length;F.push(re);e:for(;0<de;){var Ve=de-1>>>1,Ze=F[Ve];if(0<o(Ze,re))F[Ve]=re,F[de]=Ze,de=Ve;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var re=F[0],de=F.pop();if(de!==re){F[0]=de;e:for(var Ve=0,Ze=F.length,M=Ze>>>1;Ve<M;){var P=2*(Ve+1)-1,se=F[P],ae=P+1,le=F[ae];if(0>o(se,de))ae<Ze&&0>o(le,se)?(F[Ve]=le,F[ae]=de,Ve=ae):(F[Ve]=se,F[P]=de,Ve=P);else if(ae<Ze&&0>o(le,de))F[Ve]=le,F[ae]=de,Ve=ae;else break e}}return re}function o(F,re){var de=F.sortIndex-re.sortIndex;return de!==0?de:F.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],E=1,S=null,N=3,G=!1,$=!1,te=!1,ee=!1,_e=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function Ue(F){for(var re=i(y);re!==null;){if(re.callback===null)a(y);else if(re.startTime<=F)a(y),re.sortIndex=re.expirationTime,e(_,re);else break;re=i(y)}}function ot(F){if(te=!1,Ue(F),!$)if(i(_)!==null)$=!0,Qe||(Qe=!0,k());else{var re=i(y);re!==null&&At(ot,re.startTime-F)}}var Qe=!1,I=-1,x=5,w=-1;function V(){return ee?!0:!(s.unstable_now()-w<x)}function D(){if(ee=!1,Qe){var F=s.unstable_now();w=F;var re=!0;try{e:{$=!1,te&&(te=!1,Te(I),I=-1),G=!0;var de=N;try{t:{for(Ue(F),S=i(_);S!==null&&!(S.expirationTime>F&&V());){var Ve=S.callback;if(typeof Ve=="function"){S.callback=null,N=S.priorityLevel;var Ze=Ve(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ze=="function"){S.callback=Ze,Ue(F),re=!0;break t}S===i(_)&&a(_),Ue(F)}else a(_);S=i(_)}if(S!==null)re=!0;else{var M=i(y);M!==null&&At(ot,M.startTime-F),re=!1}}break e}finally{S=null,N=de,G=!1}re=void 0}}finally{re?k():Qe=!1}}}var k;if(typeof ge=="function")k=function(){ge(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xe=R.port2;R.port1.onmessage=D,k=function(){Xe.postMessage(null)}}else k=function(){_e(D,0)};function At(F,re){I=_e(function(){F(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(F){switch(N){case 1:case 2:case 3:var re=3;break;default:re=N}var de=N;N=re;try{return F()}finally{N=de}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=N;N=F;try{return re()}finally{N=de}},s.unstable_scheduleCallback=function(F,re,de){var Ve=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ve+de:Ve):de=Ve,F){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=de+Ze,F={id:E++,callback:re,priorityLevel:F,startTime:de,expirationTime:Ze,sortIndex:-1},de>Ve?(F.sortIndex=de,e(y,F),i(_)===null&&F===i(y)&&(te?(Te(I),I=-1):te=!0,At(ot,de-Ve))):(F.sortIndex=Ze,e(_,F),$||G||($=!0,Qe||(Qe=!0,k()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var re=N;return function(){var de=N;N=re;try{return F.apply(this,arguments)}finally{N=de}}}})(Gd)),Gd}var i_;function eA(){return i_||(i_=1,Hd.exports=WT()),Hd.exports}var Fd={exports:{}},vn={};var s_;function tA(){if(s_)return vn;s_=1;var s=Um();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,E)},vn.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},vn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},vn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},vn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:G}):E==="script"&&a.d.X(_,{crossOrigin:S,integrity:N,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},vn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},vn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},vn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},vn.requestFormReset=function(_){a.d.r(_)},vn.unstable_batchedUpdates=function(_,y){return _(y)},vn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},vn.useFormStatus=function(){return d.H.useHostTransitionStatus()},vn.version="19.2.3",vn}var r_;function nA(){if(r_)return Fd.exports;r_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Fd.exports=tA(),Fd.exports}var a_;function iA(){if(a_)return No;a_=1;var s=eA(),e=Um(),i=nA();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,l=f;break}if(T===l){p=!0,l=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,l=h;break}if(T===l){p=!0,l=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case _e:return"Profiler";case ee:return"StrictMode";case ot:return"Suspense";case Qe:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ge:return t.displayName||"Context";case Te:return(t._context.displayName||"Context")+".Consumer";case Ue:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Xe(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Xe(t(n))}catch{}}return null}var At=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ve=[],Ze=-1;function M(t){return{current:t}}function P(t){0>Ze||(t.current=Ve[Ze],Ve[Ze]=null,Ze--)}function se(t,n){Ze++,Ve[Ze]=t.current,t.current=n}var ae=M(null),le=M(null),xe=M(null),Pe=M(null);function Ot(t,n){switch(se(xe,n),se(le,t),se(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?b0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=b0(n),t=E0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}P(ae),se(ae,t)}function mt(){P(ae),P(le),P(xe)}function Wi(t){t.memoizedState!==null&&se(Pe,t);var n=ae.current,r=E0(n,t.type);n!==r&&(se(le,t),se(ae,r))}function es(t){le.current===t&&(P(ae),P(le)),Pe.current===t&&(P(Pe),xo._currentValue=de)}var ts,Ai;function Yn(t){if(ts===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ts=n&&n[1]||"",Ai=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+t+Ai}var Or=!1;function ns(t,n){if(!t||Or)return"";Or=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){B=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),U=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Or=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Yn(r):""}function Si(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return ns(t.type,!1);case 11:return ns(t.type.render,!1);case 1:return ns(t.type,!0);case 31:return Yn("Activity");default:return""}}function Mr(t){try{var n="",r=null;do n+=Si(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var W=Object.prototype.hasOwnProperty,ne=s.unstable_scheduleCallback,ve=s.unstable_cancelCallback,J=s.unstable_shouldYield,ue=s.unstable_requestPaint,Me=s.unstable_now,pe=s.unstable_getCurrentPriorityLevel,Xn=s.unstable_ImmediatePriority,un=s.unstable_UserBlockingPriority,he=s.unstable_NormalPriority,Rt=s.unstable_LowPriority,St=s.unstable_IdlePriority,Cn=s.log,Os=s.unstable_setDisableYieldValue,we=null,ke=null;function Mt(t){if(typeof Cn=="function"&&Os(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(we,t)}catch{}}var Je=Math.clz32?Math.clz32:yt,Vt=Math.log,Be=Math.LN2;function yt(t){return t>>>=0,t===0?32:31-(Vt(t)/Be|0)|0}var pt=256,Wt=262144,ut=4194304;function kt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ct(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=kt(l):(p&=T,p!==0?h=kt(p):r||(r=T&~t,r!==0&&(h=kt(r))))):(T=l&~f,T!==0?h=kt(T):p!==0?h=kt(p):r||(r=l&~t,r!==0&&(h=kt(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function en(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ya(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=ut;return ut<<=1,(ut&62914560)===0&&(ut=4194304),t}function xi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Vr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(r=p&~r;0<r;){var K=31-Je(r),Y=1<<K;T[K]=0,C[K]=-1;var B=U[K];if(B!==null)for(U[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}r&=~Y}l!==0&&kr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function kr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Il(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Je(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Nl(t,n){var r=n&-n;return r=(r&42)!==0?1:zr(r),(r&(t.suspendedLanes|n))!==0?0:r}function zr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function is(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:G0(t.type))}function ci(t,n){var r=re.p;try{return re.p=t,n()}finally{re.p=r}}var hi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+hi,tn="__reactProps$"+hi,wi="__reactContainer$"+hi,_a="__reactEvents$"+hi,Fh="__reactListeners$"+hi,mu="__reactHandles$"+hi,pu="__reactResources$"+hi,Ri="__reactMarker$"+hi;function va(t){delete t[Pt],delete t[tn],delete t[_a],delete t[Fh],delete t[mu]}function Ci(t){var n=t[Pt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[wi]||r[Pt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=C0(t);t!==null;){if(r=t[Pt])return r;t=C0(t)}return n}t=r,r=t.parentNode}return null}function $n(t){if(t=t[Pt]||t[wi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ii(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Bt(t){t[Ri]=!0}var Dl=new Set,Ol={};function Ni(t,n){Di(t,n),Di(t+"Capture",n)}function Di(t,n){for(Ol[t]=n,t=0;t<n.length;t++)Dl.add(n[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function gu(t){return W.call(kl,t)?!0:W.call(Vl,t)?!1:Ml.test(t)?kl[t]=!0:(Vl[t]=!0,!1)}function ba(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Un(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function qt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=Ms(t)?"checked":"value";t._valueTracker=zl(t,n,""+t[n])}}function jr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lr=/[\n"\\]/g;function In(t){return t.replace(Lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ea(t,n,r,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?jl(t,p,nn(n)):r!=null?jl(t,p,nn(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function yu(t,n,r,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),rt(t)}function jl(t,n,r){n==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Vs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,r){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+nn(r):""}function ks(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(At(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=nn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),rt(t)}function Nn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ll(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||vu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ul(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ll(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ll(t,f,n[f])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return zs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var Pl=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var js=null,Mi=null;function Ur(t){var n=$n(t);if(n&&(t=n.stateNode)){var r=t[tn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ea(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+In(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[tn]||null;if(!h)throw Error(a(90));Ea(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&jr(l)}break e;case"textarea":_u(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Vs(t,!!r.multiple,n,!1)}}}var Sa=!1;function Ls(t,n,r){if(Sa)return t(n,r);Sa=!0;try{var l=t(n);return l}finally{if(Sa=!1,(js!==null||Mi!==null)&&(dc(),js&&(n=js,t=Mi,Mi=js=null,Ur(n),t)))for(n=0;n<t.length;n++)Ur(t[n])}}function di(t,n){var r=t.stateNode;if(r===null)return null;var l=r[tn]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Jn)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Pr=!1}var Vi=null,Bl=null,Br=null;function ql(){if(Br)return Br;var t,n=Bl,r=n.length,l,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Br=h.slice(t,1<l?1-l:void 0)}function qr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function mi(){return!1}function cn(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ss:mi,this.isPropagationStopped=mi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),n}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=cn(rs),Us=S({},rs,{view:0,detail:0}),Hl=cn(Us),Ps,xa,zi,wa=S({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(Ps=t.screenX-zi.screenX,xa=t.screenY-zi.screenY):xa=Ps=0,zi=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Gl=cn(wa),Hr=S({},wa,{dataTransfer:0}),Eu=cn(Hr),Tu=S({},Us,{relatedTarget:0}),Gr=cn(Tu),Fl=S({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=cn(Fl),Ra=S({},rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=cn(Ra),xu=S({},rs,{data:0}),ji=cn(xu),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Bs(){return Iu}var Sn=S({},Us,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nu=cn(Sn),Du=S({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=cn(Du),u=S({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),m=cn(u),v=S({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=cn(v),j=S({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=cn(j),ie=S({},rs,{newState:0,oldState:0}),Ne=cn(ie),zt=[9,13,27,32],nt=Jn&&"CompositionEvent"in window,Et=null;Jn&&"documentMode"in document&&(Et=document.documentMode);var Wn=Jn&&"TextEvent"in window&&!Et,Li=Jn&&(!nt||Et&&8<Et&&11>=Et),pi=" ",gi=!1;function Fr(t,n){switch(t){case"keyup":return zt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function vE(t,n){switch(t){case"compositionend":return Ca(n);case"keypress":return n.which!==32?null:(gi=!0,pi);case"textInput":return t=n.data,t===pi&&gi?null:t;default:return null}}function bE(t,n){if(Ia)return t==="compositionend"||!nt&&Fr(t,n)?(t=ql(),Br=Bl=Vi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Li&&n.locale!=="ko"?null:n.data;default:return null}}var EE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!EE[t.type]:n==="textarea"}function Op(t,n,r,l){js?Mi?Mi.push(l):Mi=[l]:js=l,n=bc(n,"onChange"),0<n.length&&(r=new ki("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Kl=null,Ql=null;function TE(t){m0(t,0)}function Ou(t){var n=Ln(t);if(jr(n))return t}function Mp(t,n){if(t==="change")return n}var Vp=!1;if(Jn){var Kh;if(Jn){var Qh="oninput"in document;if(!Qh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Qh=typeof kp.oninput=="function"}Kh=Qh}else Kh=!1;Vp=Kh&&(!document.documentMode||9<document.documentMode)}function zp(){Kl&&(Kl.detachEvent("onpropertychange",jp),Ql=Kl=null)}function jp(t){if(t.propertyName==="value"&&Ou(Ql)){var n=[];Op(n,Ql,t,Zn(t)),Ls(TE,n)}}function AE(t,n,r){t==="focusin"?(zp(),Kl=n,Ql=r,Kl.attachEvent("onpropertychange",jp)):t==="focusout"&&zp()}function SE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Ql)}function xE(t,n){if(t==="click")return Ou(n)}function wE(t,n){if(t==="input"||t==="change")return Ou(n)}function RE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Pn=typeof Object.is=="function"?Object.is:RE;function Yl(t,n){if(Pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!W.call(n,h)||!Pn(t[h],n[h]))return!1}return!0}function Lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,n){var r=Lp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lp(r)}}function Pp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Oi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Oi(t.document)}return n}function Yh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var CE=Jn&&"documentMode"in document&&11>=document.documentMode,Na=null,Xh=null,Xl=null,$h=!1;function qp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$h||Na==null||Na!==Oi(l)||(l=Na,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Yl(Xl,l)||(Xl=l,l=bc(Xh,"onSelect"),0<l.length&&(n=new ki("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Na)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Da={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Zh={},Hp={};Jn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Qr(t){if(Zh[t])return Zh[t];if(!Da[t])return t;var n=Da[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Hp)return Zh[t]=n[r];return t}var Gp=Qr("animationend"),Fp=Qr("animationiteration"),Kp=Qr("animationstart"),IE=Qr("transitionrun"),NE=Qr("transitionstart"),DE=Qr("transitioncancel"),Qp=Qr("transitionend"),Yp=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function yi(t,n){Yp.set(t,n),Ni(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ei=[],Oa=0,Wh=0;function Vu(){for(var t=Oa,n=Wh=Oa=0;n<t;){var r=ei[n];ei[n++]=null;var l=ei[n];ei[n++]=null;var h=ei[n];ei[n++]=null;var f=ei[n];if(ei[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Xp(r,h,f)}}function ku(t,n,r,l){ei[Oa++]=t,ei[Oa++]=n,ei[Oa++]=r,ei[Oa++]=l,Wh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ef(t,n,r,l){return ku(t,n,r,l),zu(t)}function Yr(t,n){return ku(t,null,null,n),zu(t)}function Xp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Je(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function zu(t){if(50<_o)throw _o=0,cd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function OE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,n,r,l){return new OE(t,n,r,l)}function tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ls(t,n){var r=t.alternate;return r===null?(r=Bn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function $p(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")tf(t)&&(p=1);else if(typeof t=="string")p=jT(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=Bn(31,r,n,h),t.elementType=w,t.lanes=f,t;case te:return Xr(r.children,h,f,n);case ee:p=8,h|=24;break;case _e:return t=Bn(12,r,n,h|2),t.elementType=_e,t.lanes=f,t;case ot:return t=Bn(13,r,n,h),t.elementType=ot,t.lanes=f,t;case Qe:return t=Bn(19,r,n,h),t.elementType=Qe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:p=10;break e;case Te:p=9;break e;case Ue:p=11;break e;case I:p=14;break e;case x:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Bn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Xr(t,n,r,l){return t=Bn(7,t,l,n),t.lanes=r,t}function nf(t,n,r){return t=Bn(6,t,null,n),t.lanes=r,t}function Zp(t){var n=Bn(18,null,null,0);return n.stateNode=t,n}function sf(t,n,r){return n=Bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jp=new WeakMap;function ti(t,n){if(typeof t=="object"&&t!==null){var r=Jp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Mr(n)},Jp.set(t,n),n)}return{value:t,source:n,stack:Mr(n)}}var Va=[],ka=0,Lu=null,$l=0,ni=[],ii=0,qs=null,Ui=1,Pi="";function os(t,n){Va[ka++]=$l,Va[ka++]=Lu,Lu=t,$l=n}function Wp(t,n,r){ni[ii++]=Ui,ni[ii++]=Pi,ni[ii++]=qs,qs=t;var l=Ui;t=Pi;var h=32-Je(l)-1;l&=~(1<<h),r+=1;var f=32-Je(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ui=1<<32-Je(n)+h|r<<h|l,Pi=f+t}else Ui=1<<f|r<<h|l,Pi=t}function rf(t){t.return!==null&&(os(t,1),Wp(t,1,0))}function af(t){for(;t===Lu;)Lu=Va[--ka],Va[ka]=null,$l=Va[--ka],Va[ka]=null;for(;t===qs;)qs=ni[--ii],ni[ii]=null,Pi=ni[--ii],ni[ii]=null,Ui=ni[--ii],ni[ii]=null}function eg(t,n){ni[ii++]=Ui,ni[ii++]=Pi,ni[ii++]=qs,Ui=n.id,Pi=n.overflow,qs=t}var hn=null,_t=null,Ye=!1,Hs=null,si=!1,lf=Error(a(519));function Gs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(ti(n,t)),lf}function tg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Pt]=t,n[tn]=l,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(r=0;r<bo.length;r++)je(bo[r],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),yu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),ks(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||_0(n.textContent,r)?(l.popover!=null&&(je("beforetoggle",n),je("toggle",n)),l.onScroll!=null&&je("scroll",n),l.onScrollEnd!=null&&je("scrollend",n),l.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Gs(t,!0)}function ng(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:hn=hn.return}}function za(t){if(t!==hn)return!1;if(!Ye)return ng(t),Ye=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||xd(t.type,t.memoizedProps)),r=!r),r&&_t&&Gs(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));_t=R0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));_t=R0(t)}else n===27?(n=_t,sr(t.type)?(t=Nd,Nd=null,_t=t):_t=n):_t=hn?ai(t.stateNode.nextSibling):null;return!0}function $r(){_t=hn=null,Ye=!1}function of(){var t=Hs;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),Hs=null),t}function Zl(t){Hs===null?Hs=[t]:Hs.push(t)}var uf=M(null),Zr=null,us=null;function Fs(t,n,r){se(uf,n._currentValue),n._currentValue=r}function cs(t){t._currentValue=uf.current,P(uf)}function cf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function hf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),cf(f.return,r,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),cf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ja(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Pn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Pe.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xo):t=[xo])}h=h.return}t!==null&&hf(n,t,r,l),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!Pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Zr=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return ig(Zr,t)}function Pu(t,n){return Zr===null&&Jr(t),ig(t,n)}function ig(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},us===null){if(t===null)throw Error(a(308));us=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else us=us.next=n;return r}var ME=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},VE=s.unstable_scheduleCallback,kE=s.unstable_NormalPriority,Ht={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new ME,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&VE(kE,function(){t.controller.abort()})}var Wl=null,df=0,La=0,Ua=null;function zE(t,n){if(Wl===null){var r=Wl=[];df=0,La=gd(),Ua={status:"pending",value:void 0,then:function(l){r.push(l)}}}return df++,n.then(sg,sg),n}function sg(){if(--df===0&&Wl!==null){Ua!==null&&(Ua.status="fulfilled");var t=Wl;Wl=null,La=0,Ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function jE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var rg=F.S;F.S=function(t,n){qy=Me(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&zE(t,n),rg!==null&&rg(t,n)};var Wr=M(null);function mf(){var t=Wr.current;return t!==null?t:gt.pooledCache}function Bu(t,n){n===null?se(Wr,Wr.current):se(Wr,n.pool)}function ag(){var t=mf();return t===null?null:{parent:Ht._currentValue,pool:t}}var Pa=Error(a(460)),pf=Error(a(474)),qu=Error(a(542)),Hu={then:function(){}};function lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function og(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(fi,fi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(fi,fi);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw ta=n,Pa}}function ea(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ta=r,Pa):r}}var ta=null;function ug(){if(ta===null)throw Error(a(459));var t=ta;return ta=null,t}function cg(t){if(t===Pa||t===qu)throw Error(a(483))}var Ba=null,eo=0;function Gu(t){var n=eo;return eo+=1,Ba===null&&(Ba=[]),og(Ba,t,n)}function to(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){function n(z,O){if(t){var L=z.deletions;L===null?(z.deletions=[O],z.flags|=16):L.push(O)}}function r(z,O){if(!t)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function l(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=ls(z,O),z.index=0,z.sibling=null,z}function f(z,O,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<O?(z.flags|=67108866,O):L):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function p(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,O,L,Q){return O===null||O.tag!==6?(O=nf(L,z.mode,Q),O.return=z,O):(O=h(O,L),O.return=z,O)}function C(z,O,L,Q){var ye=L.type;return ye===te?K(z,O,L.props.children,Q,L.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&ea(ye)===O.type)?(O=h(O,L.props),to(O,L),O.return=z,O):(O=ju(L.type,L.key,L.props,null,z.mode,Q),to(O,L),O.return=z,O)}function U(z,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=sf(L,z.mode,Q),O.return=z,O):(O=h(O,L.children||[]),O.return=z,O)}function K(z,O,L,Q,ye){return O===null||O.tag!==7?(O=Xr(L,z.mode,Q,ye),O.return=z,O):(O=h(O,L),O.return=z,O)}function Y(z,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=nf(""+O,z.mode,L),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return L=ju(O.type,O.key,O.props,null,z.mode,L),to(L,O),L.return=z,L;case $:return O=sf(O,z.mode,L),O.return=z,O;case x:return O=ea(O),Y(z,O,L)}if(At(O)||k(O))return O=Xr(O,z.mode,L,null),O.return=z,O;if(typeof O.then=="function")return Y(z,Gu(O),L);if(O.$$typeof===ge)return Y(z,Pu(z,O),L);Fu(z,O)}return null}function B(z,O,L,Q){var ye=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:T(z,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===ye?C(z,O,L,Q):null;case $:return L.key===ye?U(z,O,L,Q):null;case x:return L=ea(L),B(z,O,L,Q)}if(At(L)||k(L))return ye!==null?null:K(z,O,L,Q,null);if(typeof L.then=="function")return B(z,O,Gu(L),Q);if(L.$$typeof===ge)return B(z,O,Pu(z,L),Q);Fu(z,L)}return null}function H(z,O,L,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(L)||null,T(O,z,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return z=z.get(Q.key===null?L:Q.key)||null,C(O,z,Q,ye);case $:return z=z.get(Q.key===null?L:Q.key)||null,U(O,z,Q,ye);case x:return Q=ea(Q),H(z,O,L,Q,ye)}if(At(Q)||k(Q))return z=z.get(L)||null,K(O,z,Q,ye,null);if(typeof Q.then=="function")return H(z,O,L,Gu(Q),ye);if(Q.$$typeof===ge)return H(z,O,L,Pu(O,Q),ye);Fu(O,Q)}return null}function ce(z,O,L,Q){for(var ye=null,We=null,fe=O,Oe=O=0,He=null;fe!==null&&Oe<L.length;Oe++){fe.index>Oe?(He=fe,fe=null):He=fe.sibling;var et=B(z,fe,L[Oe],Q);if(et===null){fe===null&&(fe=He);break}t&&fe&&et.alternate===null&&n(z,fe),O=f(et,O,Oe),We===null?ye=et:We.sibling=et,We=et,fe=He}if(Oe===L.length)return r(z,fe),Ye&&os(z,Oe),ye;if(fe===null){for(;Oe<L.length;Oe++)fe=Y(z,L[Oe],Q),fe!==null&&(O=f(fe,O,Oe),We===null?ye=fe:We.sibling=fe,We=fe);return Ye&&os(z,Oe),ye}for(fe=l(fe);Oe<L.length;Oe++)He=H(fe,z,Oe,L[Oe],Q),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?Oe:He.key),O=f(He,O,Oe),We===null?ye=He:We.sibling=He,We=He);return t&&fe.forEach(function(ur){return n(z,ur)}),Ye&&os(z,Oe),ye}function Ee(z,O,L,Q){if(L==null)throw Error(a(151));for(var ye=null,We=null,fe=O,Oe=O=0,He=null,et=L.next();fe!==null&&!et.done;Oe++,et=L.next()){fe.index>Oe?(He=fe,fe=null):He=fe.sibling;var ur=B(z,fe,et.value,Q);if(ur===null){fe===null&&(fe=He);break}t&&fe&&ur.alternate===null&&n(z,fe),O=f(ur,O,Oe),We===null?ye=ur:We.sibling=ur,We=ur,fe=He}if(et.done)return r(z,fe),Ye&&os(z,Oe),ye;if(fe===null){for(;!et.done;Oe++,et=L.next())et=Y(z,et.value,Q),et!==null&&(O=f(et,O,Oe),We===null?ye=et:We.sibling=et,We=et);return Ye&&os(z,Oe),ye}for(fe=l(fe);!et.done;Oe++,et=L.next())et=H(fe,z,Oe,et.value,Q),et!==null&&(t&&et.alternate!==null&&fe.delete(et.key===null?Oe:et.key),O=f(et,O,Oe),We===null?ye=et:We.sibling=et,We=et);return t&&fe.forEach(function(YT){return n(z,YT)}),Ye&&os(z,Oe),ye}function dt(z,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===te&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:e:{for(var ye=L.key;O!==null;){if(O.key===ye){if(ye=L.type,ye===te){if(O.tag===7){r(z,O.sibling),Q=h(O,L.props.children),Q.return=z,z=Q;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&ea(ye)===O.type){r(z,O.sibling),Q=h(O,L.props),to(Q,L),Q.return=z,z=Q;break e}r(z,O);break}else n(z,O);O=O.sibling}L.type===te?(Q=Xr(L.props.children,z.mode,Q,L.key),Q.return=z,z=Q):(Q=ju(L.type,L.key,L.props,null,z.mode,Q),to(Q,L),Q.return=z,z=Q)}return p(z);case $:e:{for(ye=L.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(z,O.sibling),Q=h(O,L.children||[]),Q.return=z,z=Q;break e}else{r(z,O);break}else n(z,O);O=O.sibling}Q=sf(L,z.mode,Q),Q.return=z,z=Q}return p(z);case x:return L=ea(L),dt(z,O,L,Q)}if(At(L))return ce(z,O,L,Q);if(k(L)){if(ye=k(L),typeof ye!="function")throw Error(a(150));return L=ye.call(L),Ee(z,O,L,Q)}if(typeof L.then=="function")return dt(z,O,Gu(L),Q);if(L.$$typeof===ge)return dt(z,O,Pu(z,L),Q);Fu(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(z,O.sibling),Q=h(O,L),Q.return=z,z=Q):(r(z,O),Q=nf(L,z.mode,Q),Q.return=z,z=Q),p(z)):r(z,O)}return function(z,O,L,Q){try{eo=0;var ye=dt(z,O,L,Q);return Ba=null,ye}catch(fe){if(fe===Pa||fe===qu)throw fe;var We=Bn(29,fe,null,z.mode);return We.lanes=Q,We.return=z,We}}}var na=hg(!0),fg=hg(!1),Ks=!1;function gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=zu(t),Xp(t,null,r),n}return ku(t,l,n,r),zu(t)}function no(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Il(t,r)}}function _f(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var vf=!1;function io(){if(vf){var t=Ua;if(t!==null)throw t}}function so(t,n,r,l){vf=!1;var h=t.updateQueue;Ks=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,p===null?f=U:p.next=U,p=C;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==p&&(T===null?K.firstBaseUpdate=U:T.next=U,K.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;p=0,K=U=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(qe&B)===B:(l&B)===B){B!==0&&B===La&&(vf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,Ee=T;B=n;var dt=r;switch(Ee.tag){case 1:if(ce=Ee.payload,typeof ce=="function"){Y=ce.call(dt,Y,B);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ee.payload,B=typeof ce=="function"?ce.call(dt,Y,B):ce,B==null)break e;Y=S({},Y,B);break e;case 2:Ks=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(U=K=H,C=Y):K=K.next=H,p|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Ws|=p,t.lanes=p,t.memoizedState=Y}}function dg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function mg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)dg(r[t],n)}var qa=M(null),Ku=M(0);function pg(t,n){t=vs,se(Ku,t),se(qa,n),vs=t|n.baseLanes}function bf(){se(Ku,vs),se(qa,qa.current)}function Ef(){vs=Ku.current,P(qa),P(Ku)}var qn=M(null),ri=null;function Xs(t){var n=t.alternate;se(jt,jt.current&1),se(qn,t),ri===null&&(n===null||qa.current!==null||n.memoizedState!==null)&&(ri=t)}function Tf(t){se(jt,jt.current),se(qn,t),ri===null&&(ri=t)}function gg(t){t.tag===22?(se(jt,jt.current),se(qn,t),ri===null&&(ri=t)):$s()}function $s(){se(jt,jt.current),se(qn,qn.current)}function Hn(t){P(qn),ri===t&&(ri=null),P(jt)}var jt=M(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Cd(r)||Id(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hs=0,De=null,ht=null,Gt=null,Yu=!1,Ha=!1,ia=!1,Xu=0,ro=0,Ga=null,LE=0;function It(){throw Error(a(321))}function Af(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Pn(t[r],n[r]))return!1;return!0}function Sf(t,n,r,l,h,f){return hs=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Wg:Uf,ia=!1,f=r(l,h),ia=!1,Ha&&(f=_g(n,r,l,h)),yg(t),f}function yg(t){F.H=oo;var n=ht!==null&&ht.next!==null;if(hs=0,Gt=ht=De=null,Yu=!1,ro=0,Ga=null,n)throw Error(a(300));t===null||Ft||(t=t.dependencies,t!==null&&Uu(t)&&(Ft=!0))}function _g(t,n,r,l){De=t;var h=0;do{if(Ha&&(Ga=null),ro=0,Ha=!1,25<=h)throw Error(a(301));if(h+=1,Gt=ht=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ey,f=n(r,l)}while(Ha);return f}function UE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(De.flags|=1024),n}function xf(){var t=Xu!==0;return Xu=0,t}function wf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Rf(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}hs=0,Gt=ht=De=null,Ha=!1,ro=Xu=0,Ga=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?De.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Lt(){if(ht===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=Gt===null?De.memoizedState:Gt.next;if(n!==null)Gt=n,ht=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Gt===null?De.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var n=ro;return ro+=1,Ga===null&&(Ga=[]),t=og(Ga,t,n),n=De,(Gt===null?n.memoizedState:Gt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Wg:Uf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===ge)return fn(t)}throw Error(a(438,String(t)))}function Cf(t){var n=null,r=De.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=$u(),De.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function fs(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=Lt();return If(n,ht,t)}function If(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,C=null,U=n,K=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(qe&Y)===Y:(hs&Y)===Y){var B=U.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===La&&(K=!0);else if((hs&B)===B){U=U.next,B===La&&(K=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=Y,p=f):C=C.next=Y,De.lanes|=B,Ws|=B;Y=U.action,ia&&r(f,Y),f=U.hasEagerState?U.eagerState:r(f,Y)}else B={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=B,p=f):C=C.next=B,De.lanes|=Y,Ws|=Y;U=U.next}while(U!==null&&U!==n);if(C===null?p=f:C.next=T,!Pn(f,t.memoizedState)&&(Ft=!0,K&&(r=Ua,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var n=Lt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Pn(f,n.memoizedState)||(Ft=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function vg(t,n,r){var l=De,h=Lt(),f=Ye;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Pn((ht||h).memoizedState,r);if(p&&(h.memoizedState=r,Ft=!0),h=h.queue,Mf(Tg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},Eg.bind(null,l,h,r,n),null),gt===null)throw Error(a(349));f||(hs&127)!==0||bg(l,n,r)}return r}function bg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=De.updateQueue,n===null?(n=$u(),De.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Eg(t,n,r,l){n.value=r,n.getSnapshot=l,Ag(n)&&Sg(t)}function Tg(t,n,r){return r(function(){Ag(n)&&Sg(t)})}function Ag(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Pn(t,r)}catch{return!0}}function Sg(t){var n=Yr(t,2);n!==null&&kn(n,t,2)}function Df(t){var n=xn();if(typeof t=="function"){var r=t;if(t=r(),ia){Mt(!0);try{r()}finally{Mt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},n}function xg(t,n,r,l){return t.baseState=r,If(t,ht,typeof l=="function"?l:fs)}function PE(t,n,r,l,h){if(tc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,wg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function wg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=r(h,l),C=F.S;C!==null&&C(p,T),Rg(t,n,T)}catch(U){Of(t,n,U)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,l),Rg(t,n,f)}catch(U){Of(t,n,U)}}function Rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Cg(t,n,l)},function(l){return Of(t,n,l)}):Cg(t,n,r)}function Cg(t,n,r){n.status="fulfilled",n.value=r,Ig(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,wg(t,r)))}function Of(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Ig(n),n=n.next;while(n!==l)}t.action=null}function Ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ng(t,n){return n}function Dg(t,n){if(Ye){var r=gt.formState;if(r!==null){e:{var l=De;if(Ye){if(_t){t:{for(var h=_t,f=si;h.nodeType!==8;){if(!f){h=null;break t}if(h=ai(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){_t=ai(h.nextSibling),l=h.data==="F!";break e}}Gs(l)}l=!1}l&&(n=r[0])}}return r=xn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ng,lastRenderedState:n},r.queue=l,r=$g.bind(null,De,l),l.dispatch=r,l=Df(!1),f=Lf.bind(null,De,!1,l.queue),l=xn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=PE.bind(null,De,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Og(t){var n=Lt();return Mg(n,ht,t)}function Mg(t,n,r){if(n=If(t,n,Ng)[0],t=Ju(fs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ao(n)}catch(p){throw p===Pa?qu:p}else l=n;n=Lt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(De.flags|=2048,Fa(9,{destroy:void 0},BE.bind(null,h,r),null)),[l,f,t]}function BE(t,n){t.action=n}function Vg(t){var n=Lt(),r=ht;if(r!==null)return Mg(n,r,t);Lt(),n=n.memoizedState,r=Lt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Fa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=De.updateQueue,n===null&&(n=$u(),De.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function kg(){return Lt().memoizedState}function Wu(t,n,r,l){var h=xn();De.flags|=t,h.memoizedState=Fa(1|n,{destroy:void 0},r,l===void 0?null:l)}function ec(t,n,r,l){var h=Lt();l=l===void 0?null:l;var f=h.memoizedState.inst;ht!==null&&l!==null&&Af(l,ht.memoizedState.deps)?h.memoizedState=Fa(n,f,r,l):(De.flags|=t,h.memoizedState=Fa(1|n,f,r,l))}function zg(t,n){Wu(8390656,8,t,n)}function Mf(t,n){ec(2048,8,t,n)}function qE(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=$u(),De.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function jg(t){var n=Lt().memoizedState;return qE({ref:n,nextImpl:t}),function(){if((it&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lg(t,n){return ec(4,2,t,n)}function Ug(t,n){return ec(4,4,t,n)}function Pg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bg(t,n,r){r=r!=null?r.concat([t]):null,ec(4,4,Pg.bind(null,n,t),r)}function Vf(){}function qg(t,n){var r=Lt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Af(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Hg(t,n){var r=Lt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Af(n,l[1]))return l[0];if(l=t(),ia){Mt(!0);try{t()}finally{Mt(!1)}}return r.memoizedState=[l,n],l}function kf(t,n,r){return r===void 0||(hs&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Gy(),De.lanes|=t,Ws|=t,r)}function Gg(t,n,r,l){return Pn(r,n)?r:qa.current!==null?(t=kf(t,r,l),Pn(t,n)||(Ft=!0),t):(hs&42)===0||(hs&1073741824)!==0&&(qe&261930)===0?(Ft=!0,t.memoizedState=r):(t=Gy(),De.lanes|=t,Ws|=t,n)}function Fg(t,n,r,l,h){var f=re.p;re.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,Lf(t,!1,n,r);try{var C=h(),U=F.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=jE(C,l);lo(t,n,K,Kn(t))}else lo(t,n,l,Kn(t))}catch(Y){lo(t,n,{then:function(){},status:"rejected",reason:Y},Kn())}finally{re.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function HE(){}function zf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Kg(t).queue;Fg(t,h,n,de,r===null?HE:function(){return Qg(t),r(l)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qg(t){var n=Kg(t);n.next===null&&(n=t.alternate.memoizedState),lo(t,n.next.queue,{},Kn())}function jf(){return fn(xo)}function Yg(){return Lt().memoizedState}function Xg(){return Lt().memoizedState}function GE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Kn();t=Qs(r);var l=Ys(n,t,r);l!==null&&(kn(l,n,r),no(l,n,r)),n={cache:ff()},t.payload=n;return}n=n.return}}function FE(t,n,r){var l=Kn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},tc(t)?Zg(n,r):(r=ef(t,n,r,l),r!==null&&(kn(r,t,l),Jg(r,n,l)))}function $g(t,n,r){var l=Kn();lo(t,n,r,l)}function lo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Zg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,Pn(T,p))return ku(t,n,h,0),gt===null&&Vu(),!1}catch{}if(r=ef(t,n,h,l),r!==null)return kn(r,t,l),Jg(r,n,l),!0}return!1}function Lf(t,n,r,l){if(l={lane:2,revertLane:gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(a(479))}else n=ef(t,r,l,2),n!==null&&kn(n,t,2)}function tc(t){var n=t.alternate;return t===De||n!==null&&n===De}function Zg(t,n){Ha=Yu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Jg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Il(t,r)}}var oo={readContext:fn,use:Zu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};oo.useEffectEvent=It;var Wg={readContext:fn,use:Zu,useCallback:function(t,n){return xn().memoizedState=[t,n===void 0?null:n],t},useContext:fn,useEffect:zg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wu(4194308,4,Pg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var r=xn();n=n===void 0?null:n;var l=t();if(ia){Mt(!0);try{t()}finally{Mt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=xn();if(r!==void 0){var h=r(n);if(ia){Mt(!0);try{r(n)}finally{Mt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=FE.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var n=xn();return t={current:t},n.memoizedState=t},useState:function(t){t=Df(t);var n=t.queue,r=$g.bind(null,De,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Vf,useDeferredValue:function(t,n){var r=xn();return kf(r,t,n)},useTransition:function(){var t=Df(!1);return t=Fg.bind(null,De,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=De,h=xn();if(Ye){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),gt===null)throw Error(a(349));(qe&127)!==0||bg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,zg(Tg.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},Eg.bind(null,l,f,r,n),null),r},useId:function(){var t=xn(),n=gt.identifierPrefix;if(Ye){var r=Pi,l=Ui;r=(l&~(1<<32-Je(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Xu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=LE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:jf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var n=xn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Lf.bind(null,De,!0,r),r.dispatch=n,[t,n]},useMemoCache:Cf,useCacheRefresh:function(){return xn().memoizedState=GE.bind(null,De)},useEffectEvent:function(t){var n=xn(),r={impl:t};return n.memoizedState=r,function(){if((it&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Uf={readContext:fn,use:Zu,useCallback:qg,useContext:fn,useEffect:Mf,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:Hg,useReducer:Ju,useRef:kg,useState:function(){return Ju(fs)},useDebugValue:Vf,useDeferredValue:function(t,n){var r=Lt();return Gg(r,ht.memoizedState,t,n)},useTransition:function(){var t=Ju(fs)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:jf,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var r=Lt();return xg(r,ht,t,n)},useMemoCache:Cf,useCacheRefresh:Xg};Uf.useEffectEvent=jg;var ey={readContext:fn,use:Zu,useCallback:qg,useContext:fn,useEffect:Mf,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:Hg,useReducer:Nf,useRef:kg,useState:function(){return Nf(fs)},useDebugValue:Vf,useDeferredValue:function(t,n){var r=Lt();return ht===null?kf(r,t,n):Gg(r,ht.memoizedState,t,n)},useTransition:function(){var t=Nf(fs)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:jf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var r=Lt();return ht!==null?xg(r,ht,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Xg};ey.useEffectEvent=jg;function Pf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Kn(),h=Qs(l);h.payload=n,r!=null&&(h.callback=r),n=Ys(t,h,l),n!==null&&(kn(n,t,l),no(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Kn(),h=Qs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ys(t,h,l),n!==null&&(kn(n,t,l),no(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Kn(),l=Qs(r);l.tag=2,n!=null&&(l.callback=n),n=Ys(t,l,r),n!==null&&(kn(n,t,r),no(n,t,r))}};function ty(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Yl(r,l)||!Yl(h,f):!0}function ny(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Bf.enqueueReplaceState(n,n.state,null)}function sa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function iy(t){Mu(t)}function sy(t){console.error(t)}function ry(t){Mu(t)}function nc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ay(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(t,n,r){return r=Qs(r),r.tag=3,r.payload={element:null},r.callback=function(){nc(t,n)},r}function ly(t){return t=Qs(t),t.tag=3,t}function oy(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ay(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ay(n,r,l),typeof h!="function"&&(er===null?er=new Set([this]):er.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function KE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ja(n,r,h,!0),r=qn.current,r!==null){switch(r.tag){case 31:case 13:return ri===null?mc():r.alternate===null&&Nt===0&&(Nt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),dd(t,l,h)),!1;case 22:return r.flags|=65536,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),dd(t,l,h)),!1}throw Error(a(435,r.tag))}return dd(t,l,h),mc(),!1}if(Ye)return n=qn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==lf&&(t=Error(a(422),{cause:l}),Zl(ti(t,r)))):(l!==lf&&(n=Error(a(423),{cause:l}),Zl(ti(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ti(l,r),h=qf(t.stateNode,l,h),_f(t,h),Nt!==4&&(Nt=2)),!1;var f=Error(a(520),{cause:l});if(f=ti(f,r),yo===null?yo=[f]:yo.push(f),Nt!==4&&(Nt=2),n===null)return!0;l=ti(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=qf(r.stateNode,l,t),_f(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(er===null||!er.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ly(h),oy(h,t,r,l),_f(r,h),!1}r=r.return}while(r!==null);return!1}var Hf=Error(a(461)),Ft=!1;function dn(t,n,r,l){n.child=t===null?fg(n,null,r,l):na(n,t.child,r,l)}function uy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Jr(n),l=Sf(t,n,r,p,f,h),T=xf(),t!==null&&!Ft?(wf(t,n,h),ds(t,n,h)):(Ye&&T&&rf(n),n.flags|=1,dn(t,n,l,h),n.child)}function cy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!tf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,hy(t,n,f,l,h)):(t=ju(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zf(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Yl,r(p,l)&&t.ref===n.ref)return ds(t,n,h)}return n.flags|=1,t=ls(f,l),t.ref=n.ref,t.return=n,n.child=t}function hy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Yl(f,l)&&t.ref===n.ref)if(Ft=!1,n.pendingProps=l=f,Zf(t,h))(t.flags&131072)!==0&&(Ft=!0);else return n.lanes=t.lanes,ds(t,n,h)}return Gf(t,n,r,l,h)}function fy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return dy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?pg(n,f):bf(),gg(n);else return l=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Bu(n,f.cachePool),pg(n,f),$s(),n.memoizedState=null):(t!==null&&Bu(n,null),bf(),$s());return dn(t,n,h,r),n.child}function uo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,r,l,h){var f=mf();return f=f===null?null:{parent:Ht._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Bu(n,null),bf(),gg(n),t!==null&&ja(t,n,l,!0),n.childLanes=h,null}function ic(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,r){return na(n,t.child,null,r),t=ic(n,n.pendingProps),t.flags|=2,Hn(n),n.memoizedState=null,t}function QE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=ic(n,l),n.lanes=536870912,uo(null,t);if(Tf(n),(t=_t)?(t=w0(t,si),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:qs!==null?{id:Ui,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Zp(t),r.return=n,n.child=r,hn=n,_t=null)):t=null,t===null)throw Gs(n);return n.lanes=536870912,null}return ic(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=my(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ft||ja(t,n,r,!1),h=(r&t.childLanes)!==0,Ft||h){if(l=gt,l!==null&&(p=Nl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Yr(t,p),kn(l,t,p),Hf;mc(),n=my(t,n,r)}else t=f.treeContext,_t=ai(p.nextSibling),hn=n,Ye=!0,Hs=null,si=!1,t!==null&&eg(n,t),n=ic(n,l),n.flags|=4096;return n}return t=ls(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Gf(t,n,r,l,h){return Jr(n),r=Sf(t,n,r,l,void 0,h),l=xf(),t!==null&&!Ft?(wf(t,n,h),ds(t,n,h)):(Ye&&l&&rf(n),n.flags|=1,dn(t,n,r,h),n.child)}function py(t,n,r,l,h,f){return Jr(n),n.updateQueue=null,r=_g(n,l,r,h),yg(t),l=xf(),t!==null&&!Ft?(wf(t,n,f),ds(t,n,f)):(Ye&&l&&rf(n),n.flags|=1,dn(t,n,r,f),n.child)}function gy(t,n,r,l,h){if(Jr(n),n.stateNode===null){var f=Ma,p=r.contextType;typeof p=="object"&&p!==null&&(f=fn(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},gf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?fn(p):Ma,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Pf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Bf.enqueueReplaceState(f,f.state,null),so(n,l,f,h),io(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=sa(r,T);f.props=C;var U=f.context,K=r.contextType;p=Ma,typeof K=="object"&&K!==null&&(p=fn(K));var Y=r.getDerivedStateFromProps;K=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==p)&&ny(n,f,l,p),Ks=!1;var B=n.memoizedState;f.state=B,so(n,l,f,h),io(),U=n.memoizedState,T||B!==U||Ks?(typeof Y=="function"&&(Pf(n,r,Y,l),U=n.memoizedState),(C=Ks||ty(n,r,C,l,B,U,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yf(t,n),p=n.memoizedProps,K=sa(r,p),f.props=K,Y=n.pendingProps,B=f.context,U=r.contextType,C=Ma,typeof U=="object"&&U!==null&&(C=fn(U)),T=r.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==C)&&ny(n,f,l,C),Ks=!1,B=n.memoizedState,f.state=B,so(n,l,f,h),io();var H=n.memoizedState;p!==Y||B!==H||Ks||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof T=="function"&&(Pf(n,r,T,l),H=n.memoizedState),(K=Ks||ty(n,r,K,l,B,H,C)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=K):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,sc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=na(n,t.child,null,h),n.child=na(n,null,r,h)):dn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ds(t,n,h),t}function yy(t,n,r,l){return $r(),n.flags|=256,dn(t,n,r,l),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:ag()}}function Qf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Fn),t}function _y(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?Xs(n):$s(),(t=_t)?(t=w0(t,si),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:qs!==null?{id:Ui,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Zp(t),r.return=n,n.child=r,hn=n,_t=null)):t=null,t===null)throw Gs(n);return Id(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?($s(),h=n.mode,T=rc({mode:"hidden",children:T},h),l=Xr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Kf(r),l.childLanes=Qf(t,p,r),n.memoizedState=Ff,uo(null,l)):(Xs(n),Yf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Xs(n),n.flags&=-257,n=Xf(t,n,r)):n.memoizedState!==null?($s(),n.child=t.child,n.flags|=128,n=null):($s(),T=l.fallback,h=n.mode,l=rc({mode:"visible",children:l.children},h),T=Xr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,na(n,t.child,null,r),l=n.child,l.memoizedState=Kf(r),l.childLanes=Qf(t,p,r),n.memoizedState=Ff,n=uo(null,l));else if(Xs(n),Id(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var U=p.dgst;p=U,l=Error(a(419)),l.stack="",l.digest=p,Zl({value:l,source:null,stack:null}),n=Xf(t,n,r)}else if(Ft||ja(t,n,r,!1),p=(r&t.childLanes)!==0,Ft||p){if(p=gt,p!==null&&(l=Nl(p,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Yr(t,l),kn(p,t,l),Hf;Cd(T)||mc(),n=Xf(t,n,r)}else Cd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,_t=ai(T.nextSibling),hn=n,Ye=!0,Hs=null,si=!1,t!==null&&eg(n,t),n=Yf(n,l.children),n.flags|=4096);return n}return h?($s(),T=l.fallback,h=n.mode,C=t.child,U=C.sibling,l=ls(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,U!==null?T=ls(U,T):(T=Xr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,uo(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Kf(r):(h=T.cachePool,h!==null?(C=Ht._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ag(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Qf(t,p,r),n.memoizedState=Ff,uo(t.child,l)):(Xs(n),r=t.child,t=r.sibling,r=ls(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Yf(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=Bn(22,t,null,n),t.lanes=0,t}function Xf(t,n,r){return na(n,t.child,null,r),t=Yf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),cf(t.return,n,r)}function $f(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function by(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=jt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,se(jt,p),dn(t,n,l,r),l=Ye?$l:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,r,n);else if(t.tag===19)vy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),$f(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}$f(n,!0,r,null,f,l);break;case"together":$f(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ds(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ws|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ja(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ls(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ls(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Zf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function YE(t,n,r){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),Fs(n,Ht,t.memoizedState.cache),$r();break;case 27:case 5:Wi(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:Fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?_y(t,n,r):(Xs(n),t=ds(t,n,r),t!==null?t.sibling:null);Xs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ja(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return by(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(jt,jt.current),l)break;return null;case 22:return n.lanes=0,fy(t,n,r,n.pendingProps);case 24:Fs(n,Ht,t.memoizedState.cache)}return ds(t,n,r)}function Ey(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ft=!0;else{if(!Zf(t,r)&&(n.flags&128)===0)return Ft=!1,YE(t,n,r);Ft=(t.flags&131072)!==0}else Ft=!1,Ye&&(n.flags&1048576)!==0&&Wp(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ea(n.elementType),n.type=t,typeof t=="function")tf(t)?(l=sa(t,l),n.tag=1,n=gy(null,n,t,l,r)):(n.tag=0,n=Gf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ue){n.tag=11,n=uy(null,n,t,l,r);break e}else if(h===I){n.tag=14,n=cy(null,n,t,l,r);break e}}throw n=Xe(t)||t,Error(a(306,n,""))}}return n;case 0:return Gf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=sa(l,n.pendingProps),gy(t,n,l,h,r);case 3:e:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,yf(t,n),so(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Fs(n,Ht,l),l!==f.cache&&hf(n,[Ht],r,!0),io(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(t,n,l,r);break e}else if(l!==h){h=ti(Error(a(424)),n),Zl(h),n=yy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,_t=ai(t.firstChild),hn=n,Ye=!0,Hs=null,si=!0,r=fg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($r(),l===h){n=ds(t,n,r);break e}dn(t,n,l,r)}n=n.child}return n;case 26:return sc(t,n),t===null?(r=O0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ye||(r=n.type,t=n.pendingProps,l=Ec(xe.current).createElement(r),l[Pt]=n,l[tn]=t,mn(l,r,t),Bt(l),n.stateNode=l):n.memoizedState=O0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wi(n),t===null&&Ye&&(l=n.stateNode=I0(n.type,n.pendingProps,xe.current),hn=n,si=!0,h=_t,sr(n.type)?(Nd=h,_t=ai(l.firstChild)):_t=h),dn(t,n,n.pendingProps.children,r),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=l=_t)&&(l=ST(l,n.type,n.pendingProps,si),l!==null?(n.stateNode=l,hn=n,_t=ai(l.firstChild),si=!1,h=!0):h=!1),h||Gs(n)),Wi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,xd(h,f)?l=null:p!==null&&xd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Sf(t,n,UE,null,null,r),xo._currentValue=h),sc(t,n),dn(t,n,l,r),n.child;case 6:return t===null&&Ye&&((t=r=_t)&&(r=xT(r,n.pendingProps,si),r!==null?(n.stateNode=r,hn=n,_t=null,t=!0):t=!1),t||Gs(n)),null;case 13:return _y(t,n,r);case 4:return Ot(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=na(n,null,l,r):dn(t,n,l,r),n.child;case 11:return uy(t,n,n.type,n.pendingProps,r);case 7:return dn(t,n,n.pendingProps,r),n.child;case 8:return dn(t,n,n.pendingProps.children,r),n.child;case 12:return dn(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fs(n,n.type,l.value),dn(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=fn(h),l=l(h),n.flags|=1,dn(t,n,l,r),n.child;case 14:return cy(t,n,n.type,n.pendingProps,r);case 15:return hy(t,n,n.type,n.pendingProps,r);case 19:return by(t,n,r);case 31:return QE(t,n,r);case 22:return fy(t,n,r,n.pendingProps);case 24:return Jr(n),l=fn(Ht),t===null?(h=mf(),h===null&&(h=gt,f=ff(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},gf(n),Fs(n,Ht,h)):((t.lanes&r)!==0&&(yf(t,n),so(n,null,null,r),io()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Fs(n,Ht,l)):(l=f.cache,Fs(n,Ht,l),l!==h.cache&&hf(n,[Ht],r,!0))),dn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ms(t){t.flags|=4}function Jf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw ta=Hu,pf}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!j0(n))if(Yy())t.flags|=8192;else throw ta=Hu,pf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fu():536870912,t.lanes|=n,Xa|=n)}function co(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function vt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function XE(t,n,r){var l=n.pendingProps;switch(af(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(n),null;case 1:return vt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),cs(Ht),mt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(za(n)?ms(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,of())),vt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ms(n),f!==null?(vt(n),Ty(n,f)):(vt(n),Jf(n,h,null,l,r))):f?f!==t.memoizedState?(ms(n),vt(n),Ty(n,f)):(vt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ms(n),vt(n),Jf(n,h,t,l,r)),null;case 27:if(es(n),r=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ms(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return vt(n),null}t=ae.current,za(n)?tg(n):(t=I0(h,l,r),n.stateNode=t,ms(n))}return vt(n),null;case 5:if(es(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ms(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return vt(n),null}if(f=ae.current,za(n))tg(n);else{var p=Ec(xe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Pt]=n,f[tn]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(mn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ms(n)}}return vt(n),Jf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ms(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=xe.current,za(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||_0(t.nodeValue,r)),t||Gs(n,!0)}else t=Ec(t).createTextNode(l),t[Pt]=n,n.stateNode=t}return vt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=za(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Pt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),t=!1}else r=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Hn(n),n):(Hn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return vt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=za(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Pt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;vt(n),h=!1}else h=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Hn(n),n):(Hn(n),null)}return Hn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ac(n,n.updateQueue),vt(n),null);case 4:return mt(),t===null&&bd(n.stateNode.containerInfo),vt(n),null;case 10:return cs(n.type),vt(n),null;case 19:if(P(jt),l=n.memoizedState,l===null)return vt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)co(l,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,co(l,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)$p(r,t),r=r.sibling;return se(jt,jt.current&1|2),Ye&&os(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Me()>hc&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ye)return vt(n),null}else 2*Me()-l.renderingStartTime>hc&&r!==536870912&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Me(),t.sibling=null,r=jt.current,se(jt,h?r&1|2:r&1),Ye&&os(n,l.treeForkCount),t):(vt(n),null);case 22:case 23:return Hn(n),Ef(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(vt(n),n.subtreeFlags&6&&(n.flags|=8192)):vt(n),r=n.updateQueue,r!==null&&ac(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&P(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),cs(Ht),vt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function $E(t,n){switch(af(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return cs(Ht),mt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return es(n),null;case 31:if(n.memoizedState!==null){if(Hn(n),n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Hn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return P(jt),null;case 4:return mt(),null;case 10:return cs(n.type),null;case 22:case 23:return Hn(n),Ef(),t!==null&&P(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return cs(Ht),null;case 25:return null;default:return null}}function Ay(t,n){switch(af(n),n.tag){case 3:cs(Ht),mt();break;case 26:case 27:case 5:es(n);break;case 4:mt();break;case 31:n.memoizedState!==null&&Hn(n);break;case 13:Hn(n);break;case 19:P(jt);break;case 10:cs(n.type);break;case 22:case 23:Hn(n),Ef(),t!==null&&P(Wr);break;case 24:cs(Ht)}}function ho(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(T){lt(n,n.return,T)}}function Zs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=r,U=T;try{U()}catch(K){lt(h,C,K)}}}l=l.next}while(l!==f)}}catch(K){lt(n,n.return,K)}}function Sy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{mg(n,r)}catch(l){lt(t,t.return,l)}}}function xy(t,n,r){r.props=sa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){lt(t,n,l)}}function fo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){lt(t,n,h)}}function Bi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){lt(t,n,h)}else r.current=null}function wy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){lt(t,t.return,h)}}function Wf(t,n,r){try{var l=t.stateNode;_T(l,t.type,r,n),l[tn]=n}catch(h){lt(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&sr(t.type)||t.tag===4}function ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fi));else if(l!==4&&(l===27&&sr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(td(t,n,r),t=t.sibling;t!==null;)td(t,n,r),t=t.sibling}function lc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&sr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lc(t,n,r),t=t.sibling;t!==null;)lc(t,n,r),t=t.sibling}function Cy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);mn(n,l,r),n[Pt]=t,n[tn]=r}catch(f){lt(t,t.return,f)}}var ps=!1,Kt=!1,nd=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,sn=null;function ZE(t,n){if(t=t.containerInfo,Ad=Cc,t=Bp(t),Yh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,C=-1,U=0,K=0,Y=t,B=null;t:for(;;){for(var H;Y!==r||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||l!==0&&Y.nodeType!==3||(C=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===t)break t;if(B===r&&++U===h&&(T=p),B===f&&++K===l&&(C=p),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sd={focusedElem:t,selectionRange:r},Cc=!1,sn=n;sn!==null;)if(n=sn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,sn=t;else for(;sn!==null;){switch(n=sn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ce=sa(r.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){lt(r,r.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Rd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,sn=t;break}sn=n.return}}function Ny(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ys(t,r),l&4&&ho(5,r);break;case 1:if(ys(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){lt(r,r.return,p)}else{var h=sa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){lt(r,r.return,p)}}l&64&&Sy(r),l&512&&fo(r,r.return);break;case 3:if(ys(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{mg(t,n)}catch(p){lt(r,r.return,p)}}break;case 27:n===null&&l&4&&Cy(r);case 26:case 5:ys(t,r),n===null&&l&4&&wy(r),l&512&&fo(r,r.return);break;case 12:ys(t,r);break;case 31:ys(t,r),l&4&&My(t,r);break;case 13:ys(t,r),l&4&&Vy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=aT.bind(null,r),wT(t,r))));break;case 22:if(l=r.memoizedState!==null||ps,!l){n=n!==null&&n.memoizedState!==null||Kt,h=ps;var f=Kt;ps=l,(Kt=n)&&!f?_s(t,r,(r.subtreeFlags&8772)!==0):ys(t,r),ps=h,Kt=f}break;case 30:break;default:ys(t,r)}}function Dy(t){var n=t.alternate;n!==null&&(t.alternate=null,Dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,Dn=!1;function gs(t,n,r){for(r=r.child;r!==null;)Oy(t,n,r),r=r.sibling}function Oy(t,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(we,r)}catch{}switch(r.tag){case 26:Kt||Bi(r,n),gs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Kt||Bi(r,n);var l=Tt,h=Dn;sr(r.type)&&(Tt=r.stateNode,Dn=!1),gs(t,n,r),To(r.stateNode),Tt=l,Dn=h;break;case 5:Kt||Bi(r,n);case 6:if(l=Tt,h=Dn,Tt=null,gs(t,n,r),Tt=l,Dn=h,Tt!==null)if(Dn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(r.stateNode)}catch(f){lt(r,n,f)}else try{Tt.removeChild(r.stateNode)}catch(f){lt(r,n,f)}break;case 18:Tt!==null&&(Dn?(t=Tt,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),il(t)):S0(Tt,r.stateNode));break;case 4:l=Tt,h=Dn,Tt=r.stateNode.containerInfo,Dn=!0,gs(t,n,r),Tt=l,Dn=h;break;case 0:case 11:case 14:case 15:Zs(2,r,n),Kt||Zs(4,r,n),gs(t,n,r);break;case 1:Kt||(Bi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&xy(r,n,l)),gs(t,n,r);break;case 21:gs(t,n,r);break;case 22:Kt=(l=Kt)||r.memoizedState!==null,gs(t,n,r),Kt=l;break;default:gs(t,n,r)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{il(t)}catch(r){lt(n,n.return,r)}}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{il(t)}catch(r){lt(n,n.return,r)}}function JE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Iy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Iy),n;default:throw Error(a(435,t.tag))}}function oc(t,n){var r=JE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=lT.bind(null,t,l);l.then(h,h)}})}function On(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(sr(T.type)){Tt=T.stateNode,Dn=!1;break e}break;case 5:Tt=T.stateNode,Dn=!1;break e;case 3:case 4:Tt=T.stateNode.containerInfo,Dn=!0;break e}T=T.return}if(Tt===null)throw Error(a(160));Oy(f,p,h),Tt=null,Dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var _i=null;function ky(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(n,t),Mn(t),l&4&&(Zs(3,t,t.return),ho(3,t),Zs(5,t,t.return));break;case 1:On(n,t),Mn(t),l&512&&(Kt||r===null||Bi(r,r.return)),l&64&&ps&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=_i;if(On(n,t),Mn(t),l&512&&(Kt||r===null||Bi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),mn(f,l,r),f[Pt]=t,Bt(f),l=f;break e;case"link":var p=k0("link","href",h).get(l+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),mn(f,l,r),h.head.appendChild(f);break;case"meta":if(p=k0("meta","content",h).get(l+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(l),mn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Pt]=t,Bt(f),l=f}t.stateNode=l}else z0(h,t.type,t.stateNode);else t.stateNode=V0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?z0(h,t.type,t.stateNode):V0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,r.memoizedProps)}break;case 27:On(n,t),Mn(t),l&512&&(Kt||r===null||Bi(r,r.return)),r!==null&&l&4&&Wf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(On(n,t),Mn(t),l&512&&(Kt||r===null||Bi(r,r.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(ce){lt(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Wf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(On(n,t),Mn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ce){lt(t,t.return,ce)}}break;case 3:if(Sc=null,h=_i,_i=Tc(n.containerInfo),On(n,t),_i=h,Mn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{il(n.containerInfo)}catch(ce){lt(t,t.return,ce)}nd&&(nd=!1,zy(t));break;case 4:l=_i,_i=Tc(t.stateNode.containerInfo),On(n,t),Mn(t),_i=l;break;case 12:On(n,t),Mn(t);break;case 31:On(n,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 13:On(n,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cc=Me()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,U=ps,K=Kt;if(ps=U||h,Kt=K||C,On(n,t),Kt=K,ps=U,Mn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||ps||Kt||ra(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){lt(C,C.return,ce)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){lt(C,C.return,ce)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?x0(H,!0):x0(C.stateNode,!1)}catch(ce){lt(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,oc(t,r))));break;case 19:On(n,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 30:break;case 21:break;default:On(n,t),Mn(t)}}function Mn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ry(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=ed(t);lc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(Nn(p,""),r.flags&=-33);var T=ed(t);lc(t,T,p);break;case 3:case 4:var C=r.stateNode.containerInfo,U=ed(t);td(t,U,C);break;default:throw Error(a(161))}}catch(K){lt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ys(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ny(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Zs(4,n,n.return),ra(n);break;case 1:Bi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&xy(n,n.return,r),ra(n);break;case 27:To(n.stateNode);case 26:case 5:Bi(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function _s(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:_s(h,f,r),ho(4,f);break;case 1:if(_s(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){lt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)dg(C[h],T)}catch(U){lt(l,l.return,U)}}r&&p&64&&Sy(f),fo(f,f.return);break;case 27:Cy(f);case 26:case 5:_s(h,f,r),r&&l===null&&p&4&&wy(f),fo(f,f.return);break;case 12:_s(h,f,r);break;case 31:_s(h,f,r),r&&p&4&&My(h,f);break;case 13:_s(h,f,r),r&&p&4&&Vy(h,f);break;case 22:f.memoizedState===null&&_s(h,f,r),fo(f,f.return);break;case 30:break;default:_s(h,f,r)}n=n.sibling}}function id(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Jl(r))}function sd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t))}function vi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jy(t,n,r,l),n=n.sibling}function jy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,r,l),h&2048&&ho(9,n);break;case 1:vi(t,n,r,l);break;case 3:vi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t)));break;case 12:if(h&2048){vi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){lt(n,n.return,C)}}else vi(t,n,r,l);break;case 31:vi(t,n,r,l);break;case 13:vi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?vi(t,n,r,l):mo(t,n):f._visibility&2?vi(t,n,r,l):(f._visibility|=2,Ka(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&id(p,n);break;case 24:vi(t,n,r,l),h&2048&&sd(n.alternate,n);break;default:vi(t,n,r,l)}}function Ka(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,C=l,U=p.flags;switch(p.tag){case 0:case 11:case 15:Ka(f,p,T,C,h),ho(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Ka(f,p,T,C,h):mo(f,p):(K._visibility|=2,Ka(f,p,T,C,h)),h&&U&2048&&id(p.alternate,p);break;case 24:Ka(f,p,T,C,h),h&&U&2048&&sd(p.alternate,p);break;default:Ka(f,p,T,C,h)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:mo(r,l),h&2048&&id(l.alternate,l);break;case 24:mo(r,l),h&2048&&sd(l.alternate,l);break;default:mo(r,l)}n=n.sibling}}var po=8192;function Qa(t,n,r){if(t.subtreeFlags&po)for(t=t.child;t!==null;)Ly(t,n,r),t=t.sibling}function Ly(t,n,r){switch(t.tag){case 26:Qa(t,n,r),t.flags&po&&t.memoizedState!==null&&LT(r,_i,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,r);break;case 3:case 4:var l=_i;_i=Tc(t.stateNode.containerInfo),Qa(t,n,r),_i=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=po,po=16777216,Qa(t,n,r),po=l):Qa(t,n,r));break;default:Qa(t,n,r)}}function Uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function go(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];sn=l,By(l,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&Zs(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):go(t);break;default:go(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];sn=l,By(l,t)}Uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Zs(8,n,n.return),uc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function By(t,n){for(;sn!==null;){var r=sn;switch(r.tag){case 0:case 11:case 15:Zs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,sn=l;else e:for(r=t;sn!==null;){l=sn;var h=l.sibling,f=l.return;if(Dy(l),l===r){sn=null;break e}if(h!==null){h.return=f,sn=h;break e}sn=f}}}var WE={getCacheForType:function(t){var n=fn(Ht),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return fn(Ht).controller.signal}},eT=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,ze=null,qe=0,at=0,Gn=null,Js=!1,Ya=!1,rd=!1,vs=0,Nt=0,Ws=0,aa=0,ad=0,Fn=0,Xa=0,yo=null,Vn=null,ld=!1,cc=0,qy=0,hc=1/0,fc=null,er=null,$t=0,tr=null,$a=null,bs=0,od=0,ud=null,Hy=null,_o=0,cd=null;function Kn(){return(it&2)!==0&&qe!==0?qe&-qe:F.T!==null?gd():du()}function Gy(){if(Fn===0)if((qe&536870912)===0||Ye){var t=Wt;Wt<<=1,(Wt&3932160)===0&&(Wt=262144),Fn=t}else Fn=536870912;return t=qn.current,t!==null&&(t.flags|=32),Fn}function kn(t,n,r){(t===gt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Za(t,0),nr(t,qe,Fn,!1)),Vr(t,r),((it&2)===0||t!==gt)&&(t===gt&&((it&2)===0&&(aa|=r),Nt===4&&nr(t,qe,Fn,!1)),qi(t))}function Fy(t,n,r){if((it&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||en(t,n),h=l?iT(t,n):fd(t,n,!0),f=l;do{if(h===0){Ya&&!l&&nr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!tT(r)){h=fd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=yo;var C=T.current.memoizedState.isDehydrated;if(C&&(Za(T,p).flags|=256),p=fd(T,p,!1),p!==2){if(rd&&!C){T.errorRecoveryDisabledLanes|=f,aa|=f,h=4;break e}f=Vn,Vn=h,f!==null&&(Vn===null?Vn=f:Vn.push.apply(Vn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Za(t,0),nr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:nr(l,n,Fn,!Js);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=cc+300-Me(),10<h)){if(nr(l,n,Fn,!Js),Ct(l,0,!0)!==0)break e;bs=n,l.timeoutHandle=T0(Ky.bind(null,l,r,Vn,fc,ld,n,Fn,aa,Xa,Js,f,"Throttled",-0,0),h);break e}Ky(l,r,Vn,fc,ld,n,Fn,aa,Xa,Js,f,null,-0,0)}}break}while(!0);qi(t)}function Ky(t,n,r,l,h,f,p,T,C,U,K,Y,B,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Ly(n,f,Y);var ce=(f&62914560)===f?cc-Me():(f&4194048)===f?qy-Me():0;if(ce=UT(Y,ce),ce!==null){bs=f,t.cancelPendingCommit=ce(e0.bind(null,t,n,f,r,l,h,p,T,C,K,Y,null,B,H)),nr(t,f,p,!U);return}}e0(t,n,f,r,l,h,p,T,C)}function tT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Pn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nr(t,n,r,l){n&=~ad,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Je(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&kr(t,r,n)}function dc(){return(it&6)===0?(vo(0),!1):!0}function hd(){if(ze!==null){if(at===0)var t=ze.return;else t=ze,us=Zr=null,Rf(t),Ba=null,eo=0,t=ze;for(;t!==null;)Ay(t.alternate,t),t=t.return;ze=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ET(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),bs=0,hd(),gt=t,ze=r=ls(t.current,null),qe=n,at=0,Gn=null,Js=!1,Ya=en(t,n),rd=!1,Xa=Fn=ad=aa=Ws=Nt=0,Vn=yo=null,ld=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Je(l),f=1<<h;n|=t[h],l&=~f}return vs=n,Vu(),r}function Qy(t,n){De=null,F.H=oo,n===Pa||n===qu?(n=ug(),at=3):n===pf?(n=ug(),at=4):at=n===Hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gn=n,ze===null&&(Nt=1,nc(t,ti(n,t.current)))}function Yy(){var t=qn.current;return t===null?!0:(qe&4194048)===qe?ri===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ri:!1}function Xy(){var t=F.H;return F.H=oo,t===null?oo:t}function $y(){var t=F.A;return F.A=WE,t}function mc(){Nt=4,Js||(qe&4194048)!==qe&&qn.current!==null||(Ya=!0),(Ws&134217727)===0&&(aa&134217727)===0||gt===null||nr(gt,qe,Fn,!1)}function fd(t,n,r){var l=it;it|=2;var h=Xy(),f=$y();(gt!==t||qe!==n)&&(fc=null,Za(t,n)),n=!1;var p=Nt;e:do try{if(at!==0&&ze!==null){var T=ze,C=Gn;switch(at){case 8:hd(),p=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(n=!0);var U=at;if(at=0,Gn=null,Ja(t,T,C,U),r&&Ya){p=0;break e}break;default:U=at,at=0,Gn=null,Ja(t,T,C,U)}}nT(),p=Nt;break}catch(K){Qy(t,K)}while(!0);return n&&t.shellSuspendCounter++,us=Zr=null,it=l,F.H=h,F.A=f,ze===null&&(gt=null,qe=0,Vu()),p}function nT(){for(;ze!==null;)Zy(ze)}function iT(t,n){var r=it;it|=2;var l=Xy(),h=$y();gt!==t||qe!==n?(fc=null,hc=Me()+500,Za(t,n)):Ya=en(t,n);e:do try{if(at!==0&&ze!==null){n=ze;var f=Gn;t:switch(at){case 1:at=0,Gn=null,Ja(t,n,f,1);break;case 2:case 9:if(lg(f)){at=0,Gn=null,Jy(n);break}n=function(){at!==2&&at!==9||gt!==t||(at=7),qi(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:lg(f)?(at=0,Gn=null,Jy(n)):(at=0,Gn=null,Ja(t,n,f,7));break;case 5:var p=null;switch(ze.tag){case 26:p=ze.memoizedState;case 5:case 27:var T=ze;if(p?j0(p):T.stateNode.complete){at=0,Gn=null;var C=T.sibling;if(C!==null)ze=C;else{var U=T.return;U!==null?(ze=U,pc(U)):ze=null}break t}}at=0,Gn=null,Ja(t,n,f,5);break;case 6:at=0,Gn=null,Ja(t,n,f,6);break;case 8:hd(),Nt=6;break e;default:throw Error(a(462))}}sT();break}catch(K){Qy(t,K)}while(!0);return us=Zr=null,F.H=l,F.A=h,it=r,ze!==null?0:(gt=null,qe=0,Vu(),Nt)}function sT(){for(;ze!==null&&!J();)Zy(ze)}function Zy(t){var n=Ey(t.alternate,t,vs);t.memoizedProps=t.pendingProps,n===null?pc(t):ze=n}function Jy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=py(r,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=py(r,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:Rf(n);default:Ay(r,n),n=ze=$p(n,vs),n=Ey(r,n,vs)}t.memoizedProps=t.pendingProps,n===null?pc(t):ze=n}function Ja(t,n,r,l){us=Zr=null,Rf(n),Ba=null,eo=0;var h=n.return;try{if(KE(t,h,n,r,qe)){Nt=1,nc(t,ti(r,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;Nt=1,nc(t,ti(r,t.current)),ze=null;return}n.flags&32768?(Ye||l===1?t=!0:Ya||(qe&536870912)!==0?t=!1:(Js=t=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wy(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Wy(n,Js);return}t=n.return;var r=XE(n.alternate,n,vs);if(r!==null){ze=r;return}if(n=n.sibling,n!==null){ze=n;return}ze=n=t}while(n!==null);Nt===0&&(Nt=5)}function Wy(t,n){do{var r=$E(t.alternate,t);if(r!==null){r.flags&=32767,ze=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ze=t;return}ze=t=r}while(t!==null);Nt=6,ze=null}function e0(t,n,r,l,h,f,p,T,C){t.cancelPendingCommit=null;do gc();while($t!==0);if((it&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Wh,Gh(t,r,f,p,T,C),t===gt&&(ze=gt=null,qe=0),$a=n,tr=t,bs=r,od=f,ud=h,Hy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,oT(he,function(){return r0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=re.p,re.p=2,p=it,it|=4;try{ZE(t,n,r)}finally{it=p,re.p=h,F.T=l}}$t=1,t0(),n0(),i0()}}function t0(){if($t===1){$t=0;var t=tr,n=$a,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=re.p;re.p=2;var h=it;it|=4;try{ky(n,t);var f=Sd,p=Bp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Pp(T.ownerDocument.documentElement,T)){if(C!==null&&Yh(T)){var U=C.start,K=C.end;if(K===void 0&&(K=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(K,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),ce=T.textContent.length,Ee=Math.min(C.start,ce),dt=C.end===void 0?Ee:Math.min(C.end,ce);!H.extend&&Ee>dt&&(p=dt,dt=Ee,Ee=p);var z=Up(T,Ee),O=Up(T,dt);if(z&&O&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(z.node,z.offset),H.removeAllRanges(),Ee>dt?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Cc=!!Ad,Sd=Ad=null}finally{it=h,re.p=l,F.T=r}}t.current=n,$t=2}}function n0(){if($t===2){$t=0;var t=tr,n=$a,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=re.p;re.p=2;var h=it;it|=4;try{Ny(t,n.alternate,n)}finally{it=h,re.p=l,F.T=r}}$t=3}}function i0(){if($t===4||$t===3){$t=0,ue();var t=tr,n=$a,r=bs,l=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,$a=tr=null,s0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(er=null),is(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(we,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=re.p,re.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,re.p=h}}(bs&3)!==0&&gc(),qi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===cd?_o++:(_o=0,cd=t):_o=0,vo(0)}}function s0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jl(n)))}function gc(){return t0(),n0(),i0(),r0()}function r0(){if($t!==5)return!1;var t=tr,n=od;od=0;var r=is(bs),l=F.T,h=re.p;try{re.p=32>r?32:r,F.T=null,r=ud,ud=null;var f=tr,p=bs;if($t=0,$a=tr=null,bs=0,(it&6)!==0)throw Error(a(331));var T=it;if(it|=4,Py(f.current),jy(f,f.current,p,r),it=T,vo(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(we,f)}catch{}return!0}finally{re.p=h,F.T=l,s0(t,n)}}function a0(t,n,r){n=ti(r,n),n=qf(t.stateNode,n,2),t=Ys(t,n,2),t!==null&&(Vr(t,2),qi(t))}function lt(t,n,r){if(t.tag===3)a0(t,t,r);else for(;n!==null;){if(n.tag===3){a0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(er===null||!er.has(l))){t=ti(r,t),r=ly(2),l=Ys(n,r,2),l!==null&&(oy(r,l,n,t),Vr(l,2),qi(l));break}}n=n.return}}function dd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new eT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(rd=!0,h.add(r),t=rT.bind(null,t,n,r),n.then(t,t))}function rT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,gt===t&&(qe&r)===r&&(Nt===4||Nt===3&&(qe&62914560)===qe&&300>Me()-cc?(it&2)===0&&Za(t,0):ad|=r,Xa===qe&&(Xa=0)),qi(t)}function l0(t,n){n===0&&(n=fu()),t=Yr(t,n),t!==null&&(Vr(t,n),qi(t))}function aT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),l0(t,r)}function lT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),l0(t,r)}function oT(t,n){return ne(t,n)}var yc=null,Wa=null,md=!1,_c=!1,pd=!1,ir=0;function qi(t){t!==Wa&&t.next===null&&(Wa===null?yc=Wa=t:Wa=Wa.next=t),_c=!0,md||(md=!0,cT())}function vo(t,n){if(!pd&&_c){pd=!0;do for(var r=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Je(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,h0(l,f))}else f=qe,f=Ct(l,l===gt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||en(l,f)||(r=!0,h0(l,f));l=l.next}while(r);pd=!1}}function uT(){o0()}function o0(){_c=md=!1;var t=0;ir!==0&&bT()&&(t=ir);for(var n=Me(),r=null,l=yc;l!==null;){var h=l.next,f=u0(l,n);f===0?(l.next=null,r===null?yc=h:r.next=h,h===null&&(Wa=r)):(r=l,(t!==0||(f&3)!==0)&&(_c=!0)),l=h}$t!==0&&$t!==5||vo(t),ir!==0&&(ir=0)}function u0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Je(f),T=1<<p,C=h[p];C===-1?((T&r)===0||(T&l)!==0)&&(h[p]=ya(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=gt,r=qe,r=Ct(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ve(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||en(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ve(l),is(r)){case 2:case 8:r=un;break;case 32:r=he;break;case 268435456:r=St;break;default:r=he}return l=c0.bind(null,t),r=ne(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ve(l),t.callbackPriority=2,t.callbackNode=null,2}function c0(t,n){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gc()&&t.callbackNode!==r)return null;var l=qe;return l=Ct(t,t===gt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Fy(t,l,n),u0(t,Me()),t.callbackNode!=null&&t.callbackNode===r?c0.bind(null,t):null)}function h0(t,n){if(gc())return null;Fy(t,n,!0)}function cT(){TT(function(){(it&6)!==0?ne(Xn,uT):o0()})}function gd(){if(ir===0){var t=La;t===0&&(t=pt,pt<<=1,(pt&261888)===0&&(pt=256)),ir=t}return ir}function f0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function d0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function hT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=f0((h[tn]||null).action),p=l.submitter;p&&(n=(n=p[tn]||null)?f0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new ki("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var C=p?d0(h,p):new FormData(h);zf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?d0(h,p):new FormData(h),zf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var yd=0;yd<Jh.length;yd++){var _d=Jh[yd],fT=_d.toLowerCase(),dT=_d[0].toUpperCase()+_d.slice(1);yi(fT,"on"+dT)}yi(Gp,"onAnimationEnd"),yi(Fp,"onAnimationIteration"),yi(Kp,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(IE,"onTransitionRun"),yi(NE,"onTransitionStart"),yi(DE,"onTransitionCancel"),yi(Qp,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function m0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(K){Mu(K)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(T=l[p],C=T.instance,U=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(K){Mu(K)}h.currentTarget=null,f=C}}}}function je(t,n){var r=n[_a];r===void 0&&(r=n[_a]=new Set);var l=t+"__bubble";r.has(l)||(p0(n,t,2,!1),r.add(l))}function vd(t,n,r){var l=0;n&&(l|=4),p0(r,t,l,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[vc]){t[vc]=!0,Dl.forEach(function(r){r!=="selectionchange"&&(mT.has(r)||vd(r,!1,t),vd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,vd("selectionchange",!1,n))}}function p0(t,n,r,l){switch(G0(n)){case 2:var h=qT;break;case 8:h=HT;break;default:h=kd}r=h.bind(null,n,r,t),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Ed(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ci(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue e}T=T.parentNode}}l=l.return}Ls(function(){var U=f,K=Zn(r),Y=[];e:{var B=Yp.get(t);if(B!==void 0){var H=ki,ce=t;switch(t){case"keypress":if(qr(r)===0)break e;case"keydown":case"keyup":H=Nu;break;case"focusin":ce="focus",H=Gr;break;case"focusout":ce="blur",H=Gr;break;case"beforeblur":case"afterblur":H=Gr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Gp:case Fp:case Kp:H=Au;break;case Qp:H=A;break;case"scroll":case"scrollend":H=Hl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=as;break;case"toggle":case"beforetoggle":H=Ne}var Ee=(n&4)!==0,dt=!Ee&&(t==="scroll"||t==="scrollend"),z=Ee?B!==null?B+"Capture":null:B;Ee=[];for(var O=U,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||z===null||(Q=di(O,z),Q!=null&&Ee.push(Eo(O,Q,L))),dt)break;O=O.return}0<Ee.length&&(B=new H(B,ce,null,r,K),Y.push({event:B,listeners:Ee}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==Pl&&(ce=r.relatedTarget||r.fromElement)&&(Ci(ce)||ce[wi]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ce=r.relatedTarget||r.toElement,H=U,ce=ce?Ci(ce):null,ce!==null&&(dt=c(ce),Ee=ce.tag,ce!==dt||Ee!==5&&Ee!==27&&Ee!==6)&&(ce=null)):(H=null,ce=U),H!==ce)){if(Ee=Gl,Q="onMouseLeave",z="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=as,Q="onPointerLeave",z="onPointerEnter",O="pointer"),dt=H==null?B:Ln(H),L=ce==null?B:Ln(ce),B=new Ee(Q,O+"leave",H,r,K),B.target=dt,B.relatedTarget=L,Q=null,Ci(K)===U&&(Ee=new Ee(z,O+"enter",ce,r,K),Ee.target=L,Ee.relatedTarget=dt,Q=Ee),dt=Q,H&&ce)t:{for(Ee=pT,z=H,O=ce,L=0,Q=z;Q;Q=Ee(Q))L++;Q=0;for(var ye=O;ye;ye=Ee(ye))Q++;for(;0<L-Q;)z=Ee(z),L--;for(;0<Q-L;)O=Ee(O),Q--;for(;L--;){if(z===O||O!==null&&z===O.alternate){Ee=z;break t}z=Ee(z),O=Ee(O)}Ee=null}else Ee=null;H!==null&&g0(Y,B,H,Ee,!1),ce!==null&&dt!==null&&g0(Y,dt,ce,Ee,!0)}}e:{if(B=U?Ln(U):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var We=Mp;else if(Dp(B))if(Vp)We=wE;else{We=SE;var fe=AE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&Ta(U.elementType)&&(We=Mp):We=xE;if(We&&(We=We(t,U))){Op(Y,We,r,K);break e}fe&&fe(t,B,U),t==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&jl(B,"number",B.value)}switch(fe=U?Ln(U):window,t){case"focusin":(Dp(fe)||fe.contentEditable==="true")&&(Na=fe,Xh=U,Xl=null);break;case"focusout":Xl=Xh=Na=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,qp(Y,r,K);break;case"selectionchange":if(CE)break;case"keydown":case"keyup":qp(Y,r,K)}var Oe;if(nt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ia?Fr(t,r)&&(He="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(He="onCompositionStart");He&&(Li&&r.locale!=="ko"&&(Ia||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ia&&(Oe=ql()):(Vi=K,Bl="value"in Vi?Vi.value:Vi.textContent,Ia=!0)),fe=bc(U,He),0<fe.length&&(He=new ji(He,t,null,r,K),Y.push({event:He,listeners:fe}),Oe?He.data=Oe:(Oe=Ca(r),Oe!==null&&(He.data=Oe)))),(Oe=Wn?vE(t,r):bE(t,r))&&(He=bc(U,"onBeforeInput"),0<He.length&&(fe=new ji("onBeforeInput","beforeinput",null,r,K),Y.push({event:fe,listeners:He}),fe.data=Oe)),hT(Y,t,U,r,K)}m0(Y,n)})}function Eo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function bc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(t,r),h!=null&&l.unshift(Eo(t,h,f)),h=di(t,n),h!=null&&l.push(Eo(t,h,f))),t.tag===3)return l;t=t.return}return[]}function pT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var T=r,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=di(r,f),U!=null&&p.unshift(Eo(r,U,C))):h||(U=di(r,f),U!=null&&p.push(Eo(r,U,C)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var gT=/\r\n?/g,yT=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(gT,`
`).replace(yT,"")}function _0(t,n){return n=y0(n),y0(t)===n}function ft(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Nn(t,""+l);break;case"className":Un(t,"class",l);break;case"tabIndex":Un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(t,r,l);break;case"style":Ul(t,l,f);break;case"data":if(n!=="object"){Un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ft(t,n,"name",h.name,h,null),ft(t,n,"formEncType",h.formEncType,h,null),ft(t,n,"formMethod",h.formMethod,h,null),ft(t,n,"formTarget",h.formTarget,h,null)):(ft(t,n,"encType",h.encType,h,null),ft(t,n,"method",h.method,h,null),ft(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Aa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=fi);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":je("beforetoggle",t),je("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bu.get(r)||r,ba(t,r,l))}}function Td(t,n,r,l,h,f){switch(r){case"style":Ul(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[tn]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ba(t,r,l)}}}function mn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(t,n,f,p,r,null)}}h&&ft(t,n,"srcSet",r.srcSet,r,null),l&&ft(t,n,"src",r.src,r,null);return;case"input":je("invalid",t);var T=f=p=h=null,C=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":h=K;break;case"type":p=K;break;case"checked":C=K;break;case"defaultChecked":U=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:ft(t,n,l,K,r,null)}}yu(t,f,T,C,U,p,h,!1);return;case"select":je("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:ft(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!l,n!=null?Vs(t,!!l,n,!1):r!=null&&Vs(t,!!l,r,!0);return;case"textarea":je("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ft(t,n,p,T,r,null)}ks(t,l,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ft(t,n,C,l,r,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<bo.length;l++)je(bo[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(t,n,U,l,r,null)}return;default:if(Ta(n)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&Td(t,n,K,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&ft(t,n,T,l,r,null))}function _T(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,U=null,K=null;for(H in r){var Y=r[H];if(r.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||ft(t,n,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":K=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&ft(t,n,B,H,l,Y)}}Ea(t,p,T,C,U,K,f,h);return;case"select":H=p=T=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||ft(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&ft(t,n,h,f,l,C)}n=T,r=p,l=H,B!=null?Vs(t,!!r,B,!1):!!l!=!!r&&(n!=null?Vs(t,!!r,n,!0):Vs(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ft(t,n,p,h,l,f)}_u(t,B,H);return;case"option":for(var ce in r)B=r[ce],r.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:ft(t,n,ce,null,l,B));for(C in l)B=l[C],H=r[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ft(t,n,C,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)B=r[Ee],r.hasOwnProperty(Ee)&&B!=null&&!l.hasOwnProperty(Ee)&&ft(t,n,Ee,null,l,B);for(U in l)if(B=l[U],H=r[U],l.hasOwnProperty(U)&&B!==H&&(B!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ft(t,n,U,B,l,H)}return;default:if(Ta(n)){for(var dt in r)B=r[dt],r.hasOwnProperty(dt)&&B!==void 0&&!l.hasOwnProperty(dt)&&Td(t,n,dt,void 0,l,B);for(K in l)B=l[K],H=r[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||Td(t,n,K,B,l,H);return}}for(var z in r)B=r[z],r.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&ft(t,n,z,null,l,B);for(Y in l)B=l[Y],H=r[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||ft(t,n,Y,B,l,H)}function v0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&v0(p)){for(p=0,T=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],U=C.startTime;if(U>T)break;var K=C.transferSize,Y=C.initiatorType;K&&v0(Y)&&(C=C.responseEnd,p+=K*(C<T?1:(T-U)/(C-U)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ad=null,Sd=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function b0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function bT(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var T0=typeof setTimeout=="function"?setTimeout:void 0,ET=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,TT=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(t){return A0.resolve(null).then(t).catch(AT)}:T0;function AT(t){setTimeout(function(){throw t})}function sr(t){return t==="head"}function S0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),il(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")To(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,To(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&To(t.ownerDocument.body);r=h}while(r);il(n)}function x0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Rd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Rd(r),va(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ST(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ai(t.nextSibling),t===null)break}return null}function xT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ai(t.nextSibling),t===null))return null;return t}function w0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ai(t.nextSibling),t===null))return null;return t}function Cd(t){return t.data==="$?"||t.data==="$~"}function Id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ai(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Nd=null;function R0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ai(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function C0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function I0(t,n,r){switch(n=Ec(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function To(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var li=new Map,N0=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Es=re.d;re.d={f:RT,r:CT,D:IT,C:NT,L:DT,m:OT,X:VT,S:MT,M:kT};function RT(){var t=Es.f(),n=dc();return t||n}function CT(t){var n=$n(t);n!==null&&n.tag===5&&n.type==="form"?Qg(n):Es.r(t)}var el=typeof document>"u"?null:document;function D0(t,n,r){var l=el;if(l&&typeof n=="string"&&n){var h=In(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),N0.has(h)||(N0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),mn(n,"link",t),Bt(n),l.head.appendChild(n)))}}function IT(t){Es.D(t),D0("dns-prefetch",t,null)}function NT(t,n){Es.C(t,n),D0("preconnect",t,n)}function DT(t,n,r){Es.L(t,n,r);var l=el;if(l&&t&&n){var h='link[rel="preload"][as="'+In(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+In(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+In(r.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var f=h;switch(n){case"style":f=tl(t);break;case"script":f=nl(t)}li.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),li.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ao(f))||n==="script"&&l.querySelector(So(f))||(n=l.createElement("link"),mn(n,"link",t),Bt(n),l.head.appendChild(n)))}}function OT(t,n){Es.m(t,n);var r=el;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+In(l)+'"][href="'+In(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=nl(t)}if(!li.has(f)&&(t=S({rel:"modulepreload",href:t},n),li.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(So(f)))return}l=r.createElement("link"),mn(l,"link",t),Bt(l),r.head.appendChild(l)}}}function MT(t,n,r){Es.S(t,n,r);var l=el;if(l&&t){var h=Ii(l).hoistableStyles,f=tl(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(Ao(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=li.get(f))&&Dd(t,r);var C=p=l.createElement("link");Bt(C),mn(C,"link",t),C._p=new Promise(function(U,K){C.onload=U,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ac(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function VT(t,n){Es.X(t,n);var r=el;if(r&&t){var l=Ii(r).hoistableScripts,h=nl(t),f=l.get(h);f||(f=r.querySelector(So(h)),f||(t=S({src:t,async:!0},n),(n=li.get(h))&&Od(t,n),f=r.createElement("script"),Bt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function kT(t,n){Es.M(t,n);var r=el;if(r&&t){var l=Ii(r).hoistableScripts,h=nl(t),f=l.get(h);f||(f=r.querySelector(So(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=li.get(h))&&Od(t,n),f=r.createElement("script"),Bt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function O0(t,n,r,l){var h=(h=xe.current)?Tc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=tl(r.href),r=Ii(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=tl(r.href);var f=Ii(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Ao(t)))&&!f._p&&(p.instance=f,p.state.loading=5),li.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},li.set(t,r),f||zT(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=nl(r),r=Ii(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function tl(t){return'href="'+In(t)+'"'}function Ao(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function zT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),mn(n,"link",r),Bt(n),t.head.appendChild(n))}function nl(t){return'[src="'+In(t)+'"]'}function So(t){return"script[async]"+t}function V0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+In(r.href)+'"]');if(l)return n.instance=l,Bt(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Bt(l),mn(l,"style",h),Ac(l,r.precedence,t),n.instance=l;case"stylesheet":h=tl(r.href);var f=t.querySelector(Ao(h));if(f)return n.state.loading|=4,n.instance=f,Bt(f),f;l=M0(r),(h=li.get(h))&&Dd(l,h),f=(t.ownerDocument||t).createElement("link"),Bt(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),mn(f,"link",l),n.state.loading|=4,Ac(f,r.precedence,t),n.instance=f;case"script":return f=nl(r.src),(h=t.querySelector(So(f)))?(n.instance=h,Bt(h),h):(l=r,(h=li.get(f))&&(l=S({},r),Od(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Bt(h),mn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ac(l,r.precedence,t));return n.instance}function Ac(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Od(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function k0(t,n,r){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(r,l)}else h=Sc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ri]||f[Pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function z0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function jT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function j0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function LT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=tl(l.href),f=n.querySelector(Ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=xc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Bt(f);return}f=n.ownerDocument||n,l=M0(l),(h=li.get(h))&&Dd(l,h),f=f.createElement("link"),Bt(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),mn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=xc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Md=0;function UT(t,n){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Md===0&&(Md=62500*vT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Md?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(PT,t),wc=null,xc.call(t))}function PT(t,n){if(!(n.state.loading&4)){var r=wc.get(t);if(r)var l=r.get(null);else{r=new Map,wc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var xo={$$typeof:ge,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function BT(t,n,r,l,h,f,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function L0(t,n,r,l,h,f,p,T,C,U,K,Y){return t=new BT(t,n,r,p,C,U,K,Y,T),n=1,f===!0&&(n|=24),f=Bn(3,null,null,n),t.current=f,f.stateNode=t,n=ff(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},gf(f),t}function U0(t){return t?(t=Ma,t):Ma}function P0(t,n,r,l,h,f){h=U0(h),l.context===null?l.context=h:l.pendingContext=h,l=Qs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ys(t,l,n),r!==null&&(kn(r,t,n),no(r,t,n))}function B0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Vd(t,n){B0(t,n),(t=t.alternate)&&B0(t,n)}function q0(t){if(t.tag===13||t.tag===31){var n=Yr(t,67108864);n!==null&&kn(n,t,67108864),Vd(t,67108864)}}function H0(t){if(t.tag===13||t.tag===31){var n=Kn();n=zr(n);var r=Yr(t,n);r!==null&&kn(r,t,n),Vd(t,n)}}var Cc=!0;function qT(t,n,r,l){var h=F.T;F.T=null;var f=re.p;try{re.p=2,kd(t,n,r,l)}finally{re.p=f,F.T=h}}function HT(t,n,r,l){var h=F.T;F.T=null;var f=re.p;try{re.p=8,kd(t,n,r,l)}finally{re.p=f,F.T=h}}function kd(t,n,r,l){if(Cc){var h=zd(l);if(h===null)Ed(t,n,l,Ic,r),F0(t,l);else if(FT(h,t,n,r,l))l.stopPropagation();else if(F0(t,l),n&4&&-1<GT.indexOf(t)){for(;h!==null;){var f=$n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=kt(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-Je(p);T.entanglements[1]|=C,p&=~C}qi(f),(it&6)===0&&(hc=Me()+500,vo(0))}}break;case 31:case 13:T=Yr(f,2),T!==null&&kn(T,f,2),dc(),Vd(f,2)}if(f=zd(l),f===null&&Ed(t,n,l,Ic,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Ed(t,n,l,null,r)}}function zd(t){return t=Zn(t),jd(t)}var Ic=null;function jd(t){if(Ic=null,t=Ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ic=t,null}function G0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case Xn:return 2;case un:return 8;case he:case Rt:return 32;case St:return 268435456;default:return 32}default:return 32}}var Ld=!1,rr=null,ar=null,lr=null,wo=new Map,Ro=new Map,or=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(t,n){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(n.pointerId)}}function Co(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=$n(n),n!==null&&q0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function FT(t,n,r,l,h){switch(n){case"focusin":return rr=Co(rr,t,n,r,l,h),!0;case"dragenter":return ar=Co(ar,t,n,r,l,h),!0;case"mouseover":return lr=Co(lr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return wo.set(f,Co(wo.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ro.set(f,Co(Ro.get(f)||null,t,n,r,l,h)),!0}return!1}function K0(t){var n=Ci(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ci(t.priority,function(){H0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ci(t.priority,function(){H0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=zd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Pl=l,r.target.dispatchEvent(l),Pl=null}else return n=$n(r),n!==null&&q0(n),t.blockedOn=r,!1;n.shift()}return!0}function Q0(t,n,r){Nc(t)&&r.delete(n)}function KT(){Ld=!1,rr!==null&&Nc(rr)&&(rr=null),ar!==null&&Nc(ar)&&(ar=null),lr!==null&&Nc(lr)&&(lr=null),wo.forEach(Q0),Ro.forEach(Q0)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,Ld||(Ld=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,KT)))}var Oc=null;function Y0(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(jd(l||r)===null)continue;break}var f=$n(r);f!==null&&(t.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function il(t){function n(C){return Dc(C,t)}rr!==null&&Dc(rr,t),ar!==null&&Dc(ar,t),lr!==null&&Dc(lr,t),wo.forEach(n),Ro.forEach(n);for(var r=0;r<or.length;r++){var l=or[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<or.length&&(r=or[0],r.blockedOn===null);)K0(r),r.blockedOn===null&&or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[tn]||null;if(typeof f=="function")p||Y0(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[tn]||null)T=p.formAction;else if(jd(h)!==null)continue}else T=p.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Y0(r)}}}function X0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ud(t){this._internalRoot=t}Mc.prototype.render=Ud.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Kn();P0(r,l,t,n,null,null)},Mc.prototype.unmount=Ud.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P0(t.current,2,null,t,null,null),dc(),n[wi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var r=0;r<or.length&&n!==0&&n<or[r].priority;r++);or.splice(r,0,t),r===0&&K0(t)}};var $0=e.version;if($0!=="19.2.3")throw Error(a(527,$0,"19.2.3"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var QT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{we=Vc.inject(QT),ke=Vc}catch{}}return No.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=iy,f=sy,p=ry;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=L0(t,1,!1,null,null,r,l,null,h,f,p,X0),t[wi]=n.current,bd(t),new Ud(n)},No.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=iy,p=sy,T=ry,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=L0(t,1,!0,n,r??null,l,h,C,f,p,T,X0),n.context=U0(null),r=n.current,l=Kn(),l=zr(l),h=Qs(l),h.callback=null,Ys(r,h,l),r=l,n.current.lanes=r,Vr(n,r),qi(n),t[wi]=n.current,bd(t),new Mc(n)},No.version="19.2.3",No}var l_;function sA(){if(l_)return qd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qd.exports=iA(),qd.exports}var rA=sA();const aA=()=>{};var o_={};const Hv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},lA=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let N=(g&15)<<2|y>>6,G=y&63;_||(G=64,d||(N=64)),a.push(i[E],i[S],i[N],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Hv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):lA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new oA;const N=c<<2|g>>4;if(a.push(N),y!==64){const G=g<<4&240|y>>2;if(a.push(G),S!==64){const $=y<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class oA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(s){const e=Hv(s);return Gv.encodeByteArray(e,!0)},eh=function(s){return uA(s).replace(/\./g,"")},Fv=function(s){try{return Gv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hA=()=>cA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof o_>"u")return;const s=o_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},dA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Fv(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return aA()||hA()||fA()||dA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Kv=s=>Th()?.emulatorHosts?.[s],mA=s=>{const e=Kv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Qv=()=>Th()?.config,Yv=s=>Th()?.[`_${s}`];class pA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Tl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xv(s){return(await fetch(s,{credentials:"include"})).ok}function gA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const ko={};function yA(){const s={prod:[],emulator:[]};for(const e of Object.keys(ko))ko[e]?s.emulator.push(e):s.prod.push(e);return s}function _A(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let u_=!1;function $v(s,e){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||ko[s]===e||ko[s]||u_)return;ko[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=yA().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,G){N.setAttribute("width","24"),N.setAttribute("id",G),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{u_=!0,d()},N}function E(N,G){N.setAttribute("id",G),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=_A(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),te=i("learnmore"),ee=document.getElementById(te)||document.createElement("a"),_e=i("preprendIcon"),Te=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ge=N.element;g(ge),E(ee,te);const Ue=y();_(Te,_e),ge.append(Te,$,ee,Ue),document.body.appendChild(ge)}c?($.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function bA(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const s=An();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function xA(){return!bA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wA(){try{return typeof indexedDB=="object"}catch{return!1}}function RA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const CA="FirebaseError";class Ds extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=CA,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?IA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ds(o,g,a)}}function IA(s,e){return s.replace(NA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const NA=/\{\$([^}]+)}/g;function DA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ar(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(c_(c)&&c_(d)){if(!Ar(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function c_(s){return s!==null&&typeof s=="object"}function Wo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function OA(s,e){const i=new MA(s,e);return i.subscribe.bind(i)}class MA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");VA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Kd(){}function Rn(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class kA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new pA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jA(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:zA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zA(s){return s===la?void 0:s}function jA(s){return s.instantiationMode==="EAGER"}class LA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new kA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const UA={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},PA=Ge.INFO,BA={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},qA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=BA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=PA,this._logHandler=qA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const HA=(s,e)=>e.some(i=>s instanceof i);let h_,f_;function GA(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zv=new WeakMap,lm=new WeakMap,Jv=new WeakMap,Qd=new WeakMap,Bm=new WeakMap;function KA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(_r(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Zv.set(i,s)}).catch(()=>{}),Bm.set(e,s),e}function QA(s){if(lm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});lm.set(s,e)}let om={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return lm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Jv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function YA(s){om=s(om)}function XA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Yd(this),e,...i);return Jv.set(a,e.sort?e.sort():[e]),_r(a)}:FA().includes(s)?function(...e){return s.apply(Yd(this),e),_r(Zv.get(this))}:function(...e){return _r(s.apply(Yd(this),e))}}function $A(s){return typeof s=="function"?XA(s):(s instanceof IDBTransaction&&QA(s),HA(s,GA())?new Proxy(s,om):s)}function _r(s){if(s instanceof IDBRequest)return KA(s);if(Qd.has(s))return Qd.get(s);const e=$A(s);return e!==s&&(Qd.set(s,e),Bm.set(e,s)),e}const Yd=s=>Bm.get(s);function ZA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const JA=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],Xd=new Map;function d_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Xd.get(e))return Xd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=WA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||JA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Xd.set(e,c),c}YA(s=>({...s,get:(e,i,a)=>d_(e,i)||s.get(e,i,a),has:(e,i)=>!!d_(e,i)||s.has(e,i)}));class eS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function tS(s){return s.getComponent()?.type==="VERSION"}const um="@firebase/app",m_="0.14.6";const xs=new Pm("@firebase/app"),nS="@firebase/app-compat",iS="@firebase/analytics-compat",sS="@firebase/analytics",rS="@firebase/app-check-compat",aS="@firebase/app-check",lS="@firebase/auth",oS="@firebase/auth-compat",uS="@firebase/database",cS="@firebase/data-connect",hS="@firebase/database-compat",fS="@firebase/functions",dS="@firebase/functions-compat",mS="@firebase/installations",pS="@firebase/installations-compat",gS="@firebase/messaging",yS="@firebase/messaging-compat",_S="@firebase/performance",vS="@firebase/performance-compat",bS="@firebase/remote-config",ES="@firebase/remote-config-compat",TS="@firebase/storage",AS="@firebase/storage-compat",SS="@firebase/firestore",xS="@firebase/ai",wS="@firebase/firestore-compat",RS="firebase",CS="12.6.0";const cm="[DEFAULT]",IS={[um]:"fire-core",[nS]:"fire-core-compat",[sS]:"fire-analytics",[iS]:"fire-analytics-compat",[aS]:"fire-app-check",[rS]:"fire-app-check-compat",[lS]:"fire-auth",[oS]:"fire-auth-compat",[uS]:"fire-rtdb",[cS]:"fire-data-connect",[hS]:"fire-rtdb-compat",[fS]:"fire-fn",[dS]:"fire-fn-compat",[mS]:"fire-iid",[pS]:"fire-iid-compat",[gS]:"fire-fcm",[yS]:"fire-fcm-compat",[_S]:"fire-perf",[vS]:"fire-perf-compat",[bS]:"fire-rc",[ES]:"fire-rc-compat",[TS]:"fire-gcs",[AS]:"fire-gcs-compat",[SS]:"fire-fst",[wS]:"fire-fst-compat",[xS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};const th=new Map,NS=new Map,hm=new Map;function p_(s,e){try{s.container.addComponent(e)}catch(i){xs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ml(s){const e=s.name;if(hm.has(e))return xs.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,s);for(const i of th.values())p_(i,s);for(const i of NS.values())p_(i,s);return!0}function qm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function oi(s){return s==null?!1:s.settings!==void 0}const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Jo("app","Firebase",DS);class OS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const Al=CS;function Wv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:cm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=Qv()),!i)throw vr.create("no-options");const c=th.get(o);if(c){if(Ar(i,c.options)&&Ar(a,c.config))return c;throw vr.create("duplicate-app",{appName:o})}const d=new LA(o);for(const _ of hm.values())d.addComponent(_);const g=new OS(i,a,d);return th.set(o,g),g}function e1(s=cm){const e=th.get(s);if(!e&&s===cm&&Qv())return Wv();if(!e)throw vr.create("no-app",{appName:s});return e}function br(s,e,i){let a=IS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xs.warn(d.join(" "));return}ml(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const MS="firebase-heartbeat-database",VS=1,qo="firebase-heartbeat-store";let $d=null;function t1(){return $d||($d=ZA(MS,VS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(qo)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),$d}async function kS(s){try{const i=(await t1()).transaction(qo),a=await i.objectStore(qo).get(n1(s));return await i.done,a}catch(e){if(e instanceof Ds)xs.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e?.message});xs.warn(i.message)}}}async function g_(s,e){try{const a=(await t1()).transaction(qo,"readwrite");await a.objectStore(qo).put(e,n1(s)),await a.done}catch(i){if(i instanceof Ds)xs.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i?.message});xs.warn(a.message)}}}function n1(s){return`${s.name}!${s.options.appId}`}const zS=1024,jS=30;class LS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new PS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>jS){const o=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y_(),{heartbeatsToSend:i,unsentEntries:a}=US(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return xs.warn(e),""}}}function y_(){return new Date().toISOString().substring(0,10)}function US(s,e=zS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),__(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),__(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class PS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wA()?RA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function __(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function BS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function qS(s){ml(new ca("platform-logger",e=>new eS(e),"PRIVATE")),ml(new ca("heartbeat",e=>new LS(e),"PRIVATE")),br(um,m_,s),br(um,m_,"esm2020"),br("fire-js","")}qS("");var HS="firebase",GS="12.7.0";br(HS,GS,"app");function i1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FS=i1,s1=new Jo("auth","Firebase",i1());const nh=new Pm("@firebase/auth");function KS(s,...e){nh.logLevel<=Ge.WARN&&nh.warn(`Auth (${Al}): ${s}`,...e)}function qc(s,...e){nh.logLevel<=Ge.ERROR&&nh.error(`Auth (${Al}): ${s}`,...e)}function ws(s,...e){throw Hm(s,...e)}function Fi(s,...e){return Hm(s,...e)}function r1(s,e,i){const a={...FS(),[e]:i};return new Jo("auth","Firebase",a).create(e,{appName:s.name})}function Ss(s){return r1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return s1.create(s,...e)}function Se(s,e,...i){if(!s)throw Hm(e,...i)}function Ts(s){const e="INTERNAL ASSERTION FAILED: "+s;throw qc(e),new Error(e)}function Rs(s,e){s||Ts(e)}function fm(){return typeof self<"u"&&self.location?.href||""}function QS(){return v_()==="http:"||v_()==="https:"}function v_(){return typeof self<"u"&&self.location?.protocol||null}function YS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||TA()||"connection"in navigator)?navigator.onLine:!0}function XS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class eu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Rs(i>e,"Short delay should be less than long delay!"),this.isMobile=vA()||AA()}get(){return YS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gm(s,e){Rs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class a1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JS=new eu(3e4,6e4);function tu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Sl(s,e,i,a,o={}){return l1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Wo({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return EA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Tl(s.emulatorConfig.host)&&(y.credentials="include"),a1.fetch()(await o1(s,s.config.apiHost,i,g),y)})}async function l1(s,e,i){s._canInitEmulator=!1;const a={...$S,...e};try{const o=new WS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(s,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw r1(s,E,y);ws(s,E)}}catch(o){if(o instanceof Ds)throw o;ws(s,"network-request-failed",{message:String(o)})}}async function Fm(s,e,i,a,o={}){const c=await Sl(s,e,i,a,o);return"mfaPendingCredential"in c&&ws(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function o1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Gm(s.config,o):`${s.config.apiScheme}://${o}`;return ZS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class WS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Fi(this.auth,"network-request-failed")),JS.get())})}}function kc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Fi(s,e,a);return o.customData._tokenResponse=i,o}async function e2(s,e){return Sl(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return Sl(s,"POST","/v1/accounts:lookup",e)}function zo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t2(s,e=!1){const i=Rn(s),a=await i.getIdToken(e),o=Km(a);Se(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:zo(Zd(o.auth_time)),issuedAtTime:zo(Zd(o.iat)),expirationTime:zo(Zd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Zd(s){return Number(s)*1e3}function Km(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fv(i);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function b_(s){const e=Km(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ho(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ds&&n2(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function n2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class i2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,i=await s.getIdToken(),a=await Ho(s,ih(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?u1(o.providerUserInfo):[],d=r2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=g?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new dm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function s2(s){const e=Rn(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r2(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function u1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function a2(s,e){const i=await l1(s,{},async()=>{const a=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await o1(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&Tl(s.emulatorConfig.host)&&(_.credentials="include"),a1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function l2(s,e){return Sl(s,"POST","/v2/accounts:revokeToken",tu(s,e))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=b_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await a2(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new ul;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Ts("not implemented")}}function cr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new i2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return t2(this,e)}reload(){return s2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Ho(this,e2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:G,providerData:$,stsTokenManager:te}=i;Se(S&&te,e,"internal-error");const ee=ul.fromJSON(this.name,te);Se(typeof S=="string",e,"internal-error"),cr(a,e.name),cr(o,e.name),Se(typeof N=="boolean",e,"internal-error"),Se(typeof G=="boolean",e,"internal-error"),cr(c,e.name),cr(d,e.name),cr(g,e.name),cr(_,e.name),cr(y,e.name),cr(E,e.name);const _e=new bi({uid:S,auth:e,email:o,emailVerified:N,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ee,createdAt:y,lastLoginAt:E});return $&&Array.isArray($)&&(_e.providerData=$.map(Te=>({...Te}))),_&&(_e._redirectEventId=_),_e}static async _fromIdTokenResponse(e,i,a=!1){const o=new ul;o.updateFromServerResponse(i);const c=new bi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await sh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?u1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new ul;g.updateFromIdToken(a);const _=new bi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const E_=new Map;function As(s){Rs(s instanceof Function,"Expected a class definition");let e=E_.get(s);return e?(Rs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,E_.set(s,e),e)}class c1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}c1.type="NONE";const T_=c1;function Hc(s,e,i){return`firebase:${s}:${e}:${i}`}class cl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Hc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?bi._fromGetAccountInfoResponse(this.auth,i,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new cl(As(T_),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||As(T_);const d=Hc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const E=await y._get(d);if(E){let S;if(typeof E=="string"){const N=await ih(e,{idToken:E}).catch(()=>{});if(!N)break;S=await bi._fromGetAccountInfoResponse(e,N,E)}else S=bi._fromJSON(e,E);y!==c&&(g=S),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new cl(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new cl(c,e,a))}}function A_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g1(e))return"Blackberry";if(y1(e))return"Webos";if(f1(e))return"Safari";if((e.includes("chrome/")||d1(e))&&!e.includes("edge/"))return"Chrome";if(p1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function h1(s=An()){return/firefox\//i.test(s)}function f1(s=An()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d1(s=An()){return/crios\//i.test(s)}function m1(s=An()){return/iemobile/i.test(s)}function p1(s=An()){return/android/i.test(s)}function g1(s=An()){return/blackberry/i.test(s)}function y1(s=An()){return/webos/i.test(s)}function Qm(s=An()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function o2(s=An()){return Qm(s)&&!!window.navigator?.standalone}function u2(){return SA()&&document.documentMode===10}function _1(s=An()){return Qm(s)||p1(s)||y1(s)||g1(s)||/windows phone/i.test(s)||m1(s)}function v1(s,e=[]){let i;switch(s){case"Browser":i=A_(An());break;case"Worker":i=`${A_(An())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Al}/${a}`}class c2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function h2(s,e={}){return Sl(s,"GET","/v2/passwordPolicy",tu(s,e))}const f2=6;class d2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??f2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class m2{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new c2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=As(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),a=await bi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Ss(this));const i=e?Rn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h2(this),i=new d2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await l2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&As(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[As(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(s){return Rn(s)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=OA(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p2(s){Ym=s}function g2(s){return Ym.loadJS(s)}function y2(){return Ym.gapiScript}function _2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function v2(s,e){const i=qm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ar(c,e??{}))return o;ws(o,"already-initialized")}return i.initialize({options:e})}function b2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(As);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function E2(s,e,i){const a=nu(s);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=b1(e),{host:d,port:g}=T2(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(Ar(y,a.config.emulator)&&Ar(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Tl(d)?(Xv(`${c}//${d}${_}`),$v("Auth",!0)):A2()}function b1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function T2(s){const e=b1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:x_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:x_(d)}}}function x_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function A2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class E1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ts("not implemented")}_getIdTokenResponse(e){return Ts("not implemented")}_linkToIdToken(e,i){return Ts("not implemented")}_getReauthenticationResolver(e){return Ts("not implemented")}}async function hl(s,e){return Fm(s,"POST","/v1/accounts:signInWithIdp",tu(s,e))}const S2="http://localhost";class ha extends E1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ws("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ha(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return hl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,hl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,hl(e,i)}buildRequest(){const e={requestUri:S2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wo(i)}return e}}class T1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends T1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dr extends iu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";class mr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ha._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return mr.credential(i,a)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";class pr extends iu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";class gr extends iu{constructor(){super("twitter.com")}static credential(e,i){return ha._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return gr.credential(i,a)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";async function x2(s,e){return Fm(s,"POST","/v1/accounts:signUp",tu(s,e))}class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await bi._fromIdTokenResponse(e,a,o),d=w_(a);return new Cs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=w_(a);return new Cs({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function w_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function w2(s){if(oi(s.app))return Promise.reject(Ss(s));const e=nu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Cs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await x2(e,{returnSecureToken:!0}),a=await Cs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class rh extends Ds{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new rh(e,i,a,o)}}function A1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,e,a):c})}async function R2(s,e,i=!1){const a=await Ho(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Cs._forOperation(s,"link",a)}async function C2(s,e,i=!1){const{auth:a}=s;if(oi(a.app))return Promise.reject(Ss(a));const o="reauthenticate";try{const c=await Ho(s,A1(a,o,e,s),i);Se(c.idToken,a,"internal-error");const d=Km(c.idToken);Se(d,a,"internal-error");const{sub:g}=d;return Se(s.uid===g,a,"user-mismatch"),Cs._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ws(a,"user-mismatch"),c}}async function I2(s,e,i=!1){if(oi(s.app))return Promise.reject(Ss(s));const a="signIn",o=await A1(s,a,e),c=await Cs._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function N2(s,e){return Fm(s,"POST","/v1/accounts:signInWithCustomToken",tu(s,e))}async function D2(s,e){if(oi(s.app))return Promise.reject(Ss(s));const i=nu(s),a=await N2(i,{token:e,returnSecureToken:!0}),o=await Cs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function O2(s,e,i,a){return Rn(s).onIdTokenChanged(e,i,a)}function M2(s,e,i){return Rn(s).beforeAuthStateChanged(e,i)}function V2(s,e,i,a){return Rn(s).onAuthStateChanged(e,i,a)}const ah="__sak";class S1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const k2=1e3,z2=10;class x1 extends S1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);u2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,z2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}x1.type="LOCAL";const j2=x1;class w1 extends S1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}w1.type="SESSION";const R1=w1;function L2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Ah(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await L2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];function Xm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class U2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Xm("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const N=S;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(N.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ki(){return window}function P2(s){Ki().location.href=s}function C1(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function B2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q2(){return navigator?.serviceWorker?.controller||null}function H2(){return C1()?self:null}const I1="firebaseLocalStorageDb",G2=1,lh="firebaseLocalStorage",N1="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Sh(s,e){return s.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function F2(){const s=indexedDB.deleteDatabase(I1);return new su(s).toPromise()}function mm(){const s=indexedDB.open(I1,G2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(lh,{keyPath:N1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(lh)?e(a):(a.close(),await F2(),e(await mm()))})})}async function R_(s,e,i){const a=Sh(s,!0).put({[N1]:e,value:i});return new su(a).toPromise()}async function K2(s,e){const i=Sh(s,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function C_(s,e){const i=Sh(s,!0).delete(e);return new su(i).toPromise()}const Q2=800,Y2=3;class D1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Y2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(H2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await B2(),!this.activeServiceWorker)return;this.sender=new U2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await R_(e,ah,"1"),await C_(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>R_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>K2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>C_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Sh(o,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D1.type="LOCAL";const X2=D1;new eu(3e4,6e4);function $2(s,e){return e?As(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class $m extends E1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return hl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Z2(s){return I2(s.auth,new $m(s),s.bypassAuthState)}function J2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),C2(i,new $m(s),s.bypassAuthState)}async function W2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),R2(i,new $m(s),s.bypassAuthState)}class O1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z2;case"linkViaPopup":case"linkViaRedirect":return W2;case"reauthViaPopup":case"reauthViaRedirect":return J2;default:ws(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ex=new eu(2e3,1e4);class ol extends O1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ex.get())};e()}}ol.currentPopupAction=null;const tx="pendingRedirect",Gc=new Map;class nx extends O1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await ix(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ix(s,e){const i=ax(e),a=rx(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function sx(s,e){Gc.set(s._key(),e)}function rx(s){return As(s._redirectPersistence)}function ax(s){return Hc(tx,s.config.apiKey,s.name)}async function lx(s,e,i=!1){if(oi(s.app))return Promise.reject(Ss(s));const a=nu(s),o=$2(a,e),d=await new nx(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const ox=600*1e3;class ux{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!M1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Fi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ox&&this.cachedEventUids.clear(),this.cachedEventUids.has(I_(e))}saveEventToCache(e){this.cachedEventUids.add(I_(e)),this.lastProcessedEventTime=Date.now()}}function I_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function M1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function cx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M1(s);default:return!1}}async function hx(s,e={}){return Sl(s,"GET","/v1/projects",e)}const fx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dx=/^https?/;async function mx(s){if(s.config.emulator)return;const{authorizedDomains:e}=await hx(s);for(const i of e)try{if(px(i))return}catch{}ws(s,"unauthorized-domain")}function px(s){const e=fm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!dx.test(i))return!1;if(fx.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const gx=new eu(3e4,6e4);function N_(){const s=Ki().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function yx(s){return new Promise((e,i)=>{function a(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),i(Fi(s,"network-request-failed"))},timeout:gx.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)a();else{const o=_2("iframefcb");return Ki()[o]=()=>{gapi.load?a():i(Fi(s,"network-request-failed"))},g2(`${y2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function _x(s){return Fc=Fc||yx(s),Fc}const vx=new eu(5e3,15e3),bx="__/auth/iframe",Ex="emulator/auth/iframe",Tx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ax=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sx(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Gm(e,Ex):`https://${s.config.authDomain}/${bx}`,a={apiKey:e.apiKey,appName:s.name,v:Al},o=Ax.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Wo(a).slice(1)}`}async function xx(s){const e=await _x(s),i=Ki().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:Sx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tx,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Fi(s,"network-request-failed"),g=Ki().setTimeout(()=>{c(d)},vx.get());function _(){Ki().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const wx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rx=500,Cx=600,Ix="_blank",Nx="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dx(s,e,i,a=Rx,o=Cx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...wx,width:a.toString(),height:o.toString(),top:c,left:d},y=An().toLowerCase();i&&(g=d1(y)?Ix:i),h1(y)&&(e=e||Nx,_.scrollbars="yes");const E=Object.entries(_).reduce((N,[G,$])=>`${N}${G}=${$},`,"");if(o2(y)&&g!=="_self")return Ox(e||"",g),new D_(null);const S=window.open(e||"",g,E);Se(S,s,"popup-blocked");try{S.focus()}catch{}return new D_(S)}function Ox(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Mx="__/auth/handler",Vx="emulator/auth/handler",kx=encodeURIComponent("fac");async function O_(s,e,i,a,o,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Al,eventId:o};if(e instanceof T1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",DA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof iu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),y=_?`#${kx}=${encodeURIComponent(_)}`:"";return`${zx(s)}?${Wo(g).slice(1)}${y}`}function zx({config:s}){return s.emulator?Gm(s,Vx):`https://${s.authDomain}/${Mx}`}const Jd="webStorageSupport";class jx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R1,this._completeRedirectFn=lx,this._overrideRedirectResult=sx}async _openPopup(e,i,a,o){Rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await O_(e,i,a,fm(),o);return Dx(e,c,Xm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await O_(e,i,a,fm(),o);return P2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await xx(e),a=new ux(e);return i.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Jd,{type:Jd},o=>{const c=o?.[0]?.[Jd];c!==void 0&&i(!!c),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mx(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return _1()||f1()||Qm()}}const Lx=jx;var M_="@firebase/auth",V_="1.12.0";class Ux{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Px(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bx(s){ml(new ca("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(s)},y=new m2(a,o,c,_);return b2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ml(new ca("auth-internal",e=>{const i=nu(e.getProvider("auth").getImmediate());return(a=>new Ux(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(M_,V_,Px(s)),br(M_,V_,"esm2020")}const qx=300,Hx=Yv("authIdTokenMaxAge")||qx;let k_=null;const Gx=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Hx)return;const o=i?.token;k_!==o&&(k_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Fx(s=e1()){const e=qm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=v2(s,{popupRedirectResolver:Lx,persistence:[X2,j2,R1]}),a=Yv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Gx(c.toString());M2(i,d,()=>d(i.currentUser)),O2(i,g=>d(g))}}const o=Kv("auth");return o&&E2(i,`http://${o}`),i}function Kx(){return document.getElementsByTagName("head")?.[0]??document}p2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Fi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Kx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bx("Browser");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Er,V1;(function(){var s;function e(I,x){function w(){}w.prototype=x.prototype,I.F=x.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(V,D,k){for(var R=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)R[Xe-2]=arguments[Xe];return x.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,w){w||(w=0);const V=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)V[D]=x.charCodeAt(w++)|x.charCodeAt(w++)<<8|x.charCodeAt(w++)<<16|x.charCodeAt(w++)<<24;else for(D=0;D<16;++D)V[D]=x[w++]|x[w++]<<8|x[w++]<<16|x[w++]<<24;x=I.g[0],w=I.g[1],D=I.g[2];let k=I.g[3],R;R=x+(k^w&(D^k))+V[0]+3614090360&4294967295,x=w+(R<<7&4294967295|R>>>25),R=k+(D^x&(w^D))+V[1]+3905402710&4294967295,k=x+(R<<12&4294967295|R>>>20),R=D+(w^k&(x^w))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(x^D&(k^x))+V[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=x+(k^w&(D^k))+V[4]+4118548399&4294967295,x=w+(R<<7&4294967295|R>>>25),R=k+(D^x&(w^D))+V[5]+1200080426&4294967295,k=x+(R<<12&4294967295|R>>>20),R=D+(w^k&(x^w))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(x^D&(k^x))+V[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=x+(k^w&(D^k))+V[8]+1770035416&4294967295,x=w+(R<<7&4294967295|R>>>25),R=k+(D^x&(w^D))+V[9]+2336552879&4294967295,k=x+(R<<12&4294967295|R>>>20),R=D+(w^k&(x^w))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(x^D&(k^x))+V[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=x+(k^w&(D^k))+V[12]+1804603682&4294967295,x=w+(R<<7&4294967295|R>>>25),R=k+(D^x&(w^D))+V[13]+4254626195&4294967295,k=x+(R<<12&4294967295|R>>>20),R=D+(w^k&(x^w))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(x^D&(k^x))+V[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=x+(D^k&(w^D))+V[1]+4129170786&4294967295,x=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(x^w))+V[6]+3225465664&4294967295,k=x+(R<<9&4294967295|R>>>23),R=D+(x^w&(k^x))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^x&(D^k))+V[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=x+(D^k&(w^D))+V[5]+3593408605&4294967295,x=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(x^w))+V[10]+38016083&4294967295,k=x+(R<<9&4294967295|R>>>23),R=D+(x^w&(k^x))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^x&(D^k))+V[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=x+(D^k&(w^D))+V[9]+568446438&4294967295,x=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(x^w))+V[14]+3275163606&4294967295,k=x+(R<<9&4294967295|R>>>23),R=D+(x^w&(k^x))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^x&(D^k))+V[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=x+(D^k&(w^D))+V[13]+2850285829&4294967295,x=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(x^w))+V[2]+4243563512&4294967295,k=x+(R<<9&4294967295|R>>>23),R=D+(x^w&(k^x))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^x&(D^k))+V[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=x+(w^D^k)+V[5]+4294588738&4294967295,x=w+(R<<4&4294967295|R>>>28),R=k+(x^w^D)+V[8]+2272392833&4294967295,k=x+(R<<11&4294967295|R>>>21),R=D+(k^x^w)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^x)+V[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=x+(w^D^k)+V[1]+2763975236&4294967295,x=w+(R<<4&4294967295|R>>>28),R=k+(x^w^D)+V[4]+1272893353&4294967295,k=x+(R<<11&4294967295|R>>>21),R=D+(k^x^w)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^x)+V[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=x+(w^D^k)+V[13]+681279174&4294967295,x=w+(R<<4&4294967295|R>>>28),R=k+(x^w^D)+V[0]+3936430074&4294967295,k=x+(R<<11&4294967295|R>>>21),R=D+(k^x^w)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^x)+V[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=x+(w^D^k)+V[9]+3654602809&4294967295,x=w+(R<<4&4294967295|R>>>28),R=k+(x^w^D)+V[12]+3873151461&4294967295,k=x+(R<<11&4294967295|R>>>21),R=D+(k^x^w)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^x)+V[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=x+(D^(w|~k))+V[0]+4096336452&4294967295,x=w+(R<<6&4294967295|R>>>26),R=k+(w^(x|~D))+V[7]+1126891415&4294967295,k=x+(R<<10&4294967295|R>>>22),R=D+(x^(k|~w))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~x))+V[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=x+(D^(w|~k))+V[12]+1700485571&4294967295,x=w+(R<<6&4294967295|R>>>26),R=k+(w^(x|~D))+V[3]+2399980690&4294967295,k=x+(R<<10&4294967295|R>>>22),R=D+(x^(k|~w))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~x))+V[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=x+(D^(w|~k))+V[8]+1873313359&4294967295,x=w+(R<<6&4294967295|R>>>26),R=k+(w^(x|~D))+V[15]+4264355552&4294967295,k=x+(R<<10&4294967295|R>>>22),R=D+(x^(k|~w))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~x))+V[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=x+(D^(w|~k))+V[4]+4149444226&4294967295,x=w+(R<<6&4294967295|R>>>26),R=k+(w^(x|~D))+V[11]+3174756917&4294967295,k=x+(R<<10&4294967295|R>>>22),R=D+(x^(k|~w))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~x))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,x){x===void 0&&(x=I.length);const w=x-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<x;){if(D==0)for(;k<=w;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<x;)if(V[D++]=I.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<x;)if(V[D++]=I[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=x},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)I[x++]=this.g[w]>>>V&255;return I};function c(I,x){var w=g;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=x(I)}function d(I,x){this.h=x;const w=[];let V=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;V&&k==x||(w[D]=k,V=!1)}this.g=w}var g={};function _(I){return-128<=I&&I<128?c(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return ee(y(-I));const x=[];let w=1;for(let V=0;I>=w;V++)x[V]=I/w|0,w*=4294967296;return new d(x,0)}function E(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return ee(E(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(x,8));let V=S;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+D),x);D<8?(D=y(Math.pow(x,D)),V=V.j(D).add(y(R))):(V=V.j(w),V=V.add(y(R)))}return V}var S=_(0),N=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(te(this))return-ee(this).m();let I=0,x=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);I+=(V>=0?V:4294967296+V)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(te(this))return"-"+ee(this).toString(I);const x=y(Math.pow(I,6));var w=this;let V="";for(;;){const D=Ue(w,x).g;w=_e(w,D.j(x));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=D,$(w))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function te(I){return I.h==-1}s.l=function(I){return I=_e(this,I),te(I)?-1:$(I)?0:1};function ee(I){const x=I.g.length,w=[];for(let V=0;V<x;V++)w[V]=~I.g[V];return new d(w,~I.h).add(N)}s.abs=function(){return te(this)?ee(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),w=[];let V=0;for(let D=0;D<=x;D++){let k=V+(this.i(D)&65535)+(I.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,w[D]=R<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function _e(I,x){return I.add(ee(x))}s.j=function(I){if($(this)||$(I))return S;if(te(this))return te(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(te(I))return ee(this.j(ee(I)));if(this.l(G)<0&&I.l(G)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,w=[];for(var V=0;V<2*x;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,Xe=I.i(D)>>>16,At=I.i(D)&65535;w[2*V+2*D]+=R*At,Te(w,2*V+2*D),w[2*V+2*D+1]+=k*At,Te(w,2*V+2*D+1),w[2*V+2*D+1]+=R*Xe,Te(w,2*V+2*D+1),w[2*V+2*D+2]+=k*Xe,Te(w,2*V+2*D+2)}for(I=0;I<x;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=x;I<2*x;I++)w[I]=0;return new d(w,0)};function Te(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ge(I,x){this.g=I,this.h=x}function Ue(I,x){if($(x))throw Error("division by zero");if($(I))return new ge(S,S);if(te(I))return x=Ue(ee(I),x),new ge(ee(x.g),ee(x.h));if(te(x))return x=Ue(I,ee(x)),new ge(ee(x.g),x.h);if(I.g.length>30){if(te(I)||te(x))throw Error("slowDivide_ only works with positive integers.");for(var w=N,V=x;V.l(I)<=0;)w=ot(w),V=ot(V);var D=Qe(w,1),k=Qe(V,1);for(V=Qe(V,2),w=Qe(w,2);!$(V);){var R=k.add(V);R.l(I)<=0&&(D=D.add(w),k=R),V=Qe(V,1),w=Qe(w,1)}return x=_e(I,D.j(x)),new ge(D,x)}for(D=S;I.l(x)>=0;){for(w=Math.max(1,Math.floor(I.m()/x.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(w),R=k.j(x);te(R)||R.l(I)>0;)w-=V,k=y(w),R=k.j(x);$(k)&&(k=N),D=D.add(k),I=_e(I,R)}return new ge(D,I)}s.B=function(I){return Ue(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<x;V++)w[V]=this.i(V)&I.i(V);return new d(w,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<x;V++)w[V]=this.i(V)|I.i(V);return new d(w,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),w=[];for(let V=0;V<x;V++)w[V]=this.i(V)^I.i(V);return new d(w,this.h^I.h)};function ot(I){const x=I.g.length+1,w=[];for(let V=0;V<x;V++)w[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(w,I.h)}function Qe(I,x){const w=x>>5;x%=32;const V=I.g.length-w,D=[];for(let k=0;k<V;k++)D[k]=x>0?I.i(k+w)>>>x|I.i(k+w+1)<<32-x:I.i(k+w);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,V1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Er=d}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k1,Do,z1,Kc,pm,j1,L1,U1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in v))break e;v=v[j]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,j,q){for(var ie=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ie[Ne-2]=arguments[Ne];return m.prototype[j].apply(A,ie)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function $(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const q=j.length||0;u.length=v+q;for(let ie=0;ie<q;ie++)u[v+ie]=j[ie]}else u.push(j)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Te{constructor(){this.h=this.g=null}add(m,v){const A=ge.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ge=new te(()=>new Ue,u=>u.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,Qe=!1,I=new Te,x=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(w)}};function w(){for(var u;u=_e();){try{u.h.call(u.g)}catch(v){ee(v)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Qe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Xe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Xe,D),Xe.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var At="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(u,m,v,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ze(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)u[v]=A[v];for(let q=0;q<P.length;q++)v=P[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,v,A,j){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ie=xe(u,m,A,j);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new re(m,this.src,q,!!A,j),m.fa=v,u.push(m)),m};function le(u,m){const v=m.type;if(v in u.g){var A=u.g[v],j=Array.prototype.indexOf.call(A,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(A,j,1),q&&(de(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xe(u,m,v,A){for(let j=0;j<u.length;++j){const q=u[j];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return j}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ot={};function mt(u,m,v,A,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)mt(u,m[q],v,A,j);return null}return v=Mr(v),u&&u[At]?u.J(m,v,g(A)?!!A.capture:!1,j):Wi(u,m,v,!1,A,j)}function Wi(u,m,v,A,j,q){if(!m)throw Error("Invalid event type");const ie=g(j)?!!j.capture:!!j;let Ne=ns(u);if(Ne||(u[Pe]=Ne=new ae(u)),v=Ne.add(m,v,A,ie,q),v.proxy)return v;if(A=es(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(j=ie),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function es(){function u(v){return m.call(u.src,u.listener,v)}const m=Or;return u}function ts(u,m,v,A,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)ts(u,m[q],v,A,j);else A=g(A)?!!A.capture:!!A,v=Mr(v),u&&u[At]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=xe(m,v,A,j),v>-1&&(de(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xe(m,v,A,j)),(v=u>-1?m[u]:null)&&Ai(v))}function Ai(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[At])le(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Yn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ns(m))?(le(v,u),v.h==0&&(v.src=null,m[Pe]=null)):de(u)}}}function Yn(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function Or(u,m){if(u.da)u=!0;else{m=new Xe(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Ai(u),u=v.call(A,m)}return u}function ns(u){return u=u[Pe],u instanceof ae?u:null}var Si="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mr(u){return typeof u=="function"?u:(u[Si]||(u[Si]=function(m){return u.handleEvent(m)}),u[Si])}function W(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}S(W,V),W.prototype[At]=!0,W.prototype.removeEventListener=function(u,m,v,A){ts(this,u,m,v,A)};function ne(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var j=m;m=new D(A,u),se(m,j)}j=!0;let q,ie;if(v)for(ie=v.length-1;ie>=0;ie--)q=m.g=v[ie],j=ve(q,A,!0,m)&&j;if(q=m.g=u,j=ve(q,A,!0,m)&&j,j=ve(q,A,!1,m)&&j,v)for(ie=0;ie<v.length;ie++)q=m.g=v[ie],j=ve(q,A,!1,m)&&j}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)de(v[A]);delete u.g[m],u.h--}}this.G=null},W.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},W.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ve(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const ie=m[q];if(ie&&!ie.da&&ie.capture==v){const Ne=ie.listener,zt=ie.ha||ie.src;ie.fa&&le(u.i,ie),j=Ne.call(zt,A)!==!1&&j}}return j&&!A.defaultPrevented}function J(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ue(u){u.g=J(()=>{u.g=null,u.i&&(u.i=!1,ue(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Me extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ue(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(u){V.call(this),this.h=u,this.g={}}S(pe,V);var Xn=[];function un(u){Ve(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ai(m)},u),u.g={}}pe.prototype.N=function(){pe.Z.N.call(this),un(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=d.JSON.stringify,Rt=d.JSON.parse,St=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Cn(){}function Os(){}var we={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){D.call(this,"d")}S(ke,D);function Mt(){D.call(this,"c")}S(Mt,D);var Je={},Vt=null;function Be(){return Vt=Vt||new W}Je.Ia="serverreachability";function yt(u){D.call(this,Je.Ia,u)}S(yt,D);function pt(u){const m=Be();ne(m,new yt(m))}Je.STAT_EVENT="statevent";function Wt(u,m){D.call(this,Je.STAT_EVENT,u),this.stat=m}S(Wt,D);function ut(u){const m=Be();ne(m,new Wt(m,u))}Je.Ja="timingevent";function kt(u,m){D.call(this,Je.Ja,u),this.size=m}S(kt,D);function Ct(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function en(){this.g=!0}en.prototype.ua=function(){this.g=!1};function ya(u,m,v,A,j,q){u.info(function(){if(u.g)if(q){var ie="",Ne=q.split("&");for(let nt=0;nt<Ne.length;nt++){var zt=Ne[nt].split("=");if(zt.length>1){const Et=zt[0];zt=zt[1];const Wn=Et.split("_");ie=Wn.length>=2&&Wn[1]=="type"?ie+(Et+"="+zt+"&"):ie+(Et+"=redacted&")}}}else ie=null;else ie=q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+ie})}function fu(u,m,v,A,j,q,ie){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+q+" "+ie})}function xi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gh(u,v)+(A?" "+A:"")})}function Vr(u,m){u.info(function(){return"TIMEOUT: "+m})}en.prototype.info=function(){};function Gh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return he(q)}catch{return m}}var kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nl;function zr(){}S(zr,Cn),zr.prototype.g=function(){return new XMLHttpRequest},Nl=new zr;function is(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ci(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Pt={},tn={};function wi(u,m,v){u.M=1,u.A=jr(qt(m)),u.u=v,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),Ri(u),u.B=qt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Ta(v.i,"t",A),u.C=0,v=u.j.L,u.h=new hi,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Me(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Xn[0]=j.toString()),j=Xn);for(let q=0;q<j.length;q++){const ie=mt(v,j[q],A||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pt(),ya(u.i,u.v,u.B,u.l,u.S,u.u)}ci.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},ci.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=mi(this.g),zt=this.g.ya(),nt=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Ne!=4||zt==7||(zt==8||nt<=0?pt(3):pt(2)),Ci(this);var m=this.g.ca();this.X=m;var v=Fh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(u=q)xi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,ut(12),Ln(this),$n(this);break e}}if(this.R){u=!0;let Et;for(;!this.K&&this.C<v.length;)if(Et=pu(this,v),Et==tn){Ne==4&&(this.m=4,ut(14),u=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Pt){this.m=4,ut(15),xi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else xi(this.i,this.l,Et,null),Ii(this,Et);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,ut(16),u=!1),this.o=this.o&&u,!u)xi(this.i,this.l,v,"[Invalid Chunked Response]"),Ln(this),$n(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fl(ie),ie.P=!0,ut(11))}}else xi(this.i,this.l,v,null),Ii(this,v);Ne==4&&Ln(this),this.o&&!this.K&&(Ne==4?Su(this.j,this):(this.o=!1,Ri(this)))}else rs(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),Ln(this),$n(this)}}}catch{}};function Fh(u){if(!mu(u))return u.g.la();const m=cn(u.g);if(m==="")return"";let v="";const A=m.length,j=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ln(u),$n(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(j&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?tn:(v=Number(m.substring(v,A)),isNaN(v)?Pt:(A+=1,A+v>m.length?tn:(m=m.slice(A,A+v),u.C=A+v,m)))}ci.prototype.cancel=function(){this.K=!0,Ln(this)};function Ri(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ct(y(u.aa,u),m)}function Ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ci.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Vr(this.i,this.B),this.M!=2&&(pt(),ut(17)),Ln(this),this.m=2,$n(this)):va(this,this.T-u)};function $n(u){u.j.I==0||u.K||Su(u.j,u)}function Ln(u){Ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,un(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Di(v.h,u))){if(!u.L&&Di(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ra(v),Ps(v);else break e;Gr(v),ut(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ct(y(v.Va,v),6e3));Ni(v.h)<=1&&v.ta&&(v.ta=void 0)}else ji(v,11)}else if((u.L||v.g==u)&&Ra(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let nt=j[m];const Et=nt[0];if(!(Et<=v.K))if(v.K=Et,nt=nt[1],v.I==2)if(nt[0]=="c"){v.M=nt[1],v.ba=nt[2];const Wn=nt[3];Wn!=null&&(v.ka=Wn,v.j.info("VER="+v.ka));const Li=nt[4];Li!=null&&(v.za=Li,v.j.info("SVER="+v.za));const pi=nt[5];pi!=null&&typeof pi=="number"&&pi>0&&(A=1.5*pi,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const gi=u.g;if(gi){const Fr=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var q=A.h;q.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ml(q,q.h),q.h=null))}if(A.G){const Ca=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(A.wa=Ca,rt(A.J,A.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ie=u;if(A.na=Ru(A,A.L?A.ba:null,A.W),ie.L){Vl(A.h,ie);var Ne=ie,zt=A.O;zt&&(Ne.H=zt),Ne.D&&(Ci(Ne),Ri(Ne)),A.g=ie}else Tu(A);v.i.length>0&&zi(v)}else nt[0]!="stop"&&nt[0]!="close"||ji(v,7);else v.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ji(v,7):Hl(v):nt[0]!="noop"&&v.l&&v.l.qa(nt),v.A=0)}}pt(4)}catch{}}var Bt=class{constructor(u,m){this.g=u,this.map=m}};function Dl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ml(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Dl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function kl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let j,q=null;A>=0?(j=u[v].substring(0,A),q=u[v].substring(A+1)):j=u[v],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,nn(this,u.j),this.o=u.o,this.g=u.g,Ms(this,u.u),this.h=u.h,zl(this,bu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,nn(this,m[1]||"",!0),this.o=Oi(m[2]||""),this.g=Oi(m[3]||"",!0),Ms(this,m[4]),this.h=Oi(m[5]||"",!0),zl(this,m[6]||"",!0),this.m=Oi(m[7]||"")):(this.l=!1,this.i=new ks(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Lr(m,Ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lr(m,Ea,!0),"@"),u.push(is(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Lr(v,v.charAt(0)=="/"?jl:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Lr(v,_u)),u.join("")},Un.prototype.resolve=function(u){const m=qt(this);let v=!!u.j;v?nn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)Ms(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let ie=0;ie<j.length;){const Ne=j[ie++];Ne=="."?A&&ie==j.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ie==j.length&&q.push("")):(q.push(Ne),A=!0)}A=q.join("/")}else A=j}return v?m.h=A:v=u.i.toString()!=="",v?zl(m,bu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function qt(u){return new Un(u)}function nn(u,m,v){u.j=v?Oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ms(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zl(u,m,v){m instanceof ks?(u.i=m,Aa(u.i,u.l)):(v||(m=Lr(m,Vs)),u.i=new ks(m,u.l))}function rt(u,m,v){u.i.set(m,v)}function jr(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,In),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function In(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ea=/[#\/\?@]/g,yu=/[#\?:]/g,jl=/[#\?]/g,Vs=/[#\?@]/g,_u=/#/g;function ks(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Nn(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ks.prototype,s.add=function(u,m){Nn(this),this.i=null,u=zs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){Nn(u),m=zs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ll(u,m){return Nn(u),m=zs(u,m),u.g.has(m)}s.forEach=function(u,m){Nn(this),this.g.forEach(function(v,A){v.forEach(function(j){u.call(m,j,A,this)},this)},this)};function Ul(u,m){Nn(u);let v=[];if(typeof m=="string")Ll(u,m)&&(v=v.concat(u.g.get(zs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Nn(this),this.i=null,u=zs(this,u),Ll(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ul(this,u),u.length>0?String(u[0]):m):m};function Ta(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(zs(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const j=is(v);v=Ul(this,v);for(let q=0;q<v.length;q++){let ie=j;v[q]!==""&&(ie+="="+is(v[q])),u.push(ie)}}return this.i=u.join("&")};function bu(u){const m=new ks;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function zs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(Nn(u),u.i=null,u.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(vu(this,A),Ta(this,j,v))},u)),u.j=m}function fi(u,m){const v=new en;if(d.Image){const A=new Image;A.onload=E(Zn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(Zn,v,"TestLoadImage: error",!1,m,A),A.onabort=E(Zn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(Zn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Pl(u,m){const v=new en,A=new AbortController,j=setTimeout(()=>{A.abort(),Zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(j),q.ok?Zn(v,"TestPingServer: ok",!0,m):Zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Zn(v,"TestPingServer: error",!1,m)})}function Zn(u,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function js(){this.g=new St}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Mi,Cn),Mi.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(u,m){W.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ur,W),s=Ur.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ls(this):di(this),this.readyState==3&&Sa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ls(this))},s.Na=function(u){this.g&&(this.response=u,Ls(this))},s.ga=function(){this.g&&Ls(this)};function Ls(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let m="";return Ve(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Jn(v),typeof u=="string"?v!=null&&is(v):rt(u,m,v))}function ct(u){W.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ct,W);var Vi=/^https?$/i,Bl=["POST","PUT"];s=ct.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nl.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Br(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Bl,m,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of v)this.g.setRequestHeader(q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Br(this,q)}};function Br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ql(u),ss(u)}function ql(u){u.A||(u.A=!0,ne(u,"complete"),ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ne(this,"complete"),ne(this,"abort"),ss(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),ct.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?qr(this):this.Xa())},s.Xa=function(){qr(this)};function qr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(ne(u,"readystatechange"),mi(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let ie=String(u.D).match(gu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),A=!Vi.test(ie?ie.toLowerCase():"")}v=A}if(v)ne(u,"complete"),ne(u,"success");else{u.o=6;try{var j=mi(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",ql(u)}}finally{ss(u)}}}}function ss(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ne(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rt(m)}};function cn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=du(u[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[j]||[];m[j]=q,q.push(v)}Ze(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Us(u){this.za=0,this.i=[],this.j=new en,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,u),this.Za=ki("retryDelaySeedMs",1e4,u),this.Ta=ki("forwardChannelMaxRetries",2,u),this.va=ki("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(u&&u.concurrentRequestLimit),this.Ba=new js,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Us.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){ut(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ru(this,null,this.W),zi(this)};function Hl(u){if(xa(u),u.I==3){var m=u.V++,v=qt(u.J);if(rt(v,"SID",u.M),rt(v,"RID",m),rt(v,"TYPE","terminate"),Hr(u,v),m=new ci(u,u.j,m),m.M=2,m.A=jr(qt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ri(m)}wu(u)}function Ps(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function xa(u){Ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function zi(u){if(!Ol(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||x(),Qe||(ot(),Qe=!0),I.add(m,u),u.D=0}}function wa(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ct(y(u.Ea,u,m),xu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new ci(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Eu(this,j,m),v=qt(this.J),rt(v,"RID",u),rt(v,"CVER",22),this.G&&rt(v,"X-HTTP-Session-Id",this.G),Hr(this,v),q&&(this.R?m="headers="+is(Jn(q))+"&"+m:this.u&&Pr(v,this.u,q)),Ml(this.h,j),this.Ra&&rt(v,"TYPE","init"),this.S?(rt(v,"$req",m),rt(v,"SID","null"),j.U=!0,wi(j,v,null)):wi(j,v,m),this.I=2}}else this.I==3&&(u?Gl(this,u):this.i.length==0||Ol(this.h)||Gl(this))};function Gl(u,m){var v;m?v=m.l:v=u.V++;const A=qt(u.J);rt(A,"SID",u.M),rt(A,"RID",v),rt(A,"AID",u.K),Hr(u,A),u.u&&u.o&&Pr(A,u.u,u.o),v=new ci(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ml(u.h,v),wi(v,A,m)}function Hr(u,m){u.H&&Ve(u.H,function(v,A){rt(m,A,v)}),u.l&&Ve({},function(v,A){rt(m,A,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let Ne=-1;for(;;){const zt=["count="+v];Ne==-1?v>0?(Ne=j[0].g,zt.push("ofs="+Ne)):Ne=0:zt.push("ofs="+Ne);let nt=!0;for(let Et=0;Et<v;Et++){var q=j[Et].g;const Wn=j[Et].map;if(q-=Ne,q<0)Ne=Math.max(0,j[Et].g-100),nt=!1;else try{q="req"+q+"_"||"";try{var ie=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Li,pi]of ie){let gi=pi;g(pi)&&(gi=he(pi)),zt.push(q+Li+"="+encodeURIComponent(gi))}}catch(Li){throw zt.push(q+"type="+encodeURIComponent("_badmap")),Li}}catch{A&&A(Wn)}}if(nt){ie=zt.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||x(),Qe||(ot(),Qe=!0),I.add(m,u),u.A=0}}function Gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ct(y(u.Da,u),xu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ct(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),Ps(this),Au(this))};function Fl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new ci(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=qt(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),Hr(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=jr(qt(m)),v.u=null,v.R=!0,_a(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Ps(this),Gr(this),ut(19))};function Ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){Ra(u),Fl(u),u.g=null;var A=2}else if(Di(u.h,m))v=m.G,Vl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=Be(),ne(A,new kt(A,v)),zi(u)}else Tu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&wa(u,m)||A==2&&Gr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function xu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const j=!A;A=new Un(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||nn(A,"https"),jr(A),j?fi(A.toString(),v):Pl(A.toString(),v)}else ut(2);u.I=0,u.l&&u.l.pa(m),wu(u),xa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=kl(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,v){var A=v instanceof Un?qt(v):new Un(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ms(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new Un(null);A&&nn(q,A),m&&(q.g=m),j&&Ms(q,j),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&rt(A,v,m),rt(A,"VER",u.ka),Hr(u,A),A}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ct(new Mi({ab:v})):new ct(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}s=Iu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Bs(){}Bs.prototype.g=function(u,m){return new Sn(u,m)};function Sn(u,m){W.call(this),this.g=new Us(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new as(this)}S(Sn,W),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Hl(this.g)},Sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=he(u),u=v);m.i.push(new Bt(m.Ya++,u)),m.I==3&&zi(m)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,Sn.Z.N.call(this)};function Nu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Nu,ke);function Du(){Mt.call(this),this.status=1}S(Du,Mt);function as(u){this.g=u}S(as,Iu),as.prototype.ra=function(){ne(this.g,"a")},as.prototype.qa=function(u){ne(this.g,new Nu(u))},as.prototype.pa=function(u){ne(this.g,new Du)},as.prototype.oa=function(){ne(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,U1=function(){return new Bs},L1=function(){return Be()},j1=Je,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,Kc=kr,Il.COMPLETE="complete",z1=Il,Os.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",W.prototype.listen=W.prototype.J,Do=Os,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,k1=ct}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore",L_="4.9.3";let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let xl="12.7.0";const fa=new Pm("@firebase/firestore");function sl(){return fa.logLevel}function oe(s,...e){if(fa.logLevel<=Ge.DEBUG){const i=e.map(Zm);fa.debug(`Firestore (${xl}): ${s}`,...i)}}function Is(s,...e){if(fa.logLevel<=Ge.ERROR){const i=e.map(Zm);fa.error(`Firestore (${xl}): ${s}`,...i)}}function pl(s,...e){if(fa.logLevel<=Ge.WARN){const i=e.map(Zm);fa.warn(`Firestore (${xl}): ${s}`,...i)}}function Zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,P1(s,a,i)}function P1(s,e,i){let a=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Is(a),new Error(a)}function st(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||P1(e,o,a)}function Ie(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ds{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class B1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(En.UNAUTHENTICATED)))}shutdown(){}}class Yx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Xx{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){st(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(st(typeof a.accessToken=="string",31837,{l:a}),new B1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class $x{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Zx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new $x(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){st(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(st(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new U_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Wx(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Wx(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Fe(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Wd(o)===Wd(c)?Fe(o,c):Wd(o)?1:-1}return Fe(s.length,e.length)}const ew=55296,tw=57343;function Wd(s){const e=s.charCodeAt(0);return e>=ew&&e<=tw}function gl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const P_="__name__";class Hi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ae(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Hi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const a=Hi.isNumericId(e),o=Hi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class xt extends Hi{construct(e,i,a){return new xt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new xt(i)}static emptyPath(){return new xt([])}}const nw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Hi{construct(e,i,a){return new yn(e,i,a)}static isValidIdentifier(e){return nw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new yn([P_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(i)}static emptyPath(){return new yn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(xt.fromString(e))}static fromName(e){return new be(xt.fromString(e).popFirst(5))}static empty(){return new be(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new xt(e.slice()))}}function iw(s,e,i){if(!i)throw new me(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function sw(s,e,i,a){if(e===!0&&a===!0)throw new me(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function B_(s){if(!be.isDocumentKey(s))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function q1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Wm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function Ei(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Wm(s);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Yt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ru(s,e){if(!q1(s))throw new me(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new me(Z.INVALID_ARGUMENT,i);return!0}const q_=-62135596800,H_=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*H_);return new bt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<q_)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Yt("string",bt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new bt(0,0))}static max(){return new Re(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Go=-1;function rw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new bt(i+1,0):new bt(i,a));return new Sr(o,be.empty(),e)}function aw(s){return new Sr(s.readTime,s.key,Go)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(Re.min(),be.empty(),Go)}static max(){return new Sr(Re.max(),be.empty(),Go)}}function lw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=be.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wl(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==ow)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((E=>{d[y]=E,++g,g===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function cw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Rl(s){return s.name==="IndexedDbTransactionError"}class xh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;const ep=-1;function wh(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function hw(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const H1="";function fw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=G_(e)),e=dw(s.get(i),e);return G_(e)}function dw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case H1:i+="";break;default:i+=c}}return i}function G_(s){return s+H1+""}function F_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function G1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class wt{constructor(e,i){this.comparator=e,this.root=i||gn.EMPTY}insert(e,i){return new wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??gn.RED,this.left=o??gn.EMPTY,this.right=c??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new gn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new gn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new Jt(yn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new F1("Invalid base64 string: "+c):c}})(e);return new _n(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new _n(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const mw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const i=mw.exec(s);if(st(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ut(s.seconds),nanos:Ut(s.nanos)}}function Ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?_n.fromBase64String(s):_n.fromUint8Array(s)}const K1="server_timestamp",Q1="__type__",Y1="__previous_value__",X1="__local_write_time__";function tp(s){return(s?.mapValue?.fields||{})[Q1]?.stringValue===K1}function Rh(s){const e=s.mapValue.fields[Y1];return tp(e)?Rh(e):e}function Fo(s){const e=xr(s.mapValue.fields[X1].timestampValue);return new bt(e.seconds,e.nanos)}class pw{constructor(e,i,a,o,c,d,g,_,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const uh="(default)";class Ko{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}const $1="__type__",gw="__max__",Lc={mapValue:{}},Z1="__vector__",ch="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?tp(s)?4:_w(s)?9007199254740991:yw(s)?10:11:Ae(28295,{value:s})}function Zi(s,e){if(s===e)return!0;const i=Rr(s);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fo(s).isEqual(Fo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=xr(o.timestampValue),g=xr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return wr(o.bytesValue).isEqual(wr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ut(o.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ut(o.integerValue)===Ut(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ut(o.doubleValue),g=Ut(c.doubleValue);return d===g?oh(d)===oh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return gl(s.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(F_(d)!==F_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Zi(d[_],g[_])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Qo(s,e){return(s.values||[]).find((i=>Zi(i,e)))!==void 0}function yl(s,e){if(s===e)return 0;const i=Rr(s),a=Rr(e);if(i!==a)return Fe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ut(c.integerValue||c.doubleValue),_=Ut(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return Q_(s.timestampValue,e.timestampValue);case 4:return Q_(Fo(s),Fo(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=wr(c),_=wr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const E=Fe(g[y],_[y]);if(E!==0)return E}return Fe(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Fe(Ut(c.latitude),Ut(d.latitude));return g!==0?g:Fe(Ut(c.longitude),Ut(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Y_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[ch]?.arrayValue,E=_[ch]?.arrayValue,S=Fe(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Y_(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let S=0;S<_.length&&S<E.length;++S){const N=gm(_[S],E[S]);if(N!==0)return N;const G=yl(g[_[S]],y[E[S]]);if(G!==0)return G}return Fe(_.length,E.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function Q_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=xr(s),a=xr(e),o=Fe(i.seconds,a.seconds);return o!==0?o:Fe(i.nanos,a.nanos)}function Y_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=yl(i[o],a[o]);if(c)return c}return Fe(i.length,a.length)}function _l(s){return ym(s)}function ym(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=xr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return wr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return be.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=ym(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${ym(i.fields[d])}`;return o+"}"})(s.mapValue):Ae(61005,{value:s})}function Qc(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Nr(a.fields,((c,d)=>{o+=c.length+Qc(d)})),o})(s.mapValue);default:throw Ae(13486,{value:s})}}function _m(s){return!!s&&"integerValue"in s}function np(s){return!!s&&"arrayValue"in s}function X_(s){return!!s&&"nullValue"in s}function $_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function yw(s){return(s?.mapValue?.fields||{})[$1]?.stringValue===Z1}function jo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Nr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=jo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jo(s.arrayValue.values[i]);return e}return{...s}}function _w(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===gw}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(i)}setAll(e){let i=yn.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=jo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Nr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new jn(jo(this.value))}}function J1(s){const e=[];return Nr(s.fields,((i,a)=>{const o=new yn([i]);if(Yc(a)){const c=J1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Qn(e)}class Tn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Tn(e,0,Re.min(),Re.min(),Re.min(),jn.empty(),0)}static newFoundDocument(e,i,a,o){return new Tn(e,1,i,Re.min(),a,o,0)}static newNoDocument(e,i){return new Tn(e,2,i,Re.min(),Re.min(),jn.empty(),0)}static newUnknownDocument(e,i){return new Tn(e,3,i,Re.min(),Re.min(),jn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,i){this.position=e,this.inclusive=i}}function Z_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=be.comparator(be.fromName(d.referenceValue),i.key):a=yl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function J_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Zi(s.position[i],e.position[i]))return!1;return!0}class fh{constructor(e,i="asc"){this.field=e,this.dir=i}}function vw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class W1{}class Zt extends W1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Ew(e,i,a):i==="array-contains"?new Sw(e,a):i==="in"?new xw(e,a):i==="not-in"?new ww(e,a):i==="array-contains-any"?new Rw(e,a):new Zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Tw(e,a):new Aw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yl(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(yl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends W1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ji(e,i)}matches(e){return eb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eb(s){return s.op==="and"}function tb(s){return bw(s)&&eb(s)}function bw(s){for(const e of s.filters)if(e instanceof Ji)return!1;return!0}function vm(s){if(s instanceof Zt)return s.field.canonicalString()+s.op.toString()+_l(s.value);if(tb(s))return s.filters.map((e=>vm(e))).join(",");{const e=s.filters.map((i=>vm(i))).join(",");return`${s.op}(${e})`}}function nb(s,e){return s instanceof Zt?(function(a,o){return o instanceof Zt&&a.op===o.op&&a.field.isEqual(o.field)&&Zi(a.value,o.value)})(s,e):s instanceof Ji?(function(a,o){return o instanceof Ji&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&nb(d,o.filters[g])),!0):!1})(s,e):void Ae(19439)}function ib(s){return s instanceof Zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${_l(i.value)}`})(s):s instanceof Ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(ib).join(" ,")+"}"})(s):"Filter"}class Ew extends Zt{constructor(e,i,a){super(e,i,a),this.key=be.fromName(a.referenceValue)}matches(e){const i=be.comparator(e.key,this.key);return this.matchesComparison(i)}}class Tw extends Zt{constructor(e,i){super(e,"in",i),this.keys=sb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Aw extends Zt{constructor(e,i){super(e,"not-in",i),this.keys=sb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function sb(s,e){return(e.arrayValue?.values||[]).map((i=>be.fromName(i.referenceValue)))}class Sw extends Zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return np(i)&&Qo(i.arrayValue,this.value)}}class xw extends Zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class ww extends Zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class Rw extends Zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!np(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}class Cw{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function W_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new Cw(s,e,i,a,o,c,d)}function ip(s){const e=Ie(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>vm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),wh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>_l(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>_l(a))).join(",")),e.Te=i}return e.Te}function sp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!nb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!J_(s.startAt,e.startAt)&&J_(s.endAt,e.endAt)}function bm(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ch{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Iw(s,e,i,a,o,c,d,g){return new Ch(s,e,i,a,o,c,d,g)}function Ih(s){return new Ch(s)}function ev(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Nw(s){return s.collectionGroup!==null}function Lo(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Jt(yn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fh(c,a))})),i.has(yn.keyField().canonicalString())||e.Ie.push(new fh(yn.keyField(),a))}return e.Ie}function Qi(s){const e=Ie(s);return e.Ee||(e.Ee=Dw(e,Lo(s))),e.Ee}function Dw(s,e){if(s.limitType==="F")return W_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new fh(o.field,c)}));const i=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return W_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Em(s,e,i){return new Ch(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nh(s,e){return sp(Qi(s),Qi(e))&&s.limitType===e.limitType}function rb(s){return`${ip(Qi(s))}|lt:${s.limitType}`}function rl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>ib(o))).join(", ")}]`),wh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>_l(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>_l(o))).join(",")),`Target(${a})`})(Qi(s))}; limitType=${s.limitType})`}function Dh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):be.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Lo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=Z_(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Lo(a),o)||a.endAt&&!(function(d,g,_){const y=Z_(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Lo(a),o))})(s,e)}function Ow(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ab(s){return(e,i)=>{let a=!1;for(const o of Lo(s)){const c=Mw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Mw(s,e,i){const a=s.field.isKeyField()?be.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?yl(_,y):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:s.dir})}}class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return G1(this.inner)}size(){return this.innerSize}}const Vw=new wt(be.comparator);function Ns(){return Vw}const lb=new wt(be.comparator);function Oo(...s){let e=lb;for(const i of s)e=e.insert(i.key,i);return e}function ob(s){let e=lb;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return Uo()}function ub(){return Uo()}function Uo(){return new pa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const kw=new wt(be.comparator),zw=new Jt(be.comparator);function Ke(...s){let e=zw;for(const i of s)e=e.add(i);return e}const jw=new Jt(Fe);function Lw(){return jw}function rp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function cb(s){return{integerValue:""+s}}function Uw(s,e){return hw(e)?cb(e):rp(s,e)}class Oh{constructor(){this._=void 0}}function Pw(s,e,i){return s instanceof dh?(function(o,c){const d={fields:{[Q1]:{stringValue:K1},[X1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&tp(c)&&(c=Rh(c)),c&&(d.fields[Y1]=c),{mapValue:d}})(i,e):s instanceof vl?fb(s,e):s instanceof Yo?db(s,e):(function(o,c){const d=hb(o,c),g=tv(d)+tv(o.Ae);return _m(d)&&_m(o.Ae)?cb(g):rp(o.serializer,g)})(s,e)}function Bw(s,e,i){return s instanceof vl?fb(s,e):s instanceof Yo?db(s,e):i}function hb(s,e){return s instanceof mh?(function(a){return _m(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class dh extends Oh{}class vl extends Oh{constructor(e){super(),this.elements=e}}function fb(s,e){const i=mb(e);for(const a of s.elements)i.some((o=>Zi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Yo extends Oh{constructor(e){super(),this.elements=e}}function db(s,e){let i=mb(e);for(const a of s.elements)i=i.filter((o=>!Zi(o,a)));return{arrayValue:{values:i}}}class mh extends Oh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function tv(s){return Ut(s.integerValue||s.doubleValue)}function mb(s){return np(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class qw{constructor(e,i){this.field=e,this.transform=i}}function Hw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof vl&&o instanceof vl||a instanceof Yo&&o instanceof Yo?gl(a.elements,o.elements,Zi):a instanceof mh&&o instanceof mh?Zi(a.Ae,o.Ae):a instanceof dh&&o instanceof dh})(s.transform,e.transform)}class Gw{constructor(e,i){this.version=e,this.transformResults=i}}class Ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Mh{}function pb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ap(s.key,Ti.none()):new au(s.key,s.data,Ti.none());{const i=s.data,a=jn.empty();let o=new Jt(yn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Dr(s.key,a,new Qn(o.toArray()),Ti.none())}}function Fw(s,e,i){s instanceof au?(function(o,c,d){const g=o.value.clone(),_=iv(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Dr?(function(o,c,d){if(!Xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=iv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(gb(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Po(s,e,i,a){return s instanceof au?(function(c,d,g,_){if(!Xc(c.precondition,d))return g;const y=c.value.clone(),E=sv(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Dr?(function(c,d,g,_){if(!Xc(c.precondition,d))return g;const y=sv(c.fieldTransforms,_,d),E=d.data;return E.setAll(gb(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,g){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Kw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=hb(a.transform,o||null);c!=null&&(i===null&&(i=jn.empty()),i.set(a.field,c))}return i||null}function nv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&gl(a,o,((c,d)=>Hw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends Mh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends Mh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function gb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function iv(s,e,i){const a=new Map;st(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,Bw(d,g,i[o]))}return a}function sv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Pw(c,d,e))}return a}class ap extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qw extends Mh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Fw(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Po(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Po(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ub();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=pb(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((i,a)=>nv(i,a)))&&gl(this.baseMutations,e.baseMutations,((i,a)=>nv(i,a)))}}class lp{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){st(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return kw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new lp(e,i,a,o)}}class Xw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $w{constructor(e,i){this.count=e,this.unchangedNames=i}}var Qt,$e;function Zw(s){switch(s){case Z.OK:return Ae(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function yb(s){if(s===void 0)return Is("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Qt.OK:return Z.OK;case Qt.CANCELLED:return Z.CANCELLED;case Qt.UNKNOWN:return Z.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return Z.INTERNAL;case Qt.UNAVAILABLE:return Z.UNAVAILABLE;case Qt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Qt.NOT_FOUND:return Z.NOT_FOUND;case Qt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Qt.ABORTED:return Z.ABORTED;case Qt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Qt.DATA_LOSS:return Z.DATA_LOSS;default:return Ae(39323,{code:s})}}($e=Qt||(Qt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function Jw(){return new TextEncoder}const Ww=new Er([4294967295,4294967295],0);function rv(s){const e=Jw().encode(s),i=new V1;return i.update(e),new Uint8Array(i.digest())}function av(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Er([i,a],0),new Er([o,c],0)]}class op{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(a<0)throw new Mo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Er.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Er.fromNumber(a)));return o.compare(Ww)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=rv(e),[a,o]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new op(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=rv(e),[a,o]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Vh(Re.min(),o,new wt(Fe),Ns(),Ke())}}class lu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,Ke(),Ke(),Ke())}}class $c{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class _b{constructor(e,i){this.targetId=e,this.Ce=i}}class vb{constructor(e,i,a=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class lv{constructor(){this.ve=0,this.Fe=ov(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),i=Ke(),a=Ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ae(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=ov()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ns(),this.Je=Uc(),this.He=Uc(),this.Ye=new wt(Fe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(bm(c))if(a===0){const d=new be(c.path);this.et(i,d,Tn.newNoDocument(d,Re.min()))}else st(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=wr(a).toUint8Array()}catch(_){if(_ instanceof F1)return pl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new op(d,o,c)}catch(_){return pl(_ instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&bm(g.target)){const _=new be(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Tn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ke();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Vh(e,i,this.Ye,this.je,a);return this.je=Ns(),this.Je=Uc(),this.He=Uc(),this.Ye=new wt(Fe),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new lv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(Fe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(Fe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uc(){return new wt(be.comparator)}function ov(){return new wt(be.comparator)}const tR={asc:"ASCENDING",desc:"DESCENDING"},nR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iR={and:"AND",or:"OR"};class sR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Tm(s,e){return s.useProto3Json||wh(e)?e:{value:e}}function ph(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function rR(s,e){return ph(s,e.toTimestamp())}function Yi(s){return st(!!s,49232),Re.fromTimestamp((function(i){const a=xr(i);return new bt(a.seconds,a.nanos)})(s))}function up(s,e){return Am(s,e).canonicalString()}function Am(s,e){const i=(function(o){return new xt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Eb(s){const e=xt.fromString(s);return st(wb(e),10190,{key:e.toString()}),e}function Sm(s,e){return up(s.databaseId,e.path)}function em(s,e){const i=Eb(e);if(i.get(1)!==s.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new be(Ab(i))}function Tb(s,e){return up(s.databaseId,e)}function aR(s){const e=Eb(s);return e.length===4?xt.emptyPath():Ab(e)}function xm(s){return new xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ab(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function uv(s,e,i){return{name:Sm(s,e),fields:i.value.mapValue.fields}}function lR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(st(E===void 0||typeof E=="string",58123),_n.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),_n.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?Z.UNKNOWN:yb(y.code);return new me(E,y.message||"")})(d);i=new vb(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=em(s,a.document.name),c=Yi(a.document.updateTime),d=a.document.createTime?Yi(a.document.createTime):Re.min(),g=new jn({mapValue:{fields:a.document.fields}}),_=Tn.newFoundDocument(o,c,d,g),y=a.targetIds||[],E=a.removedTargetIds||[];i=new $c(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=em(s,a.document),c=a.readTime?Yi(a.readTime):Re.min(),d=Tn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new $c([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=em(s,a.document),c=a.removedTargetIds||[];i=new $c([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new $w(o,c),g=a.targetId;i=new _b(g,d)}}return i}function oR(s,e){let i;if(e instanceof au)i={update:uv(s,e.key,e.value)};else if(e instanceof ap)i={delete:Sm(s,e.key)};else if(e instanceof Dr)i={update:uv(s,e.key,e.data),updateMask:yR(e.fieldMask)};else{if(!(e instanceof Qw))return Ae(16599,{Vt:e.type});i={verify:Sm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof dh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:rR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function uR(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Yi(o.updateTime):Yi(c);return d.isEqual(Re.min())&&(d=Yi(c)),new Gw(d,o.transformResults||[])})(i,e)))):[]}function cR(s,e){return{documents:[Tb(s,e.path)]}}function hR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Tb(s,o);const c=(function(y){if(y.length!==0)return xb(Ji.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(N){return{field:al(N.field),direction:mR(N.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Tm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function fR(s){let e=aR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){st(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const N=Sb(S);return N instanceof Ji&&tb(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((N=>(function($){return new fh(ll($.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,wh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(S){const N=!!S.before,G=S.values||[];return new hh(G,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const N=!S.before,G=S.values||[];return new hh(G,N)})(i.endAt)),Iw(e,o,d,c,g,"F",_,y)}function dR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Sb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ll(i.unaryFilter.field);return Zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ll(i.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ll(i.unaryFilter.field);return Zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ll(i.unaryFilter.field);return Zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Zt.create(ll(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ji.create(i.compositeFilter.filters.map((a=>Sb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function mR(s){return tR[s]}function pR(s){return nR[s]}function gR(s){return iR[s]}function al(s){return{fieldPath:s.canonicalString()}}function ll(s){return yn.fromServerFormat(s.fieldPath)}function xb(s){return s instanceof Zt?(function(i){if(i.op==="=="){if($_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NAN"}};if(X_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NOT_NAN"}};if(X_(i.value))return{unaryFilter:{field:al(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(i.field),op:pR(i.op),value:i.value}}})(s):s instanceof Ji?(function(i){const a=i.getFilters().map((o=>xb(o)));return a.length===1?a[0]:{compositeFilter:{op:gR(i.op),filters:a}}})(s):Ae(54877,{filter:s})}function yR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function wb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class yr{constructor(e,i,a,o,c=Re.min(),d=Re.min(),g=_n.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _R{constructor(e){this.yt=e}}function vR(s){const e=fR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Em(e,e.limit,"L"):e}class bR{constructor(){this.Cn=new ER}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Sr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class ER{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Jt(xt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(xt.comparator)).toArray()}}const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(Rb,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);class bl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bl(0)}static cr(){return new bl(-1)}}const hv="LruGarbageCollector",TR=1048576;function fv([s,e],[i,a]){const o=Fe(s,i);return o===0?Fe(e,a):o}class AR{constructor(e){this.Ir=e,this.buffer=new Jt(fv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();fv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(hv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Rl(i)?oe(hv,"Ignoring IndexedDB error during garbage collection: ",i):await wl(i)}await this.Vr(3e5)}))}}class xR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(xh.ce);const a=new AR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(cv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(y=Date.now(),sl()<=Ge.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function wR(s,e){return new xR(s,e)}class RR{constructor(){this.changes=new pa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class IR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Po(a.mutation,o,Qn.empty(),bt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ke()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ke()){const o=oa();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Oo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ke())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=Ns();const d=Uo(),g=(function(){return Uo()})();return i.forEach(((_,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Dr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Po(E.mutation,y,E.mutation.getFieldMask(),bt.now())):d.set(y.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new CR(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Uo();let o=new wt(((d,g)=>d-g)),c=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||Qn.empty();E=g.applyToLocalView(y,E),a.set(_,E);const S=(o.get(g.batchId)||Ke()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,E=_.value,S=ub();E.forEach((N=>{if(!c.has(N)){const G=pb(i.get(N),a.get(N));G!==null&&S.set(N,G),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Nw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(oa());let g=Go,_=c;return d.next((y=>X.forEach(y,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((N=>{_=_.insert(E,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Ke()))).next((E=>({batchId:g,changes:ob(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new be(i)).next((a=>{let o=Oo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Oo();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const y=(function(S,N){return new Ch(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((S,N)=>{d=d.insert(S,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Tn.newInvalidDocument(E)))}));let g=Oo();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Po(E.mutation,y,Qn.empty(),bt.now()),Dh(i,y)&&(g=g.insert(_,y))})),g}))}}class NR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:vR(o.bundledQuery),readTime:Yi(o.readTime)}})(i)),X.resolve()}}class DR{constructor(){this.overlays=new wt(be.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=oa(),c=i.length+1,d=new be(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new wt(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=oa(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=oa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return X.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Xw(i,a));let c=this.qr.get(i);c===void 0&&(c=Ke(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class OR{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class cp{constructor(){this.Qr=new Jt(on.$r),this.Ur=new Jt(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new on(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new on(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new be(new xt([])),a=new on(i,e),o=new on(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new be(new xt([])),a=new on(i,e),o=new on(i,e+1);let c=Ke();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new on(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class on{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return be.comparator(e.key,i.key)||Fe(e.Yr,i.Yr)}static Kr(e,i){return Fe(e.Yr,i.Yr)||be.comparator(e.key,i.key)}}class MR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(on.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Yw(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new on(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ep:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Jt(Fe);return i.forEach((o=>{const c=new on(o,0),d=new on(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;be.isDocumentKey(c)||(c=c.child(""));const d=new on(new be(c),0);let g=new Jt(Fe);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){st(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new on(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new on(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class VR{constructor(e){this.ri=e,this.docs=(function(){return new wt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Tn.newInvalidDocument(i))}getEntries(e,i){let a=Ns();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Tn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Ns();const d=i.path,g=new be(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||lw(aw(E),a)<=0||(o.has(E.key)||Dh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ae(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new kR(this)}getSize(e){return X.resolve(this.size)}}class kR extends RR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class zR{constructor(e){this.persistence=e,this.si=new pa((i=>ip(i)),sp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new cp,this.targetCount=0,this.ai=bl.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new bl(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class Cb{constructor(e,i){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new OR,this.referenceDelegate=e(this),this.Pi=new zR(this),this.indexManager=new bR,this.remoteDocumentCache=(function(o){return new VR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new _R(i),this.Ii=new NR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new DR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new MR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new jR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class jR extends uw{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Ri=new cp,this.Vi=null}static mi(e){return new hp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=be.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class gh{constructor(e,i){this.persistence=e,this.pi=new pa((a=>fw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=wR(this,i)}static mi(e,i){return new gh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class fp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Ke(),o=Ke();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new fp(e,i.fromCache,a,o)}}class LR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xA()?8:cw(An())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new LR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(sl()<=Ge.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",rl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(sl()<=Ge.DEBUG&&oe("QueryEngine","Query:",rl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(sl()<=Ge.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",rl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(i))):X.resolve())}ys(e,i){if(ev(i))return X.resolve(null);let a=Qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Em(i,null,"F"),a=Qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ke(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,Em(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,o){return ev(i)||o.isEqual(Re.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(sl()<=Ge.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rl(i)),this.vs(e,d,i,rw(o,Go)).next((g=>g)))}))}Ds(e,i){let a=new Jt(ab(e));return i.forEach(((o,c)=>{Dh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return sl()<=Ge.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",rl(i)),this.ps.getDocumentsMatchingQuery(e,i,Sr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const dp="LocalStore",PR=3e8;class BR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new wt(Fe),this.xs=new pa((c=>ip(c)),sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function qR(s,e,i,a){return new BR(s,e,i,a)}async function Ib(s,e){const i=Ie(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Ke();for(const y of o){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function HR(s,e){const i=Ie(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,E){const S=y.batch,N=S.keys();let G=X.resolve();return N.forEach(($=>{G=G.next((()=>E.getEntry(_,$))).next((te=>{const ee=y.docVersions.get($);st(ee!==null,48541),te.version.compareTo(ee)<0&&(S.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),E.addEntry(te)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Ke();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Nb(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function GR(s,e){const i=Ie(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,S)=>{const N=o.get(S);if(!N)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let G=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?G=G.withResumeToken(_n.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,a)),o=o.insert(S,G),(function(te,ee,_e){return te.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=PR?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(N,G,E)&&g.push(i.Pi.updateTargetData(c,G))}));let _=Ns(),y=Ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(FR(c,d,e.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!a.isEqual(Re.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function FR(s,e,i){let a=Ke(),o=Ke();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ns();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Re.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):oe(dp,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function KR(s,e){const i=Ie(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=ep),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function QR(s,e){const i=Ie(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function wm(s,e,i){const a=Ie(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Rl(d))throw d;oe(dp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function dv(s,e,i){const a=Ie(s);let o=Re.min(),c=Ke();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const S=Ie(_),N=S.xs.get(E);return N!==void 0?X.resolve(S.Ms.get(N)):S.Pi.getTargetData(y,E)})(a,d,Qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Re.min(),i?c:Ke()))).next((g=>(YR(a,Ow(e),g),{documents:g,Qs:c})))))}function YR(s,e,i){let a=s.Os.get(e)||Re.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class mv{constructor(){this.activeTargetIds=Lw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XR{constructor(){this.Mo=new mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $R{Oo(e){}shutdown(){}}const pv="ConnectivityMonitor";class gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(pv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(pv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Rm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const tm="RestConnection",ZR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===uh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=Rm(),g=this.zo(e,i.toUriEncodedString());oe(tm,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(g),E=Tl(y);return this.Jo(e,g,_,a,E).then((S=>(oe(tm,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw pl(tm,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=ZR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class WR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const bn="WebChannelConnection";class eC extends JR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=Rm();return new Promise(((g,_)=>{const y=new k1;y.setWithCredentials(!0),y.listenOnce(z1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Kc.NO_ERROR:const S=y.getResponseJson();oe(bn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Kc.TIMEOUT:oe(bn,`RPC '${e}' ${d} timed out`),_(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const N=y.getStatus();if(oe(bn,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const te=(function(_e){const Te=_e.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Te)>=0?Te:Z.UNKNOWN})($.status);_(new me(te,$.message))}else _(new me(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(bn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);oe(bn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=Rm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=U1(),g=L1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");oe(bn,`Creating RPC '${e}' stream ${o}: ${E}`,_);const S=d.createWebChannel(E,_);this.I_(S);let N=!1,G=!1;const $=new WR({Yo:ee=>{G?oe(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(N||(oe(bn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),N=!0),oe(bn,`RPC '${e}' stream ${o} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),te=(ee,_e,Te)=>{ee.listen(_e,(ge=>{try{Te(ge)}catch(Ue){setTimeout((()=>{throw Ue}),0)}}))};return te(S,Do.EventType.OPEN,(()=>{G||(oe(bn,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),te(S,Do.EventType.CLOSE,(()=>{G||(G=!0,oe(bn,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(S))})),te(S,Do.EventType.ERROR,(ee=>{G||(G=!0,pl(bn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),$.a_(new me(Z.UNAVAILABLE,"The operation could not be completed")))})),te(S,Do.EventType.MESSAGE,(ee=>{if(!G){const _e=ee.data[0];st(!!_e,16349);const Te=_e,ge=Te?.error||Te[0]?.error;if(ge){oe(bn,`RPC '${e}' stream ${o} received error:`,ge);const Ue=ge.status;let ot=(function(x){const w=Qt[x];if(w!==void 0)return yb(w)})(Ue),Qe=ge.message;ot===void 0&&(ot=Z.INTERNAL,Qe="Unknown error status: "+Ue+" with message "+ge.message),G=!0,$.a_(new me(ot,Qe)),S.close()}else oe(bn,`RPC '${e}' stream ${o} received:`,_e),$.u_(_e)}})),te(g,j1.STAT_EVENT,(ee=>{ee.stat===pm.PROXY?oe(bn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===pm.NOPROXY&&oe(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function nm(){return typeof document<"u"?document:null}function kh(s){return new sR(s,!0)}class Db{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yv="PersistentStream";class Ob{constructor(e,i,a,o,c,d,g,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Db(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Is(i.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new me(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(yv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tC extends Ob{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=lR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Yi(d.readTime):Re.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=bm(_)?{documents:cR(c,_)}:{query:hR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=bb(c,d.resumeToken);const y=Tm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){g.readTime=ph(c,d.snapshotVersion.toTimestamp());const y=Tm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=dR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=xm(this.serializer),i.removeTarget=e,this.q_(i)}}class nC extends Ob{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=uR(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>oR(this.serializer,a)))};this.q_(i)}}class iC{}class sC extends iC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Am(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Am(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class aC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(oe(da,"Restarting streams for network reachability change."),await(async function(_){const y=Ie(_);y.Ea.add(4),await ou(y),y.Ra.set("Unknown"),y.Ea.delete(4),await zh(y)})(this))}))})),this.Ra=new rC(a,o)}}async function zh(s){if(ga(s))for(const e of s.da)await e(!0)}async function ou(s){for(const e of s.da)await e(!1)}function Mb(s,e){const i=Ie(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),yp(i)?gp(i):Cl(i).O_()&&pp(i,e))}function mp(s,e){const i=Ie(s),a=Cl(i);i.Ia.delete(e),a.O_()&&Vb(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function pp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cl(s).Y_(e)}function Vb(s,e){s.Va.Ue(e),Cl(s).Z_(e)}function gp(s){s.Va=new eR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Cl(s).start(),s.Ra.ua()}function yp(s){return ga(s)&&!Cl(s).x_()&&s.Ia.size>0}function ga(s){return Ie(s).Ea.size===0}function kb(s){s.Va=void 0}async function lC(s){s.Ra.set("Online")}async function oC(s){s.Ia.forEach(((e,i)=>{pp(s,e)}))}async function uC(s,e){kb(s),yp(s)?(s.Ra.ha(e),gp(s)):s.Ra.set("Unknown")}async function cC(s,e,i){if(s.Ra.set("Online"),e instanceof vb&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){oe(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yh(s,a)}else if(e instanceof $c?s.Va.Ze(e):e instanceof _b?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const a=await Nb(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(_n.EMPTY_BYTE_STRING,E.snapshotVersion)),Vb(c,_);const S=new yr(E.target,_,y,E.sequenceNumber);pp(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){oe(da,"Failed to raise snapshot:",a),await yh(s,a)}}async function yh(s,e,i){if(!Rl(e))throw e;s.Ea.add(1),await ou(s),s.Ra.set("Offline"),i||(i=()=>Nb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await zh(s)}))}function zb(s,e){return e().catch((i=>yh(s,i,e)))}async function jh(s){const e=Ie(s),i=Cr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ep;for(;hC(e);)try{const o=await KR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,fC(e,o)}catch(o){await yh(e,o)}jb(e)&&Lb(e)}function hC(s){return ga(s)&&s.Ta.length<10}function fC(s,e){s.Ta.push(e);const i=Cr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function jb(s){return ga(s)&&!Cr(s).x_()&&s.Ta.length>0}function Lb(s){Cr(s).start()}async function dC(s){Cr(s).ra()}async function mC(s){const e=Cr(s);for(const i of s.Ta)e.ea(i.mutations)}async function pC(s,e,i){const a=s.Ta.shift(),o=lp.from(a,e,i);await zb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await jh(s)}async function gC(s,e){e&&Cr(s).X_&&await(async function(a,o){if((function(d){return Zw(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();Cr(a).B_(),await zb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await jh(a)}})(s,e),jb(s)&&Lb(s)}async function _v(s,e){const i=Ie(s);i.asyncQueue.verifyOperationInProgress(),oe(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await ou(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await zh(i)}async function yC(s,e){const i=Ie(s);e?(i.Ea.delete(2),await zh(i)):e||(i.Ea.add(2),await ou(i),i.Ra.set("Unknown"))}function Cl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ie(i);return c.sa(),new tC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:lC.bind(null,s),t_:oC.bind(null,s),r_:uC.bind(null,s),H_:cC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),yp(s)?gp(s):s.Ra.set("Unknown")):(await s.ma.stop(),kb(s))}))),s.ma}function Cr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ie(i);return c.sa(),new nC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:dC.bind(null,s),r_:gC.bind(null,s),ta:mC.bind(null,s),na:pC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class _p{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new _p(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(s,e){if(Is("AsyncQueue",`${e}: ${s}`),Rl(s))return new me(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||be.comparator(i.key,a.key):(i,a)=>be.comparator(i.key,a.key),this.keyedMap=Oo(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new fl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class vv{constructor(){this.ga=new wt(be.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class El{constructor(e,i,a,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new El(e,i,fl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class _C{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vC{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ie(i),c=o.queries;o.queries=bv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function bv(){return new pa((s=>rb(s)),Nh)}async function Ub(s,e){const i=Ie(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new _C,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=vp(d,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&bp(i)}async function Pb(s,e){const i=Ie(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function bC(s,e){const i=Ie(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&bp(i)}function EC(s,e,i){const a=Ie(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function bp(s){s.Ca.forEach((e=>{e.next()}))}var Cm,Ev;(Ev=Cm||(Cm={})).Ma="default",Ev.Cache="cache";class Bb{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new El(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cm.Cache}}class qb{constructor(e){this.key=e}}class Hb{constructor(e){this.key=e}}class TC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=ab(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new vv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const N=o.get(E),G=Dh(this.query,S)?S:null,$=!!N&&this.mutatedKeys.has(N.key),te=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ee=!1;N&&G?N.data.isEqual(G.data)?$!==te&&(a.track({type:3,doc:G}),ee=!0):this.su(N,G)||(a.track({type:2,doc:G}),ee=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(g=!0)):!N&&G?(a.track({type:0,doc:G}),ee=!0):N&&!G&&(a.track({type:1,doc:N}),ee=!0,(_||y)&&(g=!0)),ee&&(G?(d=d.add(G),c=te?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(G,$){const te=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:ee})}};return te(G)-te($)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new El(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Hb(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new qb(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ep="SyncEngine";class AC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class SC{constructor(e){this.key=e,this.hu=!1}}class xC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((g=>rb(g)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(be.comparator),this.Au=new Map,this.Ru=new cp,this.Vu={},this.mu=new Map,this.fu=bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wC(s,e,i=!0){const a=Xb(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Gb(a,e,i,!0),o}async function RC(s,e){const i=Xb(s);await Gb(i,e,!0,!1)}async function Gb(s,e,i,a){const o=await QR(s.localStore,Qi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await CC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Mb(s.remoteStore,o),g}async function CC(s,e,i,a,o){s.pu=(S,N,G)=>(async function(te,ee,_e,Te){let ge=ee.view.ru(_e);ge.Cs&&(ge=await dv(te.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,ge))));const Ue=Te&&Te.targetChanges.get(ee.targetId),ot=Te&&Te.targetMismatches.get(ee.targetId)!=null,Qe=ee.view.applyChanges(ge,te.isPrimaryClient,Ue,ot);return Av(te,ee.targetId,Qe.au),Qe.snapshot})(s,S,N,G);const c=await dv(s.localStore,e,!0),d=new TC(e,c.Qs),g=d.ru(c.documents),_=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);Av(s,i,y.au);const E=new AC(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function IC(s,e,i){const a=Ie(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Nh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await wm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&mp(a.remoteStore,o.targetId),Im(a,o.targetId)})).catch(wl)):(Im(a,o.targetId),await wm(a.localStore,o.targetId,!0))}async function NC(s,e){const i=Ie(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),mp(i.remoteStore,a.targetId))}async function DC(s,e,i){const a=LC(s);try{const o=await(function(d,g){const _=Ie(d),y=bt.now(),E=g.reduce(((G,$)=>G.add($.key)),Ke());let S,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=Ns(),te=Ke();return _.Ns.getEntries(G,E).next((ee=>{$=ee,$.forEach(((_e,Te)=>{Te.isValidDocument()||(te=te.add(_e))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,$))).next((ee=>{S=ee;const _e=[];for(const Te of g){const ge=Kw(Te,S.get(Te.key).overlayedDocument);ge!=null&&_e.push(new Dr(Te.key,ge,J1(ge.value.mapValue),Ti.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,_e,g)})).next((ee=>{N=ee;const _e=ee.applyToLocalDocumentSet(S,te);return _.documentOverlayCache.saveOverlays(G,ee.batchId,_e)}))})).then((()=>({batchId:N.batchId,changes:ob(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new wt(Fe)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await uu(a,o.changes),await jh(a.remoteStore)}catch(o){const c=vp(o,"Failed to persist write");i.reject(c)}}async function Fb(s,e){const i=Ie(s);try{const a=await GR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?st(d.hu,14607):o.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await uu(i,a,e)}catch(a){await wl(a)}}function Tv(s,e,i){const a=Ie(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Ie(d);_.onlineState=g;let y=!1;_.queries.forEach(((E,S)=>{for(const N of S.Sa)N.va(g)&&(y=!0)})),y&&bp(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function OC(s,e,i){const a=Ie(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new wt(be.comparator);d=d.insert(c,Tn.newNoDocument(c,Re.min()));const g=Ke().add(c),_=new Vh(Re.min(),new Map,new wt(Fe),d,g);await Fb(a,_),a.du=a.du.remove(c),a.Au.delete(e),Tp(a)}else await wm(a.localStore,e,!1).then((()=>Im(a,e,i))).catch(wl)}async function MC(s,e){const i=Ie(s),a=e.batch.batchId;try{const o=await HR(i.localStore,e);Qb(i,a,null),Kb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,o)}catch(o){await wl(o)}}async function VC(s,e,i){const a=Ie(s);try{const o=await(function(d,g){const _=Ie(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(st(S!==null,37113),E=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);Qb(a,e,i),Kb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uu(a,o)}catch(o){await wl(o)}}function Kb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Qb(s,e,i){const a=Ie(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Im(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||Yb(s,a)}))}function Yb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(mp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Tp(s))}function Av(s,e,i){for(const a of i)a instanceof qb?(s.Ru.addReference(a.key,e),kC(s,a)):a instanceof Hb?(oe(Ep,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Yb(s,a.key)):Ae(19791,{wu:a})}function kC(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(oe(Ep,"New document in limbo: "+i),s.Eu.add(a),Tp(s))}function Tp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new be(xt.fromString(e)),a=s.fu.next();s.Au.set(a,new SC(i)),s.du=s.du.insert(i,a),Mb(s.remoteStore,new yr(Qi(Ih(i.path)),a,"TargetPurposeLimboResolution",xh.ce))}}async function uu(s,e,i){const a=Ie(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){o.push(y);const E=fp.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const E=Ie(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(N=>X.forEach(N.Es,(G=>E.persistence.referenceDelegate.addReference(S,N.targetId,G))).next((()=>X.forEach(N.ds,(G=>E.persistence.referenceDelegate.removeReference(S,N.targetId,G)))))))))}catch(S){if(!Rl(S))throw S;oe(dp,"Failed to update sequence numbers: "+S)}for(const S of y){const N=S.targetId;if(!S.fromCache){const G=E.Ms.get(N),$=G.snapshotVersion,te=G.withLastLimboFreeSnapshotVersion($);E.Ms=E.Ms.insert(N,te)}}})(a.localStore,c))}async function zC(s,e){const i=Ie(s);if(!i.currentUser.isEqual(e)){oe(Ep,"User change. New user:",e.toKey());const a=await Ib(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new me(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ls)}}function jC(s,e){const i=Ie(s),a=i.Au.get(e);if(a&&a.hu)return Ke().add(a.key);{let o=Ke();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function Xb(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OC.bind(null,e),e.Pu.H_=bC.bind(null,e.eventManager),e.Pu.yu=EC.bind(null,e.eventManager),e}function LC(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VC.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return qR(this.persistence,new UR,e.initialUser,this.serializer)}Cu(e){return new Cb(hp.mi,this.serializer)}Du(e){return new XR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class UC extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){st(this.persistence.referenceDelegate instanceof gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new SR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new Cb((a=>gh.mi(a,i)),this.serializer)}}class Nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Tv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zC.bind(null,this.syncEngine),await yC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vC})()}createDatastore(e){const i=kh(e.databaseInfo.databaseId),a=(function(c){return new eC(c)})(e.databaseInfo);return(function(c,d,g,_){return new sC(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new aC(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Tv(this.syncEngine,i,0)),(function(){return gv.v()?new gv:new $R})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,E){const S=new xC(o,c,d,g,_,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ie(i);oe(da,"RemoteStore shutting down."),a.Ea.add(5),await ou(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class $b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ir="FirestoreClient";class PC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=vp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function im(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Ir,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await Ib(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Sv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await BC(s);oe(Ir,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>_v(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>_v(e.remoteStore,o))),s._onlineComponents=e}async function BC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Ir,"Using user provided OfflineComponentProvider");try{await im(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;pl("Error using user provided cache. Falling back to memory cache: "+i),await im(s,new _h)}}else oe(Ir,"Using default OfflineComponentProvider"),await im(s,new UC(void 0));return s._offlineComponents}async function Zb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Ir,"Using user provided OnlineComponentProvider"),await Sv(s,s._uninitializedComponentsProvider._online)):(oe(Ir,"Using default OnlineComponentProvider"),await Sv(s,new Nm))),s._onlineComponents}function qC(s){return Zb(s).then((e=>e.syncEngine))}async function Dm(s){const e=await Zb(s),i=e.eventManager;return i.onListen=wC.bind(null,e.syncEngine),i.onUnlisten=IC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=RC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=NC.bind(null,e.syncEngine),i}function HC(s,e,i={}){const a=new Tr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const E=new $b({next:N=>{E.Nu(),d.enqueueAndForget((()=>Pb(c,S)));const G=N.docs.has(g);!G&&N.fromCache?y.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&N.fromCache&&_&&_.source==="server"?y.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),S=new Bb(Ih(g.path),E,{includeMetadataChanges:!0,qa:!0});return Ub(c,S)})(await Dm(s),s.asyncQueue,e,i,a))),a.promise}function Jb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const xv=new Map;const Wb="firestore.googleapis.com",wv=!0;class Rv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wb,this.ssl=wv}else this.host=e.host,this.ssl=e.ssl??wv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TR)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Qx;switch(a.type){case"firstParty":return new Zx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=xv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),xv.delete(i),a.terminate())})(this),Promise.resolve()}}function GC(s,e,i,a={}){s=Ei(s,Ap);const o=Tl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Xv(`https://${g}`),$v("Firestore",!0)),c.host!==Wb&&c.host!==g&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!Ar(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=En.MOCK_USER;else{y=gA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new En(S)}s._authCredentials=new Yx(new B1(y,E))}}class Lh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class Xt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,Xt._jsonSchema))return new Xt(e,a||null,new be(xt.fromString(i.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Yt("string",Xt._jsonSchemaVersion),referencePath:Yt("string")};class Xo extends Lh{constructor(e,i,a){super(e,i,Ih(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new be(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function rn(s,e,...i){if(s=Rn(s),arguments.length===1&&(e=Jm.newId()),iw("doc","path",e),s instanceof Ap){const a=xt.fromString(e,...i);return B_(a),new Xt(s,null,new be(a))}{if(!(s instanceof Xt||s instanceof Xo))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(xt.fromString(e,...i));return B_(a),new Xt(s.firestore,s instanceof Xo?s.converter:null,new be(a))}}const Cv="AsyncQueue";class Iv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Db(this,"async_queue_retry"),this._c=()=>{const a=nm();a&&oe(Cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Rl(e))throw e;oe(Cv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",Nv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=_p.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Nv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Dv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ma extends Ap{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Iv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iv(e),this._firestoreClient=void 0,await e}}}function FC(s,e){const i=typeof s=="object"?s:e1(),a=typeof s=="string"?s:uh,o=qm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=mA("firestore");c&&GC(o,...c)}return o}function Sp(s){if(s._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||KC(s),s._firestoreClient}function KC(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new pw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Jb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new PC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(_n.fromBase64String(e))}catch(i){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ui(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:Yt("string",ui._jsonSchemaVersion),bytes:Yt("string")};class Uh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ph{constructor(e){this._methodName=e}}class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Yt("string",Xi._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class $i{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new $i(e.vectorValues);throw new me(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Yt("string",$i._jsonSchemaVersion),vectorValues:Yt("object")};const QC=/^__.*__$/;class YC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class eE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function tE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Bh{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tE(this.Ac)&&QC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class XC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||kh(e)}Cc(e,i,a,o=!1){return new Bh({Ac:e,methodName:i,Dc:a,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nE(s){const e=s._freezeSettings(),i=kh(s._databaseId);return new XC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function $C(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);wp("Data must be an object, but it was:",d,a);const g=iE(a,d);let _,y;if(c.merge)_=new Qn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const N=Om(e,S,i);if(!d.contains(N))throw new me(Z.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);rE(E,N)||E.push(N)}_=new Qn(E),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new YC(new jn(g),_,y)}class qh extends Ph{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}function ZC(s,e,i){return new Bh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xp extends Ph{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=ZC(this,e,!0),a=this.vc.map((c=>cu(c,i))),o=new vl(a);return new qw(e.path,o)}isEqual(e){return e instanceof xp&&Ar(this.vc,e.vc)}}function JC(s,e,i,a){const o=s.Cc(1,e,i);wp("Data must be an object, but it was:",o,a);const c=[],d=jn.empty();Nr(a,((_,y)=>{const E=Rp(e,_,i);y=Rn(y);const S=o.yc(E);if(y instanceof qh)c.push(E);else{const N=cu(y,S);N!=null&&(c.push(E),d.set(E,N))}}));const g=new Qn(c);return new eE(d,g,o.fieldTransforms)}function WC(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[Om(e,a,i)],_=[o];if(c.length%2!=0)throw new me(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)g.push(Om(e,c[N])),_.push(c[N+1]);const y=[],E=jn.empty();for(let N=g.length-1;N>=0;--N)if(!rE(y,g[N])){const G=g[N];let $=_[N];$=Rn($);const te=d.yc(G);if($ instanceof qh)y.push(G);else{const ee=cu($,te);ee!=null&&(y.push(G),E.set(G,ee))}}const S=new Qn(y);return new eE(E,S,d.fieldTransforms)}function cu(s,e){if(sE(s=Rn(s)))return wp("Unsupported field value:",e,s),iE(s,e);if(s instanceof Ph)return(function(a,o){if(!tE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=cu(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Uw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=bt.fromDate(a);return{timestampValue:ph(o.serializer,c)}}if(a instanceof bt){const c=new bt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ph(o.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ui)return{bytesValue:bb(o.serializer,a._byteString)};if(a instanceof Xt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:up(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof $i)return(function(d,g){return{mapValue:{fields:{[$1]:{stringValue:Z1},[ch]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return rp(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Wm(a)}`)})(s,e)}function iE(s,e){const i={};return G1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(s,((a,o)=>{const c=cu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function sE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof bt||s instanceof Xi||s instanceof ui||s instanceof Xt||s instanceof Ph||s instanceof $i)}function wp(s,e,i){if(!sE(i)||!q1(i)){const a=Wm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Om(s,e,i){if((e=Rn(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return Rp(s,e);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const eI=new RegExp("[~\\*/\\[\\]]");function Rp(s,e,i){if(e.search(eI)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Uh(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new me(Z.INVALID_ARGUMENT,g+s+_)}function rE(s,e){return s.some((i=>i.isEqual(e)))}class aE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(lE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tI extends aE{data(){return super.data()}}function lE(s,e){return typeof e=="string"?Rp(s,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function nI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iI{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Nr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ch].arrayValue?.values?.map((a=>Ut(a.doubleValue)));return new $i(i)}convertGeoPoint(e){return new Xi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Rh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const i=xr(e);return new bt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=xt.fromString(e);st(wb(a),9688,{name:e});const o=new Ko(a.get(1),a.get(3)),c=new be(a.popFirst(5));return o.isEqual(i)||Is(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function sI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Vo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends aE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(lE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Yt("string",ua._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Zc extends ua{data(e={}){return super.data(e)}}class dl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new Vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Vo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:rI(g.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=dl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function Ov(s){s=Ei(s,Xt);const e=Ei(s.firestore,ma);return HC(Sp(e),s._key).then((i=>uE(e,s,i)))}dl._jsonSchemaVersion="firestore/querySnapshot/1.0",dl._jsonSchema={type:Yt("string",dl._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class oE extends iI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,i)}}function aI(s,e,i){s=Ei(s,Xt);const a=Ei(s.firestore,ma),o=sI(s.converter,e);return Cp(a,[$C(nE(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ti.none())])}function wn(s,e,i,...a){s=Ei(s,Xt);const o=Ei(s.firestore,ma),c=nE(o);let d;return d=typeof(e=Rn(e))=="string"||e instanceof Uh?WC(c,"updateDoc",s._key,e,i,a):JC(c,"updateDoc",s._key,e),Cp(o,[d.toMutation(s._key,Ti.exists(!0))])}function lI(s){return Cp(Ei(s.firestore,ma),[new ap(s._key,Ti.none())])}function Mv(s,...e){s=Rn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Dv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Dv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Xt)d=Ei(s.firestore,ma),g=Ih(s._key.path),c={next:_=>{e[a]&&e[a](uE(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Ei(s,Lh);d=Ei(_.firestore,ma),g=_._query;const y=new oE(d);c={next:E=>{e[a]&&e[a](new dl(d,y,_,E))},error:e[a+1],complete:e[a+2]},nI(s._query)}return(function(y,E,S,N){const G=new $b(N),$=new Bb(E,G,S);return y.asyncQueue.enqueueAndForget((async()=>Ub(await Dm(y),$))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>Pb(await Dm(y),$)))}})(Sp(d),g,o,c)}function Cp(s,e){return(function(a,o){const c=new Tr;return a.asyncQueue.enqueueAndForget((async()=>DC(await qC(a),o,c))),c.promise})(Sp(s),e)}function uE(s,e,i){const a=i.docs.get(e._key),o=new oE(s);return new ua(s,o,e._key,a,new Vo(i.hasPendingWrites,i.fromCache),e.converter)}function hr(...s){return new xp("arrayUnion",s)}(function(e,i=!0){(function(o){xl=o})(Al),ml(new ca("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ma(new Xx(a.getProvider("auth-internal")),new Jx(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),br(j_,L_,e),br(j_,L_,"esm2020")})();const oI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Vv=s=>{const e=uI(s);return e.charAt(0).toUpperCase()+e.slice(1)},cE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),cI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var hI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fI=tt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>tt.createElement("svg",{ref:_,...hI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:cE("lucide",o),...!c&&!cI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>tt.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Le=(s,e)=>{const i=tt.forwardRef(({className:a,...o},c)=>tt.createElement(fI,{ref:c,iconNode:e,className:cE(`lucide-${oI(Vv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Vv(s),i};const dI=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],Ip=Le("bomb",dI);const mI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Mm=Le("book-open",mI);const pI=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],gI=Le("box",pI);const yI=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hu=Le("briefcase",yI);const _I=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vI=Le("calendar",_I);const bI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EI=Le("chevron-right",bI);const TI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AI=Le("circle-check-big",TI);const SI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xI=Le("clock",SI);const wI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Jc=Le("coins",wI);const RI=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],CI=Le("cpu",RI);const II=[["path",{d:"M4 9a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4a1 1 0 0 1 1 1v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a1 1 0 0 1 1-1h4a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-4a1 1 0 0 1-1-1V4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4a1 1 0 0 1-1 1z",key:"1xbrqy"}]],NI=Le("cross",II);const DI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Vm=Le("crown",DI);const OI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hE=Le("eye",OI);const MI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fE=Le("file-text",MI);const VI=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],dE=Le("flag",VI);const kI=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],mE=Le("ghost",kI);const zI=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],pE=Le("hammer",zI);const jI=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],kv=Le("handshake",jI);const LI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],gE=Le("history",LI);const UI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],PI=Le("house",UI);const BI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qI=Le("info",BI);const HI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],km=Le("lock",HI);const GI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zm=Le("log-out",GI);const FI=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],KI=Le("octagon-alert",FI);const QI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$o=Le("package",QI);const YI=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],yE=Le("scan",YI);const XI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bh=Le("shield-check",XI);const $I=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Zo=Le("shopping-bag",$I);const ZI=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],Bo=Le("siren",ZI);const JI=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Np=Le("skull",JI);const WI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zv=Le("sparkles",WI);const eN=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tN=Le("trash",eN);const nN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],iN=Le("trending-up",nN);const sN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wc=Le("user",sN);const rN=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],aN=Le("utensils",rN);const lN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hh=Le("x",lN);const oN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uN=Le("zap",oN),cN={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2af23956db92c5956aa637"},_E=Wv(cN),sm=Fx(_E),an=FC(_E),pn=typeof __app_id<"u"?__app_id:"contraband-game",hN="12",Bc=5e3,jm=5e3,Gi={DIPLOMAT:{id:"DIPLOMAT",name:"Diplomat",desc:"Pay 50% less fines.",icon:dE,color:"text-blue-400"},YAKUZA:{id:"YAKUZA",name:"Yakuza",desc:"+20% value for Contraband.",icon:mE,color:"text-purple-400"},SNITCH:{id:"SNITCH",name:"Snitch",desc:"Earn $500 whenever another player is fined.",icon:hE,color:"text-yellow-400"},MERCHANT:{id:"MERCHANT",name:"Merchant",desc:"+20% value for Legal Goods.",icon:hu,color:"text-emerald-400"}},fr={NORMAL:{id:"NORMAL",name:"Market Stable",desc:"Business as usual.",multiplier:1,target:null},WAR:{id:"WAR",name:"War Zone",desc:"Weapons value x2.",multiplier:2,target:"WEAPON"},PANDEMIC:{id:"PANDEMIC",name:"Pandemic",desc:"Meds value x2.",multiplier:2,target:"MEDS"},CRACKDOWN:{id:"CRACKDOWN",name:"Police Crackdown",desc:"All Fines Double.",multiplier:2,target:"ALL_FINES"},FREE_TRADE:{id:"FREE_TRADE",name:"Free Trade",desc:"All Fines Halved.",multiplier:.5,target:"ALL_FINES"}},Eh={POCKETS:{id:"POCKETS",name:"Deep Pockets",desc:"Hand Size +1 (Immediate Draw)",cost:3e3,icon:hu},EXPANDED:{id:"EXPANDED",name:"Crate Extension",desc:"Load up to 5 cards",cost:5e3,icon:gI},CONCEAL:{id:"CONCEAL",name:"Hidden Compartment",desc:"First illegal item is safe per inspection",cost:4e3,icon:km},SCANNER:{id:"SCANNER",name:"X-Ray Scanner",desc:"As Inspector, reveal 1 random card per crate",cost:4e3,icon:yE}},Dt={MEDS:{id:"MEDS",name:"Medkits",val:1e3,penalty:1e3,type:"LEGAL",icon:NI,color:"text-green-400"},FOOD:{id:"FOOD",name:"Rations",val:1500,penalty:1e3,type:"LEGAL",icon:aN,color:"text-green-300"},PARTS:{id:"PARTS",name:"Machinery",val:2e3,penalty:1e3,type:"LEGAL",icon:pE,color:"text-green-200"},CHIP:{id:"CHIP",name:"AI Core",val:6e3,penalty:4e3,type:"ILLEGAL",icon:CI,color:"text-red-400"},WEAPON:{id:"WEAPON",name:"Plasma Rifle",val:8e3,penalty:5e3,type:"ILLEGAL",icon:uN,color:"text-red-500"},NARCO:{id:"NARCO",name:"Stims",val:1e4,penalty:6e3,type:"ILLEGAL",icon:Np,color:"text-purple-500"},TRAP:{id:"TRAP",name:"Booby Trap",val:0,penalty:0,type:"TRAP",icon:Ip,color:"text-orange-500",desc:"If opened: Inspector pays $2000"}},jv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx($o,{size:12,className:"text-emerald-400"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-emerald-400 uppercase",children:"CONTRABAND"})]}),fN=s=>{let e=[];const i={MEDS:6*s,FOOD:6*s,PARTS:6*s,CHIP:4*s,WEAPON:4*s,NARCO:4*s,TRAP:2*s};return Object.entries(i).forEach(([a,o])=>{for(let c=0;c<o;c++)e.push(a)}),e},Lm=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},rm=(s,e)=>{if(s.length===0)return null;let i=[],a=null;const o=e.includes("TRAP");for(;s.length>0;){let c=s.pop();if(c==="TRAP"&&o)i.push(c);else{a=c;break}}return i.length>0&&s.unshift(...i),a},Lv=s=>{const e=Object.keys(Gi),i=[...e];for(;i.length<s.length;)i.push(...e);const a=Lm(i);return s.map((o,c)=>({...o,role:Gi[a[c]].id}))},ln=(s,e,i)=>{const a=s[e]||{income:0,expense:0,transactions:[],role:"",isInspector:!1,marketItems:[],roleBonus:0},o=i.transaction?[...a.transactions||[],i.transaction]:a.transactions||[],c=i.marketItem?[...a.marketItems||[],i.marketItem]:a.marketItems||[];return{...s,[e]:{...a,...i,income:(a.income||0)+(i.income||0),expense:(a.expense||0)+(i.expense||0),roleBonus:(a.roleBonus||0)+(i.roleBonus||0),transactions:o,marketItems:c}}},am=()=>b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-zinc-900 via-zinc-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-emerald-900/5 mix-blend-overlay"}),b.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(45deg, #064e3b 25%, transparent 25%, transparent 75%, #064e3b 75%, #064e3b), linear-gradient(45deg, #064e3b 25%, transparent 25%, transparent 75%, #064e3b 75%, #064e3b)",backgroundPosition:"0 0, 10px 10px",backgroundSize:"20px 20px"}})]}),dN=({typeId:s,size:e=12})=>{const i=Dt[s];return i?b.jsx(i.icon,{size:e,className:i.color}):null},Uv=({players:s,roundData:e,isFinal:i})=>{const[a,o]=tt.useState(i?"FINAL":0),c=i?["FINAL",...e.map((g,_)=>`ROUND ${_+1}`)]:[],d=(g,_)=>{let y=[];if(_)y=s.map(E=>{let S=0,N=0,G=[];const $=E.stash||[];let te=0;e.forEach((Te,ge)=>{const Ue=Te.stats[E.id];Ue&&Ue.roleBonus>0&&(te+=Ue.roleBonus,G.push(`R${ge+1} (${Gi[Ue.role]?.name}): +$${Ue.roleBonus}`))}),N+=te;const ee=Math.floor(E.coins+S-jm),_e=$.reduce((Te,ge)=>Te+(Dt[ge]?.val||0),0);return{id:E.id,name:E.name,role:E.role,cash:E.coins,stashVal:_e,bonus:Math.floor(N),bonusDetails:G,loan:-jm,total:ee,isWinner:!1}}),y.sort((E,S)=>S.total-E.total),y.length>0&&(y[0].isWinner=!0);else{typeof a=="string"&&parseInt(a.split(" ")[1])-1;const E=Array.isArray(e)?e[a==="FINAL"?0:typeof a=="number"?a:parseInt(a.split(" ")[1])-1]:null,S=E?E.stats:null,N=E?E.event:null;if(!S)return b.jsx("div",{className:"p-12 text-center text-zinc-500 italic",children:"No Data Available"});y=Object.keys(S).map(G=>{const $=S[G],te=s.find(ee=>ee.id===G)?.name||"Unknown";return{id:G,name:te,role:$.role,isInspector:$.isInspector,marketItems:$.marketItems||[],roleBonus:$.roleBonus||0,transactions:$.transactions||[],income:$.income,expense:$.expense,net:$.income-$.expense,activeEvent:N}})}return b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-zinc-900/50 text-xs uppercase text-zinc-500 font-bold tracking-wider",children:[b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800",children:"Agent"}),_?b.jsxs(b.Fragment,{children:[b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right",children:"Cash"}),b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right text-emerald-300",children:"Stash"}),b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right text-yellow-400",children:"All Role Bonuses"}),b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right text-red-400",children:"Loan"}),b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right text-white",children:"Final Score"})]}):b.jsxs(b.Fragment,{children:[b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800",children:"Event Impact"}),b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800",children:"Market"}),b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800",children:"Role Bonus"}),b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 w-1/3",children:"Activity Log"}),b.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right",children:"Net Change"})]})]})}),b.jsx("tbody",{className:"divide-y divide-zinc-800 text-sm",children:y.map((E,S)=>_?b.jsxs("tr",{className:`group hover:bg-zinc-800/30 transition-colors ${E.isWinner?"bg-emerald-900/10":""}`,children:[b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full font-bold text-[10px] ${E.isWinner?"bg-yellow-500 text-black":"bg-zinc-800 text-zinc-500"}`,children:S+1}),b.jsx("span",{className:`font-medium ${E.isWinner?"text-white":"text-zinc-400"}`,children:E.name}),E.isWinner&&b.jsx(Vm,{size:14,className:"text-yellow-500"})]})}),b.jsxs("td",{className:"px-6 py-4 text-right font-mono text-zinc-400",children:["$",E.cash]}),b.jsxs("td",{className:"px-6 py-4 text-right font-mono text-emerald-300",children:["$",E.stashVal]}),b.jsx("td",{className:"px-6 py-4 text-right",children:b.jsxs("div",{className:"flex flex-col items-end",children:[b.jsxs("span",{className:"font-mono text-yellow-400",children:["+",E.bonus]}),E.bonusDetails.map((N,G)=>b.jsx("span",{className:"text-[9px] text-zinc-500",children:N},G))]})}),b.jsx("td",{className:"px-6 py-4 text-right font-mono text-red-400",children:E.loan}),b.jsxs("td",{className:"px-6 py-4 text-right font-mono font-bold text-white text-lg",children:["$",E.total]})]},E.id):b.jsxs("tr",{className:"group hover:bg-zinc-800/30",children:[b.jsxs("td",{className:"px-6 py-4 align-top",children:[b.jsx("div",{className:"font-medium text-white mb-1",children:E.name}),b.jsxs("div",{className:"flex items-center gap-1 text-xs text-zinc-500 mb-2",children:[E.isInspector?b.jsx(bh,{size:12,className:"text-blue-400"}):b.jsx(Wc,{size:12}),E.isInspector?"Inspector":Gi[E.role]?.name]})]}),b.jsx("td",{className:"px-6 py-4 align-top",children:E.activeEvent&&b.jsxs("div",{className:"text-xs text-zinc-400",children:[b.jsx("div",{className:"font-bold text-zinc-300",children:E.activeEvent.name}),b.jsx("div",{className:"text-[10px] italic",children:E.activeEvent.desc})]})}),b.jsx("td",{className:"px-6 py-4 align-top",children:E.marketItems.length>0?b.jsx("div",{className:"flex flex-col gap-1",children:E.marketItems.map((N,G)=>{const $=Eh[N];return b.jsxs("div",{className:"text-xs text-zinc-400 flex items-center gap-1",children:[b.jsx(Zo,{size:10})," ",$?.name," ",b.jsxs("span",{className:"text-red-400",children:["-$",$?.cost]})]},G)})}):b.jsx("span",{className:"text-zinc-600 italic text-xs",children:"-"})}),b.jsx("td",{className:"px-6 py-4 align-top",children:E.roleBonus>0?b.jsxs("span",{className:"text-yellow-400 font-mono text-xs",children:["+$",E.roleBonus]}):b.jsx("span",{className:"text-zinc-600 text-xs",children:"-"})}),b.jsx("td",{className:"px-6 py-4 align-top",children:b.jsx("div",{className:"space-y-2",children:E.transactions.length===0?b.jsx("span",{className:"text-zinc-600 italic text-xs",children:"No activity."}):E.transactions.map((N,G)=>b.jsxs("div",{className:"flex flex-col text-xs border-b border-zinc-800 pb-1 last:border-0",children:[b.jsxs("div",{className:"flex justify-between w-full",children:[b.jsx("span",{className:"text-zinc-300 font-bold",children:N.label}),b.jsxs("span",{className:`font-mono ${N.amount>=0?"text-emerald-400":"text-red-400"}`,children:[N.amount>=0?"+":"",N.amount]})]}),N.items&&N.items.length>0&&b.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:N.items.map(($,te)=>b.jsx("div",{className:"bg-black/40 p-0.5 rounded border border-zinc-700",title:Dt[$]?.name,children:b.jsx(dN,{typeId:$,size:10})},te))}),N.detail&&b.jsx("div",{className:"text-[10px] text-zinc-500 mt-0.5",children:N.detail})]},G))})}),b.jsx("td",{className:"px-6 py-4 text-right font-mono font-bold align-top",children:b.jsxs("span",{className:E.net>=0?"text-emerald-400":"text-red-400",children:[E.net>=0?"+":"",E.net]})})]},E.id))})]})})};return b.jsxs("div",{className:"w-full max-w-5xl bg-zinc-900 rounded-xl border border-zinc-700 overflow-hidden shadow-2xl mb-6 animate-in fade-in slide-in-from-bottom-10 duration-700",children:[b.jsx("div",{className:"bg-zinc-950 px-6 py-4 border-b border-zinc-800 flex justify-between items-center",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg border border-emerald-500/20",children:b.jsx(fE,{className:"text-emerald-500",size:20})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-bold text-white",children:"Mission Report"}),b.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:i?"Final Operation Audit":"Round Summary"})]})]})}),i&&b.jsx("div",{className:"flex border-b border-zinc-800 bg-zinc-900/50 overflow-x-auto",children:c.map(g=>b.jsx("button",{onClick:()=>o(g),className:`px-6 py-3 text-sm font-bold transition-colors whitespace-nowrap ${a===g?"text-emerald-400 border-b-2 border-emerald-500 bg-emerald-900/10":"text-zinc-500 hover:text-zinc-300"}`,children:g},g))}),d(e,i&&a==="FINAL")]})},mN=({stash:s,onClose:e})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[160] flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-lg w-full shadow-2xl flex flex-col max-h-[80vh]",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-zinc-800 pb-2",children:[b.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[b.jsx(hu,{className:"text-emerald-500"})," Stash (",s.length,")"]}),b.jsx("button",{onClick:e,className:"p-1 hover:bg-zinc-800 rounded text-zinc-400",children:b.jsx(Hh,{size:20})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto grid grid-cols-4 gap-2",children:s.length===0?b.jsx("div",{className:"col-span-4 text-center text-zinc-500 py-8 italic",children:"Your stash is empty."}):s.map((i,a)=>{const o=Dt[i];if(!o)return null;const c=o.type==="ILLEGAL";return b.jsxs("div",{className:`p-2 rounded border flex flex-col items-center gap-1 ${c?"bg-red-900/10 border-red-900/30":"bg-emerald-900/10 border-emerald-900/30"}`,children:[b.jsx(o.icon,{size:24,className:o.color}),b.jsx("span",{className:`text-[10px] font-bold ${o.color}`,children:o.name}),b.jsxs("span",{className:"text-[9px] text-zinc-500",children:["$",o.val]})]},a)})}),b.jsxs("div",{className:"mt-4 pt-2 border-t border-zinc-800 text-center text-xs text-zinc-500",children:["Total Base Value: $",s.reduce((i,a)=>i+(Dt[a]?.val||0),0)]})]})}),Pv=({typeId:s,small:e,selected:i,onClick:a,faceDown:o})=>{const c=Dt[s];if(!c)return null;const d=c.icon,g=c.type==="ILLEGAL",_=c.type==="TRAP";return o?b.jsx("div",{className:`
        relative rounded-xl border-2 border-zinc-700 bg-zinc-800 
        flex flex-col items-center justify-center shadow-lg
        ${e?"w-10 h-14":"w-20 h-32"}
      `,children:b.jsx("div",{className:"opacity-20",children:b.jsx($o,{size:e?16:32})})}):b.jsxs("div",{onClick:a,className:`
        relative rounded-xl border-2 flex flex-col items-center justify-between shadow-lg transition-all 
        ${i?"ring-4 ring-yellow-400 -translate-y-2 z-10 scale-105":"hover:-translate-y-1"}
        ${_?"bg-orange-950/50 border-orange-600/50":g?"bg-red-950/30 border-red-900/50":"bg-emerald-950/30 border-emerald-900/50"}
        ${e?"w-12 h-16 p-1":"w-24 h-36 md:w-32 md:h-44 p-2 md:p-3"}
        ${a?"cursor-pointer":""}
      `,children:[b.jsxs("div",{className:"w-full flex justify-between items-start",children:[b.jsx("span",{className:`font-black ${e?"text-[8px]":"text-xs"} text-zinc-500`,children:_?"TRAP":g?"!!":"OK"}),b.jsx(d,{size:e?10:16,className:c.color})]}),b.jsxs("div",{className:"flex flex-col items-center gap-1",children:[b.jsx(d,{size:e?16:32,className:`${c.color} drop-shadow-md`}),!e&&b.jsx("span",{className:`text-[10px] uppercase font-bold text-center leading-tight ${c.color}`,children:c.name})]}),!e&&b.jsx("div",{className:"w-full bg-black/40 rounded p-1 text-[8px] text-zinc-400 text-center leading-tight",children:_?"Inspector pays fine":b.jsxs(b.Fragment,{children:["val: ",c.val," ",b.jsx("br",{})," fine: ",c.penalty]})})]})},Bv=({onConfirm:s,onCancel:e,isHost:i,onLobby:a})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:i?"Disband Operation?":"Abandon Cargo?"}),b.jsx("p",{className:"text-zinc-400 mb-6 text-sm",children:i?"You are the Host. Leaving will close the checkpoint and kick all players.":"Leaving now will forfeit your progress."}),b.jsxs("div",{className:"flex flex-col gap-3",children:[i&&a&&b.jsxs("button",{onClick:a,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[b.jsx(PI,{size:18})," Return Everyone to Lobby"]}),b.jsxs("button",{onClick:s,className:"bg-red-900/80 hover:bg-red-800 text-red-200 py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-red-900",children:[b.jsx(zm,{size:18})," ",i?"Destroy Room & Exit":"Leave Game"]}),b.jsx("button",{onClick:e,className:"text-zinc-500 hover:text-white py-2 text-sm",children:"Cancel"})]})]})}),pN=({type:s,message:e,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none p-4",children:b.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-5 duration-300 backdrop-blur-xl
      ${s==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":""}
      ${s==="danger"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${s==="neutral"?"bg-zinc-800/90 border-zinc-500 text-zinc-100":""}
      ${s==="bribe"?"bg-yellow-900/90 border-yellow-500 text-yellow-100":""}
    `,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20 shadow-xl",children:b.jsx(a,{size:48,className:"animate-bounce"})}),b.jsx("h2",{className:"text-4xl md:text-6xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&b.jsx("p",{className:"text-xl md:text-2xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),gN=({isOpen:s,onClose:e,player:i,onBuy:a})=>s?b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-zinc-900 rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col border border-yellow-600/30 shadow-2xl overflow-hidden",children:[b.jsxs("div",{className:"p-4 bg-zinc-950 border-b border-zinc-800 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-2xl font-bold text-yellow-500 flex items-center gap-2",children:[b.jsx(Zo,{})," Black Market"]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("span",{className:"text-white font-mono flex items-center gap-1 bg-zinc-800 px-3 py-1 rounded-full",children:[b.jsx(Jc,{size:14,className:"text-yellow-500"})," $",i.coins]}),b.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-800 rounded-full",children:b.jsx(Hh,{className:"text-zinc-400"})})]})]}),b.jsx("div",{className:"p-6 overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values(Eh).map(o=>{const c=i.upgrades?.includes(o.id),d=i.coins>=o.cost;return b.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-xl border border-zinc-700 flex flex-col justify-between group hover:border-yellow-500/50 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsx("div",{className:"p-2 bg-black/50 rounded-lg text-yellow-500",children:b.jsx(o.icon,{size:24})}),b.jsxs("span",{className:"text-sm font-mono text-zinc-400",children:["$",o.cost]})]}),b.jsx("h3",{className:"font-bold text-lg text-white mb-1",children:o.name}),b.jsx("p",{className:"text-xs text-zinc-400 mb-4 h-8",children:o.desc}),b.jsx("button",{onClick:()=>a(o),disabled:c||!d,className:`w-full py-2 rounded font-bold text-sm transition-all
                    ${c?"bg-zinc-700 text-zinc-500 cursor-default":d?"bg-yellow-600 hover:bg-yellow-500 text-black shadow-lg shadow-yellow-900/20":"bg-zinc-800 text-zinc-600 cursor-not-allowed"}`,children:c?"OWNED":d?"BUY":"TOO POOR"})]},o.id)})})]})}):null,yN=({logs:s,onClose:e})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[150] flex items-center justify-center p-0 md:p-4",children:b.jsxs("div",{className:"bg-zinc-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-zinc-700 shadow-2xl",children:[b.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[b.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[b.jsx(gE,{size:18,className:"text-emerald-500"})," Operation Logs"]}),b.jsx("button",{onClick:e,className:"p-2 bg-zinc-800 rounded-full hover:bg-zinc-700",children:b.jsx(Hh,{className:"text-zinc-400"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>b.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":i.type==="success"?"bg-green-900/10 border-green-500 text-green-300":i.type==="bribe"?"bg-yellow-900/10 border-yellow-500 text-yellow-300":"bg-zinc-800/50 border-zinc-600 text-zinc-400"}`,children:[b.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),qv=({onClose:s})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-zinc-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-emerald-500/30 flex flex-col shadow-2xl",children:[b.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[b.jsx(Mm,{className:"text-emerald-500"})," Smuggler's Guide"]}),b.jsx("button",{onClick:s,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",children:b.jsx(Hh,{})})]}),b.jsxs("div",{className:"p-6 overflow-y-auto text-zinc-300 space-y-8 scrollbar-thin scrollbar-thumb-zinc-700",children:[b.jsxs("section",{className:"text-center space-y-2",children:[b.jsx("h3",{className:"text-3xl font-black text-emerald-400 uppercase tracking-widest",children:"The Goal"}),b.jsx("p",{className:"text-lg text-zinc-400",children:"Amass the biggest fortune. Money is earned by smuggling goods and collecting fines. The player with the highest total value (Cash + Stash Bonus) when the deck runs out wins."})]}),b.jsxs("section",{className:"grid md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-xl border border-zinc-700",children:[b.jsxs("h4",{className:"font-bold text-yellow-500 mb-2 flex items-center gap-2",children:[b.jsx(Zo,{size:16})," 1. The Market"]}),b.jsx("p",{className:"text-sm",children:"Buy illegal upgrades from the Black Market. Deep pockets, crate extensions, and scanners can turn the tide."})]}),b.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-xl border border-zinc-700",children:[b.jsxs("h4",{className:"font-bold text-emerald-500 mb-2 flex items-center gap-2",children:[b.jsx($o,{size:16})," 2. Load & Bluff"]}),b.jsxs("p",{className:"text-sm",children:["Pack up to 3 cards. You must declare a legal good type. You can lie. You can also attach a cash ",b.jsx("strong",{children:"Bribe"})," to tempt the Inspector."]})]}),b.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-xl border border-zinc-700",children:[b.jsxs("h4",{className:"font-bold text-red-500 mb-2 flex items-center gap-2",children:[b.jsx(Bo,{size:16})," 3. Inspection"]}),b.jsxs("p",{className:"text-sm",children:["The Inspector chooses to ",b.jsx("strong",{children:"PASS"})," or"," ",b.jsx("strong",{children:"OPEN"}),". If passed, you sell goods immediately. If opened and caught lying, you pay a fine!"]})]})]}),b.jsxs("section",{className:"bg-zinc-800/30 p-5 rounded-xl border border-zinc-700/50",children:[b.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[b.jsx(bh,{className:"text-emerald-500"})," Inspection Mechanics"]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[b.jsxs("ul",{className:"space-y-2",children:[b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-green-400 font-bold min-w-[60px]",children:"PASS:"})," ","Smuggler keeps goods & earns full value immediately."]}),b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-yellow-400 font-bold min-w-[60px]",children:"BRIBE:"})," ","If Inspector accepts bribe, crate passes. Inspector keeps bribe."]}),b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-orange-400 font-bold min-w-[60px]",children:"TRAP:"})," ","If opened crate has a"," ",b.jsx("span",{className:"text-orange-500 font-bold",children:"Booby Trap"}),", Inspector pays $2000 fine!"]})]}),b.jsxs("ul",{className:"space-y-2",children:[b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-red-400 font-bold min-w-[60px]",children:"BUSTED:"})," ","If opened & lying (or contraband): Smuggler pays fine. Illegal goods seized."]}),b.jsxs("li",{className:"flex gap-2",children:[b.jsx("span",{className:"text-blue-400 font-bold min-w-[60px]",children:"CLEAN:"})," ","If opened & telling truth: Inspector pays fine to Smuggler for wasting time."]})]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Player Roles"}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[b.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-blue-400 mb-1",children:[b.jsx(dE,{size:16})," Diplomat"]}),b.jsx("div",{className:"text-xs text-zinc-400",children:"Pays 50% less fines when caught."})]}),b.jsxs("div",{className:"p-3 bg-purple-900/20 border border-purple-500/30 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-purple-400 mb-1",children:[b.jsx(mE,{size:16})," Yakuza"]}),b.jsx("div",{className:"text-xs text-zinc-400",children:"+20% immediate value for Illegal goods."})]}),b.jsxs("div",{className:"p-3 bg-emerald-900/20 border border-emerald-500/30 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-emerald-400 mb-1",children:[b.jsx(hu,{size:16})," Merchant"]}),b.jsx("div",{className:"text-xs text-zinc-400",children:"+20% immediate value for Legal goods."})]}),b.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-yellow-400 mb-1",children:[b.jsx(hE,{size:16})," Snitch"]}),b.jsx("div",{className:"text-xs text-zinc-400",children:"Get $500 whenever someone else is fined."})]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Global Events"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[b.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-800 rounded",children:[b.jsx(Ip,{size:16,className:"text-red-500"})," ",b.jsxs("span",{children:[b.jsx("strong",{children:"War Zone:"})," Weapons sell for 2x value."]})]}),b.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-800 rounded",children:[b.jsx(Np,{size:16,className:"text-purple-500"})," ",b.jsxs("span",{children:[b.jsx("strong",{children:"Pandemic:"})," Meds sell for 2x value."]})]}),b.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-800 rounded",children:[b.jsx(Bo,{size:16,className:"text-blue-500"})," ",b.jsxs("span",{children:[b.jsx("strong",{children:"Crackdown:"})," All fines are doubled."]})]}),b.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-800 rounded",children:[b.jsx(iN,{size:16,className:"text-green-500"})," ",b.jsxs("span",{children:[b.jsx("strong",{children:"Free Trade:"})," All fines are halved."]})]})]})]})]})]})});function _N(){const[s,e]=tt.useState(null),[i,a]=tt.useState("menu"),[o,c]=tt.useState(""),[d,g]=tt.useState(""),[_,y]=tt.useState(""),[E,S]=tt.useState(null),[N,G]=tt.useState(!1),[$,te]=tt.useState(""),[ee,_e]=tt.useState(!1),[Te,ge]=tt.useState(!1),[Ue,ot]=tt.useState(!1),[Qe,I]=tt.useState(!1),[x,w]=tt.useState(!1),[V,D]=tt.useState(!1),[k,R]=tt.useState(null),[Xe,At]=tt.useState([]),[F,re]=tt.useState("MEDS"),[de,Ve]=tt.useState(0),[Ze,M]=tt.useState(0);tt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await D2(sm,__initial_auth_token):await w2(sm))();const ne=V2(sm,e);return()=>ne()},[]),tt.useEffect(()=>{const W=localStorage.getItem("contraband_roomId");W&&g(W)},[]),tt.useEffect(()=>{if(!d||!s)return;const W=Mv(rn(an,"artifacts",pn,"public","data","rooms",d),ne=>{if(ne.exists()){const ve=ne.data();if(!ve.players?.some(J=>J.id===s.uid)){g(""),a("menu"),localStorage.removeItem("contraband_roomId"),te("Connection Lost or Room Closed.");return}S(ve),ve.status==="lobby"?a("lobby"):a("game"),ve.feedbackTrigger&&ve.feedbackTrigger.id!==E?.feedbackTrigger?.id&&(R(ve.feedbackTrigger),setTimeout(()=>R(null),3e3))}else g(""),a("menu"),localStorage.removeItem("contraband_roomId"),te("Room Closed.")});return()=>W()},[d,s,E?.feedbackTrigger?.id]);const P=E?.players.find(W=>W.id===s?.uid)||{},se=E?.players[E?.inspectorIndex]?.id===s?.uid,ae=E?.hostId===s?.uid,le=E?.marketEvent?fr[E.marketEvent.id]:fr.NORMAL,xe=E?.players.length||0;tt.useEffect(()=>{P.loadedCrate&&P.loadedCrate.bribe!==void 0&&Ve(P.loadedCrate.bribe)},[P.loadedCrate]),tt.useEffect(()=>{const W=Mv(rn(an,"game_hub_settings","config"),ne=>{ne.exists()&&ne.data()[hN]?.maintenance?_e(!0):_e(!1)});return()=>W()},[]);const Pe=async()=>{if(!o.trim())return te("Codename required.");G(!0);const W=Math.random().toString(36).substring(2,7).toUpperCase(),ne={roomId:W,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,coins:Bc,hand:[],stash:[],upgrades:[],role:null,loadedCrate:null,ready:!1}],deck:[],inspectorIndex:0,turnState:"IDLE",marketEvent:fr.NORMAL,logs:[],currentRound:1,inspectorOrder:[],roundHistory:[],currentRoundStats:{}};await aI(rn(an,"artifacts",pn,"public","data","rooms",W),ne),localStorage.setItem("contraband_roomId",W),g(W),G(!1)},Ot=async()=>{if(!_||!o)return te("Missing Info.");G(!0);try{const W=rn(an,"artifacts",pn,"public","data","rooms",_),ne=await Ov(W);if(!ne.exists())throw new Error("Room not found.");if(ne.data().status!=="lobby")throw new Error("Game in progress.");if(ne.data().players.length>=6)throw new Error("Full.");const ve={id:s.uid,name:o,coins:Bc,hand:[],stash:[],upgrades:[],role:null,loadedCrate:null,ready:!1};await wn(W,{players:hr(ve)}),localStorage.setItem("contraband_roomId",_),g(_)}catch(W){te(W.message)}G(!1)},mt=async()=>{if(!d)return;const W=rn(an,"artifacts",pn,"public","data","rooms",d);try{const ne=await Ov(W);if(ne.exists()){const ve=ne.data();if(ve.hostId===s.uid)await lI(W);else{const J=ve.players.filter(ue=>ue.id!==s.uid);await wn(W,{players:J})}}}catch(ne){console.error(ne)}localStorage.removeItem("contraband_roomId"),g(""),a("menu"),w(!1)},Wi=async W=>{if(!ae||!d)return;const ne=E.players.filter(ve=>ve.id!==W);await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:ne})},es=async()=>{const W=E.players.map(ne=>({...ne,coins:Bc,hand:[],stash:[],upgrades:[],role:null,loadedCrate:null,ready:!1}));await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{status:"lobby",players:W,logs:[],deck:[],turnState:"IDLE",winner:null,feedbackTrigger:null,marketEvent:fr.NORMAL,currentRound:1,inspectorOrder:[],roundHistory:[],currentRoundStats:{}}),w(!1)},ts=async()=>{if(E.players.length<3)return te("Need 3+ Players.");const W=Lm(fN(E.players.length)),ne=Lm(E.players.map((Me,pe)=>pe)),ve=E.players[ne[0]].id,J={};let ue=Lv(E.players);ue=ue.map(Me=>{const pe=[];for(let un=0;un<6;un++){const he=rm(W,pe);he&&pe.push(he)}return J[Me.id]={role:Me.role,isInspector:Me.id===ve,income:0,expense:0,transactions:[]},{...Me,hand:pe,coins:Bc,stash:[],upgrades:[],loadedCrate:null,ready:!1}}),await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{status:"playing",players:ue,deck:W,inspectorOrder:ne,inspectorIndex:ne[0],currentRound:1,currentRoundStats:J,roundHistory:[],turnState:"SHOPPING",marketEvent:fr.NORMAL,logs:[{id:Date.now().toString(),text:"Market Open. Roles Assigned.",type:"neutral"}]})},Ai=async()=>{const W=E.players.map(ne=>ne.id===s.uid?{...ne,ready:!ne.ready}:ne);if(E.status==="playing"&&E.turnState==="SHOPPING"&&W.every(ne=>ne.ready)){W.forEach(ne=>ne.ready=!1),await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:W,turnState:"LOADING",logs:hr({id:Date.now().toString(),text:"Loading Phase Begun.",type:"neutral"})});return}if(E.status==="playing"&&E.turnState==="ROUND_SUMMARY"&&W.every(ne=>ne.ready)){await Mr();return}await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:W})},Yn=async W=>{if(P.coins<W.cost)return;let ne=[...E.deck],ve=ln(E.currentRoundStats,s.uid,{expense:W.cost,marketItem:W.id});const J=E.players.map(ue=>{if(ue.id===s.uid){let Me=[...ue.hand];if(W.id==="POCKETS"&&ne.length>0){const pe=rm(ne,Me);pe&&Me.push(pe)}return{...ue,hand:Me,coins:ue.coins-W.cost,upgrades:[...ue.upgrades||[],W.id]}}return ue});await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:J,deck:ne,currentRoundStats:ve})},Or=async()=>{if(Date.now()-Ze<2e3)return;const W=parseInt(de);if(isNaN(W)||W<0)return;const ne=P.loadedCrate?.bribe||0,ve=W-ne;if(P.coins-ve<0)return;M(Date.now());const J=E.players.map(ue=>ue.id===s.uid?{...ue,coins:ue.coins-ve,loadedCrate:{...ue.loadedCrate,bribe:W}}:ue);await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:J})},ns=async()=>{const W=P.upgrades?.includes("EXPANDED")?5:4;if(Xe.length===0||Xe.length>W)return;const ne=Math.max(0,parseInt(de)||0);if(ne>0&&ne>P.coins)return;const ve=E.players.findIndex(he=>he.id===s.uid),J=[...E.players],ue=[...J[ve].hand],Me=[];[...Xe].sort((he,Rt)=>Rt-he).forEach(he=>{Me.push(ue[he]),ue.splice(he,1)}),J[ve].hand=ue,J[ve].coins-=ne,J[ve].loadedCrate={cards:Me,declaration:F,bribe:ne};const pe=J[E.inspectorIndex].id,Xn=J.every(he=>he.id===pe||he.loadedCrate!==null);let un={players:J};Xn&&(un.turnState="INSPECTING",un.logs=hr({id:Date.now().toString(),text:"Inspection Phase.",type:"neutral"})),await wn(rn(an,"artifacts",pn,"public","data","rooms",d),un),At([]),Ve(0)},Si=async(W,ne)=>{const ve=E.players[E.inspectorIndex],J=[...E.players],ue=J.findIndex(we=>we.id===W),Me=J.findIndex(we=>we.id===ve.id),pe=J[ue];if(!pe.loadedCrate)return;ve.upgrades?.includes("SCANNER");const Xn=pe.upgrades?.includes("CONCEAL"),un=J.filter(we=>we.role==="SNITCH"&&we.id!==pe.id);let he={...E.currentRoundStats};const Rt=(we,ke)=>{const Mt=J[we];let Je=0;if(Mt.role==="MERCHANT"){const Be=ke.filter(yt=>Dt[yt].type==="LEGAL").reduce((yt,pt)=>yt+(Dt[pt].val||0),0);Je=Math.floor(Be*.2)}else if(Mt.role==="YAKUZA"){const Be=ke.filter(yt=>Dt[yt].type==="ILLEGAL").reduce((yt,pt)=>yt+(Dt[pt].val||0),0);Je=Math.floor(Be*.2)}Je>0&&(J[we].coins+=Je,he=ln(he,Mt.id,{income:Je,roleBonus:Je,transaction:{label:`${Gi[Mt.role].name} Bonus`,amount:Je,detail:"Role ability triggered"}}))};if(ne==="PEEK"){if(pe.loadedCrate.scanned)return;const we=pe.loadedCrate.cards[Math.floor(Math.random()*pe.loadedCrate.cards.length)],ke=[...J];ke[ue].loadedCrate={...ke[ue].loadedCrate,scanned:!0},await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:ke,logs:hr({id:Date.now().toString(),text:`Scanner reveals a ${Dt[we].name} in ${pe.name}'s crate!`,type:"neutral"}),feedbackTrigger:{id:Date.now(),type:"neutral",message:"SCAN RESULT",subtext:`Found: ${Dt[we].name}`}});return}let St=[],Cn=null;if(ne==="PASS"||ne==="ACCEPT_BRIBE"){const we=pe.loadedCrate.bribe||0;ne==="ACCEPT_BRIBE"&&we>0?(J[Me].coins+=we,St.push({id:Date.now().toString(),text:`Inspector accepted $${we} bribe from ${pe.name}.`,type:"bribe"}),he=ln(he,ve.id,{income:we,transaction:{label:"Bribe Accepted",amount:we,detail:`From ${pe.name}`}}),he=ln(he,pe.id,{expense:we,transaction:{label:"Bribe Paid",amount:-we,detail:`To ${ve.name}`}})):(J[ue].coins+=we,St.push({id:Date.now().toString(),text:`Inspector passed ${pe.name}.`,type:"success"}),he=ln(he,ve.id,{transaction:{label:"Pass Decision",amount:0,detail:`Passed ${pe.name}`}}),we>0&&(he=ln(he,pe.id,{income:we,transaction:{label:"Bribe Returned",amount:we}})));const ke=pe.loadedCrate.cards.reduce((Mt,Je)=>{let Vt=Dt[Je].val;return le.target===Je&&(Vt*=le.multiplier),Mt+Vt},0);J[ue].coins+=ke,he=ln(he,pe.id,{income:ke,transaction:{label:"Goods Sold",amount:ke,items:pe.loadedCrate.cards,detail:le.target?`Event Mult: x${le.multiplier}`:""}}),J[ue].stash.push(...pe.loadedCrate.cards),Rt(ue,pe.loadedCrate.cards)}else if(ne==="OPEN"){const we=pe.loadedCrate.bribe||0;J[ue].coins+=we,we>0&&(he=ln(he,pe.id,{income:we,transaction:{label:"Bribe Returned",amount:we}}));const ke=pe.loadedCrate.cards,Mt=pe.loadedCrate.declaration;if(ke.includes("TRAP")){J[Me].coins-=2e3,J[ue].coins+=2e3,he=ln(he,ve.id,{expense:2e3,transaction:{label:"Trap Exploded",amount:-2e3,detail:"Booby Trap triggered"}}),he=ln(he,pe.id,{income:2e3,transaction:{label:"Trap Reward",amount:2e3,detail:"Inspector triggered trap"}});const Vt=ke.filter(yt=>yt!=="TRAP"),Be=Vt.reduce((yt,pt)=>{let Wt=Dt[pt].val;return le.target===pt&&(Wt*=le.multiplier),yt+Wt},0);J[ue].coins+=Be,he=ln(he,pe.id,{income:Be,transaction:{label:"Survivors Sold",amount:Be,items:Vt}}),J[ue].stash.push(...Vt),Rt(ue,Vt),St.push({id:Date.now().toString(),text:"BOOM! Booby Trap! Inspector pays $2000.",type:"danger"}),Cn={id:Date.now(),type:"danger",message:"BOOBY TRAP!",subtext:"Inspector blown up."}}else{let Vt=ke.filter(Be=>Dt[Be].type==="ILLEGAL"||Be!==Mt);if(Xn&&Vt.length>0&&(Vt.shift(),St.push({id:Date.now().toString(),text:`${pe.name}'s Hidden Compartment saved an item!`,type:"neutral"})),Vt.length===0){let Be=ke.reduce((pt,Wt)=>pt+Dt[Wt].penalty,0);le.id==="CRACKDOWN"&&(Be*=2),le.id==="FREE_TRADE"&&(Be*=.5),J[Me].coins-=Be,J[ue].coins+=Be,he=ln(he,ve.id,{expense:Be,transaction:{label:"Wrongful Search",amount:-Be,detail:"Paid compensation"}}),he=ln(he,pe.id,{income:Be,transaction:{label:"Clean Bonus",amount:Be,detail:"Compensation received"}});const yt=ke.reduce((pt,Wt)=>{let ut=Dt[Wt].val;return le.target===Wt&&(ut*=le.multiplier),pt+ut},0);J[ue].coins+=yt,he=ln(he,pe.id,{income:yt,transaction:{label:"Goods Sold",amount:yt,items:ke}}),J[ue].stash.push(...ke),Rt(ue,ke),St.push({id:Date.now().toString(),text:`CLEAN! Inspector pays $${Be} fine.`,type:"danger"}),Cn={id:Date.now(),type:"danger",message:"CLEAN",subtext:"Inspector pays fine."}}else{let Be=0,yt=[],pt=[],Wt=0;ke.forEach(kt=>{if(Vt.includes(kt)){let Ct=Dt[kt].penalty,en=Ct;pe.role==="DIPLOMAT"&&(Ct*=.5),le.id==="CRACKDOWN"&&(Ct*=2),le.id==="FREE_TRADE"&&(Ct*=.5),pe.role==="DIPLOMAT"&&(Wt+=en*.5),Be+=Ct,yt.push(kt);const ya=Vt.indexOf(kt);ya>-1&&Vt.splice(ya,1)}else pt.push(kt)}),J[ue].coins-=Be,J[Me].coins+=Be,he=ln(he,pe.id,{expense:Be,roleBonus:Wt,transaction:{label:"Fine Paid",amount:-Be,detail:`Seized: ${yt.length} items`}}),he=ln(he,ve.id,{income:Be,transaction:{label:"Fine Collected",amount:Be,items:yt}});const ut=pt.reduce((kt,Ct)=>{let en=Dt[Ct].val;return le.target===Ct&&(en*=le.multiplier),kt+en},0);J[ue].coins+=ut,ut>0&&(he=ln(he,pe.id,{income:ut,transaction:{label:"Kept Goods Sold",amount:ut,items:pt}})),J[ue].stash.push(...pt),Rt(ue,pt),un.forEach(kt=>{const Ct=J.findIndex(en=>en.id===kt.id);Ct>-1&&(J[Ct].coins+=500,he=ln(he,kt.id,{income:500,roleBonus:500,transaction:{label:"Snitch Reward",amount:500,detail:`${pe.name} busted`}}))}),St.push({id:Date.now().toString(),text:`BUSTED! ${pe.name} pays $${Be}. ${yt.length} items seized.`,type:"success"}),Cn={id:Date.now(),type:"success",message:"BUSTED",subtext:"Contraband Seized!"}}}}if(J[ue].loadedCrate=null,J.filter(we=>we.id!==ve.id&&we.loadedCrate!==null).length===0){const we={stats:he,event:le||fr.NORMAL};await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:J,logs:hr(...St),currentRoundStats:he,roundHistory:hr(we),turnState:"ROUND_SUMMARY",feedbackTrigger:Cn})}else await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:J,logs:hr(...St),currentRoundStats:he,feedbackTrigger:Cn})},Mr=async()=>{const W=E.currentRound+1;if(W>xe){const Rt=E.players.map(St=>({...St,finalScore:Math.floor(St.coins-jm),ready:!1})).sort((St,Cn)=>Cn.finalScore-St.finalScore);await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:Rt,status:"finished",turnState:"IDLE",winner:Rt[0].name,feedbackTrigger:{id:Date.now(),type:"success",message:"GAME OVER",subtext:`${Rt[0].name} wins!`}});return}let ne=E.inspectorOrder[W-1],ve=[...E.deck];const J=Object.keys(fr),ue=J[Math.floor(Math.random()*J.length)],Me=fr[ue],pe=Lv(E.players),Xn=pe[ne].id,un={};pe.forEach(Rt=>{un[Rt.id]={role:Rt.role,isInspector:Rt.id===Xn,income:0,expense:0,transactions:[],marketItems:[],roleBonus:0}});const he=pe.map(Rt=>{const St=[...Rt.hand],Cn=Rt.upgrades?.includes("POCKETS")?7:6;for(;St.length<Cn&&ve.length>0;){const Os=rm(ve,St);Os&&St.push(Os)}return{...Rt,hand:St,loadedCrate:null,ready:!1}});await wn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:he,deck:ve,inspectorIndex:ne,currentRound:W,currentRoundStats:un,turnState:"SHOPPING",marketEvent:Me,logs:hr({id:Date.now().toString(),text:`Round ${W} Started. Event: ${Me.name}`,type:"neutral"})})};if(ee)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(pE,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"Border crossing closed. Inspections are paused."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(zv,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(zv,{size:16})]})})})})]});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(am,{}),Te&&b.jsx(qv,{onClose:()=>ge(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10",children:[b.jsx($o,{size:64,className:"text-emerald-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-emerald-400 to-green-700 tracking-widest",children:"CONTRABAND"}),b.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Black Market Edition"})]}),b.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur border border-emerald-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[$&&b.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm",children:$}),b.jsx("input",{className:"w-full bg-black/50 border border-zinc-600 p-3 rounded mb-4 text-white placeholder-zinc-500 focus:border-emerald-500 outline-none",placeholder:"Alias",value:o,onChange:W=>c(W.target.value)}),b.jsxs("button",{onClick:Pe,disabled:N,className:"w-full bg-emerald-700 hover:bg-emerald-600 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 transition-all",children:[b.jsx(bh,{size:20})," Create Operation"]}),b.jsxs("div",{className:"flex gap-2 mb-4",children:[b.jsx("input",{className:"flex-1 min-w-0 bg-black/50 border border-zinc-600 p-3 rounded text-white placeholder-zinc-500 uppercase tracking-wider",placeholder:"CODE",value:_,onChange:W=>y(W.target.value.toUpperCase())}),b.jsx("button",{onClick:Ot,disabled:N,className:"bg-zinc-800 hover:bg-zinc-700 px-6 rounded font-bold flex-shrink-0",children:"Join"})]}),b.jsxs("button",{onClick:()=>ge(!0),className:"w-full text-center text-zinc-500 hover:text-white text-sm mt-2 flex items-center justify-center gap-2",children:[b.jsx(Mm,{size:14})," Rules"]})]}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Sheriff of Nottingham. A tribute game.",b.jsx("br",{}),"Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-green-500 underline hover:text-green-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E)return b.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-6 relative",children:[b.jsx(am,{}),x&&b.jsx(Bv,{isHost:ae,onConfirm:mt,onCancel:()=>w(!1)}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-zinc-900/90 backdrop-blur p-8 rounded-2xl border border-emerald-900/50 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h2",{className:"text-2xl font-serif text-emerald-500",children:["Lobby ",b.jsx("span",{className:"text-white font-mono",children:d})]}),b.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:b.jsx(zm,{size:16})})]}),b.jsx("div",{className:"space-y-2 mb-8",children:E.players.map(W=>b.jsxs("div",{className:"flex items-center justify-between bg-zinc-800/50 p-3 rounded border border-zinc-700/50",children:[b.jsxs("span",{className:"font-bold flex items-center gap-2",children:[b.jsx(Wc,{size:14,className:W.id===s.uid?"text-emerald-500":"text-zinc-500"}),W.name," ",W.id===E.hostId&&b.jsx(Vm,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-zinc-500 text-xs",children:"Waiting"}),E.hostId===s.uid&&W.id!==s.uid&&b.jsx("button",{onClick:()=>Wi(W.id),className:"p-1.5 bg-zinc-700 hover:bg-red-900/50 text-zinc-400 hover:text-red-400 rounded transition-colors",title:"Kick Player",children:b.jsx(tN,{size:12})})]})]},W.id))}),E.hostId===s.uid&&b.jsx("button",{onClick:ts,disabled:E.players.length<3,className:"w-full py-4 bg-emerald-700 hover:bg-emerald-600 rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:E.players.length<3?"Need 3+ Players":"Start Game"})]}),b.jsx(jv,{})]});if(i==="game"&&E){const W=E.players[E.inspectorIndex],ne=E.players.filter(J=>J.id!==E.hostId).every(J=>J.ready),ve=P.ready||E.turnState!=="SHOPPING";return b.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col relative overflow-hidden font-sans",children:[b.jsx(am,{}),k&&b.jsx(pN,{type:k.type,message:k.message,subtext:k.subtext,icon:k.type==="danger"?Bo:k.type==="bribe"?kv:KI}),Te&&b.jsx(qv,{onClose:()=>ge(!1)}),Qe&&b.jsx(yN,{logs:E.logs,onClose:()=>I(!1)}),x&&b.jsx(Bv,{isHost:ae,onLobby:es,onConfirm:mt,onCancel:()=>w(!1)}),V&&b.jsx(mN,{stash:P.stash||[],onClose:()=>D(!1)}),b.jsx(gN,{isOpen:Ue,onClose:()=>ot(!1),player:P,onBuy:Yn}),b.jsxs("div",{className:"h-16 bg-zinc-900/90 border-b border-zinc-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0 shadow-xl",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"hidden md:flex flex-col",children:[b.jsx("span",{className:"text-xs text-zinc-500 uppercase tracking-widest",children:"Event"}),b.jsxs("span",{className:"text-sm font-bold text-yellow-500 flex items-center gap-1",children:[le.id==="WAR"&&b.jsx(Ip,{size:14}),le.id==="PANDEMIC"&&b.jsx(Np,{size:14}),le.id==="CRACKDOWN"&&b.jsx(Bo,{size:14}),le.name]})]}),b.jsxs("div",{className:"bg-black/40 px-3 py-1 rounded-full border border-zinc-700 flex items-center gap-2",children:[b.jsx(Jc,{size:14,className:"text-yellow-500"}),b.jsxs("span",{className:"font-mono font-bold",children:["$",P.coins]})]}),b.jsxs("div",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded border border-zinc-800 flex items-center gap-1",children:[b.jsx(vI,{size:14}),b.jsxs("span",{children:[E.currentRound,"/",xe]})]}),b.jsxs("div",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded border border-zinc-800 flex items-center gap-1",children:[b.jsx("div",{className:"w-2 h-3 bg-zinc-600 rounded-sm"}),E.deck.length]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>I(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:b.jsx(gE,{size:20})}),b.jsx("button",{onClick:()=>ge(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:b.jsx(Mm,{size:20})}),b.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:b.jsx(zm,{size:20})})]})]}),b.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-6xl mx-auto w-full gap-6",children:[b.jsx("div",{className:"flex items-center justify-center gap-4",children:b.jsxs("div",{className:`px-6 py-2 rounded-full border flex items-center gap-2 shadow-lg ${E.turnState==="INSPECTING"?"bg-red-900/30 border-red-500 text-red-200":"bg-emerald-900/30 border-emerald-500 text-emerald-200"}`,children:[E.turnState==="SHOPPING"?b.jsx(Zo,{size:18}):E.turnState==="LOADING"?b.jsx($o,{size:18}):E.turnState==="ROUND_SUMMARY"?b.jsx(fE,{size:18}):b.jsx(Bo,{size:18}),b.jsx("span",{className:"font-bold tracking-wide",children:E.turnState==="SHOPPING"?"MARKET PHASE":E.turnState==="LOADING"?"LOAD CRATES":E.turnState==="ROUND_SUMMARY"?"ROUND REPORT":`INSPECTOR: ${W.name}`})]})}),b.jsx("div",{className:`flex gap-3 justify-center flex-wrap w-full transition-opacity duration-500 ${E.status==="finished"?"opacity-20 pointer-events-none":"opacity-100"}`,children:E.players.map(J=>{if(J.id===s.uid)return null;const ue=J.id===W.id,Me=J.role?Gi[J.role].icon:Wc;return b.jsxs("div",{className:`relative bg-zinc-900/90 p-3 rounded-xl border-2 w-32 transition-all flex flex-col items-center ${ue?"border-yellow-500 shadow-[0_0_15px_rgba(234,179,8,0.2)]":"border-zinc-700"} ${J.loadedCrate?"bg-zinc-800":""}`,children:[b.jsx("div",{className:"absolute top-1 right-1 flex items-center gap-1 opacity-70",children:b.jsx(Me,{size:12,className:Gi[J.role]?.color})}),b.jsx(Wc,{size:24,className:ue?"text-yellow-500":"text-zinc-600"}),b.jsx("span",{className:`font-bold text-xs truncate w-full text-center mt-1 ${ue?"text-yellow-200":"text-zinc-400"}`,children:J.name}),J.loadedCrate?b.jsxs("div",{className:"mt-2 w-full bg-black/40 rounded p-2 text-center border border-zinc-600",children:[b.jsxs("div",{className:"text-[10px] text-zinc-500 uppercase flex justify-center items-center gap-1",children:[Dt[J.loadedCrate.declaration].name," ",J.loadedCrate.bribe>0&&b.jsx(Jc,{size:10,className:"text-yellow-500"})]}),se&&P.id===W.id&&E.turnState==="INSPECTING"&&b.jsxs("div",{className:"grid grid-cols-2 gap-1 mt-2",children:[b.jsx("button",{onClick:()=>Si(J.id,"PASS"),className:"bg-emerald-700 hover:bg-emerald-600 text-[8px] py-2 rounded text-white font-bold",children:"PASS"}),b.jsx("button",{onClick:()=>Si(J.id,"OPEN"),className:"bg-red-700 hover:bg-red-600 text-[8px] py-2 rounded text-white font-bold",children:"OPEN"}),J.loadedCrate.bribe>0&&b.jsxs("button",{onClick:()=>Si(J.id,"ACCEPT_BRIBE"),className:"col-span-2 bg-yellow-600 hover:bg-yellow-500 text-[9px] py-1 rounded text-black font-bold flex items-center justify-center gap-1",children:["Take $",J.loadedCrate.bribe," Bribe"]}),P.upgrades?.includes("SCANNER")&&!J.loadedCrate.scanned&&b.jsxs("button",{onClick:()=>Si(J.id,"PEEK"),className:"col-span-2 bg-blue-600 hover:bg-blue-500 text-[9px] py-1 rounded text-white font-bold flex items-center justify-center gap-1",children:[b.jsx(yE,{size:10})," SCAN (1)"]})]})]}):!ue&&b.jsx("div",{className:"mt-2 text-[9px] text-zinc-600 animate-pulse",children:J.ready?"Ready":"Thinking..."})]},J.id)})}),b.jsx("div",{className:`w-full max-w-4xl bg-zinc-900/95 p-4 md:p-6 rounded-t-3xl border-t border-emerald-500/30 backdrop-blur-md mt-auto shadow-[0_-10px_40px_rgba(0,0,0,0.5)] z-20 transition-opacity duration-500 ${E.status==="finished"?"opacity-20 pointer-events-none":"opacity-100"}`,children:b.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[b.jsxs("div",{className:"flex flex-col gap-2 min-w-[140px]",children:[b.jsxs("div",{className:"font-bold text-lg text-white flex items-center gap-2",children:[P.role&&t_.createElement(Gi[P.role].icon,{size:18,className:Gi[P.role].color}),P.name]}),b.jsx("div",{className:"text-xs text-zinc-500",children:Gi[P.role]?.desc}),b.jsxs("div",{className:"mt-2 border-t border-zinc-700 pt-2",children:[b.jsxs("div",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 flex items-center gap-1",children:[b.jsx(qI,{size:10})," Event Active"]}),b.jsx("div",{className:"text-sm font-bold text-yellow-500",children:le.name}),b.jsx("div",{className:"text-[10px] text-zinc-400 leading-tight",children:le.desc})]}),b.jsx("div",{className:"mt-2 flex gap-1 flex-wrap",children:P.upgrades?.map(J=>{const ue=Eh[J].icon;return b.jsx("div",{className:"p-1 bg-zinc-800 rounded border border-zinc-700 text-yellow-500",title:Eh[J].name,children:b.jsx(ue,{size:12})},J)})}),b.jsxs("button",{onClick:()=>D(!0),className:"mt-2 w-full py-2 bg-zinc-800 hover:bg-zinc-700 rounded text-xs text-zinc-300 border border-zinc-600 flex items-center justify-center gap-2 transition-colors",children:[b.jsx(hu,{size:12})," View Stash (",P.stash.length,")"]}),E.turnState==="SHOPPING"&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>!ve&&ot(!0),disabled:ve,className:`mt-2 w-full py-2 rounded text-xs border flex items-center justify-center gap-2 transition-colors ${ve?"bg-zinc-800 text-zinc-600 border-zinc-700 cursor-not-allowed":"bg-yellow-900/20 hover:bg-yellow-900/30 text-yellow-500 border-yellow-500/50"}`,children:[b.jsx(Zo,{size:12})," Open Black Market"]}),b.jsx("button",{onClick:Ai,disabled:P.ready,className:`mt-2 py-2 px-4 rounded font-bold transition-all ${P.ready?"bg-green-600/50 text-white/50 cursor-not-allowed":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"}`,children:P.ready?"READY":"MARKET DONE"})]})]}),b.jsx("div",{className:"flex-1 overflow-x-auto min-h-[160px]",children:se?b.jsxs("div",{className:"h-full flex items-center justify-center text-zinc-500 border-2 border-dashed border-zinc-800 rounded-xl bg-black/20 gap-2",children:[b.jsx(bh,{size:32}),b.jsx("span",{children:"You are the Inspector. Check crates above."})]}):P.loadedCrate?b.jsxs("div",{className:"h-full flex flex-col items-center justify-center w-full",children:[b.jsx("div",{className:"flex gap-2 justify-center mb-2 grayscale-[0.3] scale-90 origin-bottom",children:P.loadedCrate.cards.map((J,ue)=>b.jsxs("div",{className:"relative group",children:[b.jsx(Pv,{typeId:J,small:!1}),b.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:b.jsx(km,{className:"text-white/80 drop-shadow-md"})})]},ue))}),b.jsxs("div",{className:"flex items-center gap-3 bg-zinc-900/80 px-4 py-2 rounded-full border border-emerald-500/30 text-xs shadow-xl backdrop-blur-md",children:[b.jsxs("span",{className:"flex items-center gap-1 text-emerald-400 font-bold",children:[b.jsx(km,{size:12})," LOCKED"]}),b.jsx("div",{className:"w-px h-3 bg-zinc-700"}),b.jsxs("span",{className:"text-zinc-400",children:["Declared:"," ",b.jsx("strong",{className:"text-white",children:Dt[P.loadedCrate.declaration]?.name})]}),P.loadedCrate.bribe>0&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-px h-3 bg-zinc-700"}),b.jsxs("span",{className:"flex items-center gap-1 text-yellow-500 font-mono",children:[b.jsx(Jc,{size:12})," $",P.loadedCrate.bribe]})]})]})]}):E.turnState==="LOADING"?b.jsx("div",{className:"flex gap-2 pb-2",children:P.hand.map((J,ue)=>b.jsx(Pv,{typeId:J,selected:Xe.includes(ue),onClick:()=>{Xe.includes(ue)?At(Xe.filter(Me=>Me!==ue)):Xe.length<(P.upgrades?.includes("EXPANDED")?5:4)&&At([...Xe,ue])}},ue))}):b.jsx("div",{className:"h-full flex items-center justify-center text-zinc-600 italic",children:"Market Phase - Check Shop"})}),!se&&E.turnState!=="SHOPPING"&&b.jsxs("div",{className:"min-w-[200px] flex flex-col gap-3",children:[!P.loadedCrate&&E.turnState==="LOADING"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"bg-zinc-800 p-2 rounded-xl border border-zinc-700",children:[b.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 block",children:"Declare As"}),b.jsx("div",{className:"grid grid-cols-3 gap-1",children:["MEDS","FOOD","PARTS"].map(J=>b.jsx("button",{onClick:()=>re(J),className:`p-2 rounded flex items-center justify-center ${F===J?"bg-emerald-600 text-white":"bg-zinc-700 text-zinc-400"}`,children:t_.createElement(Dt[J].icon,{size:16})},J))})]}),b.jsxs("div",{className:"bg-zinc-800 p-2 rounded-xl border border-zinc-700 flex items-center gap-2",children:[b.jsx("div",{className:"text-[10px] text-zinc-500 uppercase font-bold w-12",children:"Bribe"}),b.jsx("input",{type:"range",min:"0",max:Math.max(0,Math.min(P.coins,1e4)),step:"100",value:de,onChange:J=>Ve(J.target.value),className:"flex-1 accent-yellow-500 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),b.jsxs("span",{className:"text-xs font-mono text-yellow-500 w-10 text-right",children:["$",de]})]}),b.jsx("button",{onClick:ns,disabled:Xe.length===0,className:"w-full py-3 bg-gradient-to-r from-emerald-600 to-green-500 hover:from-emerald-500 hover:to-green-400 disabled:opacity-50 text-white font-bold rounded-xl shadow-lg",children:"LOAD CRATE"})]}),P.loadedCrate&&b.jsxs("div",{className:"bg-zinc-800/80 p-3 rounded-xl border border-yellow-500/30 animate-in fade-in",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsxs("div",{className:"text-xs font-bold text-white flex items-center gap-2",children:[b.jsx(kv,{size:14,className:"text-yellow-500"})," ","Negotiation"]}),b.jsx("div",{className:"text-[10px] text-zinc-400 uppercase tracking-wider",children:"Active"})]}),b.jsxs("div",{className:"bg-zinc-900 p-2 rounded-lg border border-zinc-700 flex items-center gap-2 mb-2",children:[b.jsx("div",{className:"text-[10px] text-zinc-500 uppercase font-bold w-8",children:"Offer"}),b.jsx("input",{type:"range",min:"0",max:Math.min(1e4,P.coins+(P.loadedCrate?.bribe||0)),step:"100",value:de,onChange:J=>Ve(J.target.value),className:"flex-1 accent-yellow-500 h-2 bg-zinc-800 rounded-lg appearance-none cursor-pointer"}),b.jsxs("span",{className:"text-xs font-mono text-yellow-500 w-10 text-right",children:["$",de]})]}),b.jsx("button",{onClick:Or,disabled:Date.now()-Ze<2e3,className:"w-full py-2 bg-yellow-600 hover:bg-yellow-500 disabled:bg-zinc-700 disabled:text-zinc-500 text-black font-bold rounded-lg text-xs shadow-lg shadow-yellow-900/20 transition-colors flex items-center justify-center gap-2",children:Date.now()-Ze<2e3?b.jsxs(b.Fragment,{children:[b.jsx(xI,{size:12,className:"animate-spin"})," WAIT"]}):"UPDATE OFFER"})]})]})]})}),E.status==="finished"&&b.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:b.jsxs("div",{className:"w-full max-w-4xl bg-zinc-900 border border-emerald-500/50 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[b.jsx("div",{className:"p-6 bg-zinc-950 border-b border-zinc-800 text-center",children:b.jsxs("h2",{className:"text-4xl font-bold text-emerald-400 drop-shadow-md",children:[E.winner," Wins!"]})}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:b.jsx(Uv,{players:E.players,roundData:E.roundHistory,isFinal:!0})}),b.jsx("div",{className:"p-6 bg-zinc-950 border-t border-zinc-800 flex justify-center gap-4",children:ae?b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:ts,disabled:!ne,className:`px-6 py-3 rounded-xl font-bold text-white shadow-lg transition-all ${ne?"bg-emerald-600 hover:bg-emerald-500":"bg-zinc-800 text-zinc-600 cursor-not-allowed"}`,children:"New Game"}),b.jsx("button",{onClick:es,disabled:!ne,className:`px-6 py-3 rounded-xl font-bold text-white transition-all ${ne?"bg-zinc-700 hover:bg-zinc-600":"bg-zinc-800 text-zinc-600 cursor-not-allowed"}`,children:"Return Team to Lobby"})]}):b.jsx("button",{onClick:Ai,className:`px-8 py-3 rounded-xl font-bold transition-all ${P.ready?"bg-green-600 text-white":"bg-zinc-700 hover:bg-zinc-600 text-white"}`,children:P.ready?"Ready! Waiting for Host...":"Ready for Next Round"})}),ae&&!ne&&b.jsx("div",{className:"pb-4 text-center text-xs text-zinc-500 animate-pulse",children:"Waiting for squad..."})]})}),E.turnState==="ROUND_SUMMARY"&&b.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:b.jsxs("div",{className:"w-full max-w-4xl bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"p-4 bg-zinc-950 border-b border-zinc-800 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Round ",E.currentRound," Complete"]}),b.jsx("div",{className:"text-xs text-zinc-500 uppercase tracking-widest",children:E.currentRound>=xe?"Game Sequence Complete":"Next Event Loading..."})]}),b.jsx("div",{className:"flex-1 overflow-y-auto",children:b.jsx(Uv,{players:E.players,roundData:E.roundHistory,isFinal:!1})}),b.jsx("div",{className:"p-6 bg-zinc-950 border-t border-zinc-800 flex justify-center",children:b.jsx("button",{onClick:Ai,className:`px-8 py-3 rounded-xl font-bold transition-all shadow-lg flex items-center gap-2 ${P.ready?"bg-green-600 text-white shadow-green-900/20":"bg-emerald-600 hover:bg-emerald-500 text-white shadow-emerald-900/20"}`,children:P.ready?b.jsxs(b.Fragment,{children:[b.jsx(AI,{size:20})," Waiting for others..."]}):b.jsx(b.Fragment,{children:E.currentRound>=xe?b.jsxs(b.Fragment,{children:["Show Final Results ",b.jsx(Vm,{size:20})]}):b.jsxs(b.Fragment,{children:["Start Round ",E.currentRound+1," ",b.jsx(EI,{size:20})]})})})}),b.jsx("div",{className:"pb-4 bg-zinc-950 flex justify-center gap-2",children:E.players.map(J=>b.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${J.ready?"bg-green-500":"bg-zinc-700"}`,title:J.name},J.id))})]})})]}),b.jsx(jv,{})]})}return null}rA.createRoot(document.getElementById("root")).render(b.jsx(tt.StrictMode,{children:b.jsx(_N,{})}));
