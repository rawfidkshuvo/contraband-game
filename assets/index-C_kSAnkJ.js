(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function $T(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ud={exports:{}},Io={};var Z0;function ZT(){if(Z0)return Io;Z0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Io.Fragment=e,Io.jsx=i,Io.jsxs=i,Io}var J0;function JT(){return J0||(J0=1,Ud.exports=ZT()),Ud.exports}var v=JT(),Pd={exports:{}},Ce={};var W0;function WT(){if(W0)return Ce;W0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=I&&M[I]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function _e(M,P,se){this.props=M,this.context=P,this.refs=ee,this.updater=se||$}_e.prototype.isReactComponent={},_e.prototype.setState=function(M,P){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,P,"setState")},_e.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Te(){}Te.prototype=_e.prototype;function ge(M,P,se){this.props=M,this.context=P,this.refs=ee,this.updater=se||$}var Pe=ge.prototype=new Te;Pe.constructor=ge,te(Pe,_e.prototype),Pe.isPureReactComponent=!0;var ot=Array.isArray;function ze(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function w(M,P,se){var ae=se.ref;return{$$typeof:s,type:M,key:P,ref:ae!==void 0?ae:null,props:se}}function V(M,P){return w(M.type,P,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var P={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return P[se]})}var R=/\/+/g;function Xe(M,P){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):P.toString(36)}function St(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ze,ze):(M.status="pending",M.then(function(P){M.status==="pending"&&(M.status="fulfilled",M.value=P)},function(P){M.status==="pending"&&(M.status="rejected",M.reason=P)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,P,se,ae,le){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Be=!1;if(M===null)Be=!0;else switch(xe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(M.$$typeof){case s:case e:Be=!0;break;case E:return Be=M._init,F(Be(M._payload),P,se,ae,le)}}if(Be)return le=le(M),Be=ae===""?"."+Xe(M,0):ae,ot(le)?(se="",Be!=null&&(se=Be.replace(R,"$&/")+"/"),F(le,P,se,"",function(Wi){return Wi})):le!=null&&(D(le)&&(le=V(le,se+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(R,"$&/")+"/")+Be)),P.push(le)),1;Be=0;var Ot=ae===""?".":ae+":";if(ot(M))for(var mt=0;mt<M.length;mt++)ae=M[mt],xe=Ot+Xe(ae,mt),Be+=F(ae,P,se,xe,le);else if(mt=G(M),typeof mt=="function")for(M=mt.call(M),mt=0;!(ae=M.next()).done;)ae=ae.value,xe=Ot+Xe(ae,mt++),Be+=F(ae,P,se,xe,le);else if(xe==="object"){if(typeof M.then=="function")return F(St(M),P,se,ae,le);throw P=String(M),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Be}function re(M,P,se){if(M==null)return M;var ae=[],le=0;return F(M,ae,"","",function(xe){return P.call(se,xe,le++)}),ae}function me(M){if(M._status===-1){var P=M._result;P=P(),P.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=P)}if(M._status===1)return M._result.default;throw M._result}var Ve=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ze={map:re,forEach:function(M,P,se){re(M,function(){P.apply(this,arguments)},se)},count:function(M){var P=0;return re(M,function(){P++}),P},toArray:function(M){return re(M,function(P){return P})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=S,Ce.Children=Ze,Ce.Component=_e,Ce.Fragment=i,Ce.Profiler=o,Ce.PureComponent=ge,Ce.StrictMode=a,Ce.Suspense=_,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,P,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=te({},M.props),le=M.key;if(P!=null)for(xe in P.key!==void 0&&(le=""+P.key),P)!x.call(P,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&P.ref===void 0||(ae[xe]=P[xe]);var xe=arguments.length-2;if(xe===1)ae.children=se;else if(1<xe){for(var Be=Array(xe),Ot=0;Ot<xe;Ot++)Be[Ot]=arguments[Ot+2];ae.children=Be}return w(M.type,le,ae)},Ce.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ce.createElement=function(M,P,se){var ae,le={},xe=null;if(P!=null)for(ae in P.key!==void 0&&(xe=""+P.key),P)x.call(P,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(le[ae]=P[ae]);var Be=arguments.length-2;if(Be===1)le.children=se;else if(1<Be){for(var Ot=Array(Be),mt=0;mt<Be;mt++)Ot[mt]=arguments[mt+2];le.children=Ot}if(M&&M.defaultProps)for(ae in Be=M.defaultProps,Be)le[ae]===void 0&&(le[ae]=Be[ae]);return w(M,xe,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:g,render:M}},Ce.isValidElement=D,Ce.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},Ce.memo=function(M,P){return{$$typeof:y,type:M,compare:P===void 0?null:P}},Ce.startTransition=function(M){var P=N.T,se={};N.T=se;try{var ae=M(),le=N.S;le!==null&&le(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ze,Ve)}catch(xe){Ve(xe)}finally{P!==null&&se.types!==null&&(P.types=se.types),N.T=P}},Ce.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ce.use=function(M){return N.H.use(M)},Ce.useActionState=function(M,P,se){return N.H.useActionState(M,P,se)},Ce.useCallback=function(M,P){return N.H.useCallback(M,P)},Ce.useContext=function(M){return N.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,P){return N.H.useDeferredValue(M,P)},Ce.useEffect=function(M,P){return N.H.useEffect(M,P)},Ce.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Ce.useId=function(){return N.H.useId()},Ce.useImperativeHandle=function(M,P,se){return N.H.useImperativeHandle(M,P,se)},Ce.useInsertionEffect=function(M,P){return N.H.useInsertionEffect(M,P)},Ce.useLayoutEffect=function(M,P){return N.H.useLayoutEffect(M,P)},Ce.useMemo=function(M,P){return N.H.useMemo(M,P)},Ce.useOptimistic=function(M,P){return N.H.useOptimistic(M,P)},Ce.useReducer=function(M,P,se){return N.H.useReducer(M,P,se)},Ce.useRef=function(M){return N.H.useRef(M)},Ce.useState=function(M){return N.H.useState(M)},Ce.useSyncExternalStore=function(M,P,se){return N.H.useSyncExternalStore(M,P,se)},Ce.useTransition=function(){return N.H.useTransition()},Ce.version="19.2.3",Ce}var e_;function Lm(){return e_||(e_=1,Pd.exports=WT()),Pd.exports}var tt=Lm();const t_=$T(tt);var Bd={exports:{}},Do={},qd={exports:{}},Hd={};var n_;function eA(){return n_||(n_=1,(function(s){function e(F,re){var me=F.length;F.push(re);e:for(;0<me;){var Ve=me-1>>>1,Ze=F[Ve];if(0<o(Ze,re))F[Ve]=re,F[me]=Ze,me=Ve;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var re=F[0],me=F.pop();if(me!==re){F[0]=me;e:for(var Ve=0,Ze=F.length,M=Ze>>>1;Ve<M;){var P=2*(Ve+1)-1,se=F[P],ae=P+1,le=F[ae];if(0>o(se,me))ae<Ze&&0>o(le,se)?(F[Ve]=le,F[ae]=me,Ve=ae):(F[Ve]=se,F[P]=me,Ve=P);else if(ae<Ze&&0>o(le,me))F[Ve]=le,F[ae]=me,Ve=ae;else break e}}return re}function o(F,re){var me=F.sortIndex-re.sortIndex;return me!==0?me:F.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],E=1,S=null,I=3,G=!1,$=!1,te=!1,ee=!1,_e=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function Pe(F){for(var re=i(y);re!==null;){if(re.callback===null)a(y);else if(re.startTime<=F)a(y),re.sortIndex=re.expirationTime,e(_,re);else break;re=i(y)}}function ot(F){if(te=!1,Pe(F),!$)if(i(_)!==null)$=!0,ze||(ze=!0,k());else{var re=i(y);re!==null&&St(ot,re.startTime-F)}}var ze=!1,N=-1,x=5,w=-1;function V(){return ee?!0:!(s.unstable_now()-w<x)}function D(){if(ee=!1,ze){var F=s.unstable_now();w=F;var re=!0;try{e:{$=!1,te&&(te=!1,Te(N),N=-1),G=!0;var me=I;try{t:{for(Pe(F),S=i(_);S!==null&&!(S.expirationTime>F&&V());){var Ve=S.callback;if(typeof Ve=="function"){S.callback=null,I=S.priorityLevel;var Ze=Ve(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ze=="function"){S.callback=Ze,Pe(F),re=!0;break t}S===i(_)&&a(_),Pe(F)}else a(_);S=i(_)}if(S!==null)re=!0;else{var M=i(y);M!==null&&St(ot,M.startTime-F),re=!1}}break e}finally{S=null,I=me,G=!1}re=void 0}}finally{re?k():ze=!1}}}var k;if(typeof ge=="function")k=function(){ge(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xe=R.port2;R.port1.onmessage=D,k=function(){Xe.postMessage(null)}}else k=function(){_e(D,0)};function St(F,re){N=_e(function(){F(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(F){switch(I){case 1:case 2:case 3:var re=3;break;default:re=I}var me=I;I=re;try{return F()}finally{I=me}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=I;I=F;try{return re()}finally{I=me}},s.unstable_scheduleCallback=function(F,re,me){var Ve=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ve+me:Ve):me=Ve,F){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=me+Ze,F={id:E++,callback:re,priorityLevel:F,startTime:me,expirationTime:Ze,sortIndex:-1},me>Ve?(F.sortIndex=me,e(y,F),i(_)===null&&F===i(y)&&(te?(Te(N),N=-1):te=!0,St(ot,me-Ve))):(F.sortIndex=Ze,e(_,F),$||G||($=!0,ze||(ze=!0,k()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var re=I;return function(){var me=I;I=re;try{return F.apply(this,arguments)}finally{I=me}}}})(Hd)),Hd}var i_;function tA(){return i_||(i_=1,qd.exports=eA()),qd.exports}var Gd={exports:{}},vn={};var s_;function nA(){if(s_)return vn;s_=1;var s=Lm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:E}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vn.createPortal=function(_,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,E)},vn.flushSync=function(_){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=E,a.d.f()}},vn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},vn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},vn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:G}):E==="script"&&a.d.X(_,{crossOrigin:S,integrity:I,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},vn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},vn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);a.d.L(_,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},vn.preloadModule=function(_,y){if(typeof _=="string")if(y){var E=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},vn.requestFormReset=function(_){a.d.r(_)},vn.unstable_batchedUpdates=function(_,y){return _(y)},vn.useFormState=function(_,y,E){return d.H.useFormState(_,y,E)},vn.useFormStatus=function(){return d.H.useHostTransitionStatus()},vn.version="19.2.3",vn}var r_;function iA(){if(r_)return Gd.exports;r_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gd.exports=nA(),Gd.exports}var a_;function sA(){if(a_)return Do;a_=1;var s=tA(),e=Lm(),i=iA();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===r){p=!0,r=h,l=f;break}if(T===l){p=!0,l=h,r=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===r){p=!0,r=f,l=h;break}if(T===l){p=!0,l=f,r=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function E(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=E(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case _e:return"Profiler";case ee:return"StrictMode";case ot:return"Suspense";case ze:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ge:return t.displayName||"Context";case Te:return(t._context.displayName||"Context")+".Consumer";case Pe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Xe(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Xe(t(n))}catch{}}return null}var St=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ve=[],Ze=-1;function M(t){return{current:t}}function P(t){0>Ze||(t.current=Ve[Ze],Ve[Ze]=null,Ze--)}function se(t,n){Ze++,Ve[Ze]=t.current,t.current=n}var ae=M(null),le=M(null),xe=M(null),Be=M(null);function Ot(t,n){switch(se(xe,n),se(le,t),se(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?b0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=b0(n),t=E0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}P(ae),se(ae,t)}function mt(){P(ae),P(le),P(xe)}function Wi(t){t.memoizedState!==null&&se(Be,t);var n=ae.current,r=E0(n,t.type);n!==r&&(se(le,t),se(ae,r))}function es(t){le.current===t&&(P(ae),P(le)),Be.current===t&&(P(Be),wo._currentValue=me)}var ts,Ai;function Xn(t){if(ts===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ts=n&&n[1]||"",Ai=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ts+t+Ai}var Or=!1;function ns(t,n){if(!t||Or)return"";Or=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){B=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),U=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Or=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Xn(r):""}function Si(t,n){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return ns(t.type,!1);case 11:return ns(t.type.render,!1);case 1:return ns(t.type,!0);case 31:return Xn("Activity");default:return""}}function Mr(t){try{var n="",r=null;do n+=Si(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var W=Object.prototype.hasOwnProperty,ne=s.unstable_scheduleCallback,ve=s.unstable_cancelCallback,J=s.unstable_shouldYield,ue=s.unstable_requestPaint,Oe=s.unstable_now,he=s.unstable_getCurrentPriorityLevel,un=s.unstable_ImmediatePriority,Sn=s.unstable_UserBlockingPriority,fe=s.unstable_NormalPriority,yt=s.unstable_LowPriority,xt=s.unstable_IdlePriority,Nn=s.log,Vs=s.unstable_setDisableYieldValue,we=null,ke=null;function Mt(t){if(typeof Nn=="function"&&Vs(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(we,t)}catch{}}var Je=Math.clz32?Math.clz32:_t,Vt=Math.log,qe=Math.LN2;function _t(t){return t>>>=0,t===0?32:31-(Vt(t)/qe|0)|0}var pt=256,Wt=262144,ut=4194304;function kt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ct(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=kt(l):(p&=T,p!==0?h=kt(p):r||(r=T&~t,r!==0&&(h=kt(r))))):(T=l&~f,T!==0?h=kt(T):p!==0?h=kt(p):r||(r=l&~t,r!==0&&(h=kt(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function en(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function _a(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var t=ut;return ut<<=1,(ut&62914560)===0&&(ut=4194304),t}function xi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Vr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hh(t,n,r,l,h,f){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(r=p&~r;0<r;){var K=31-Je(r),Y=1<<K;T[K]=0,C[K]=-1;var B=U[K];if(B!==null)for(U[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}r&=~Y}l!==0&&kr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function kr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Il(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Je(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Dl(t,n){var r=n&-n;return r=(r&42)!==0?1:zr(r),(r&(t.suspendedLanes|n))!==0?0:r}function zr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function is(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function du(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:G0(t.type))}function ci(t,n){var r=re.p;try{return re.p=t,n()}finally{re.p=r}}var hi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+hi,tn="__reactProps$"+hi,wi="__reactContainer$"+hi,va="__reactEvents$"+hi,Gh="__reactListeners$"+hi,mu="__reactHandles$"+hi,pu="__reactResources$"+hi,Ri="__reactMarker$"+hi;function ba(t){delete t[Pt],delete t[tn],delete t[va],delete t[Gh],delete t[mu]}function Ci(t){var n=t[Pt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[wi]||r[Pt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=C0(t);t!==null;){if(r=t[Pt])return r;t=C0(t)}return n}t=r,r=t.parentNode}return null}function $n(t){if(t=t[Pt]||t[wi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ni(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Bt(t){t[Ri]=!0}var Ol=new Set,Ml={};function Ii(t,n){Di(t,n),Di(t+"Capture",n)}function Di(t,n){for(Ml[t]=n,t=0;t<n.length;t++)Ol.add(n[t])}var Vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},zl={};function gu(t){return W.call(zl,t)?!0:W.call(kl,t)?!1:Vl.test(t)?zl[t]=!0:(kl[t]=!0,!1)}function Ea(t,n,r){if(gu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function qt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function rt(t){if(!t._valueTracker){var n=ks(t)?"checked":"value";t._valueTracker=jl(t,n,""+t[n])}}function jr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ks(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lr=/[\n"\\]/g;function In(t){return t.replace(Lr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ta(t,n,r,l,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+nn(n)):t.value!==""+nn(n)&&(t.value=""+nn(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ll(t,p,nn(n)):r!=null?Ll(t,p,nn(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function yu(t,n,r,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){rt(t);return}r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),rt(t)}function Ll(t,n,r){n==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function _u(t,n,r){if(n!=null&&(n=""+nn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+nn(r):""}function js(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(St(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=nn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),rt(t)}function Dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||vu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Pl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ul(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ul(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Ls.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var Bl=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Us=null,Mi=null;function Ur(t){var n=$n(t);if(n&&(t=n.stateNode)){var r=t[tn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ta(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+In(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[tn]||null;if(!h)throw Error(a(90));Ta(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&jr(l)}break e;case"textarea":_u(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&zs(t,!!r.multiple,n,!1)}}}var xa=!1;function Ps(t,n,r){if(xa)return t(n,r);xa=!0;try{var l=t(n);return l}finally{if(xa=!1,(Us!==null||Mi!==null)&&(dc(),Us&&(n=Us,t=Mi,Mi=Us=null,Ur(n),t)))for(n=0;n<t.length;n++)Ur(t[n])}}function di(t,n){var r=t.stateNode;if(r===null)return null;var l=r[tn]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(Jn)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Pr=!1}var Vi=null,ql=null,Br=null;function Hl(){if(Br)return Br;var t,n=ql,r=n.length,l,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[f-l];l++);return Br=h.slice(t,1<l?1-l:void 0)}function qr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function mi(){return!1}function cn(t){function n(r,l,h,f,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ss:mi,this.isPropagationStopped=mi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),n}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=cn(rs),Bs=S({},rs,{view:0,detail:0}),Gl=cn(Bs),qs,wa,zi,Ra=S({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(qs=t.screenX-zi.screenX,wa=t.screenY-zi.screenY):wa=qs=0,zi=t),qs)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Fl=cn(Ra),Hr=S({},Ra,{dataTransfer:0}),Eu=cn(Hr),Tu=S({},Bs,{relatedTarget:0}),Gr=cn(Tu),Kl=S({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=cn(Kl),Ca=S({},rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Su=cn(Ca),xu=S({},rs,{data:0}),ji=cn(xu),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Hs(){return Nu}var xn=S({},Bs,{key:function(t){if(t.key){var n=wu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(t){return t.type==="keypress"?qr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iu=cn(xn),Du=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),as=cn(Du),u=S({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),m=cn(u),b=S({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=cn(b),j=S({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=cn(j),ie=S({},rs,{newState:0,oldState:0}),Ie=cn(ie),zt=[9,13,27,32],nt=Jn&&"CompositionEvent"in window,Tt=null;Jn&&"documentMode"in document&&(Tt=document.documentMode);var Wn=Jn&&"TextEvent"in window&&!Tt,Li=Jn&&(!nt||Tt&&8<Tt&&11>=Tt),pi=" ",gi=!1;function Fr(t,n){switch(t){case"keyup":return zt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function bE(t,n){switch(t){case"compositionend":return Na(n);case"keypress":return n.which!==32?null:(gi=!0,pi);case"textInput":return t=n.data,t===pi&&gi?null:t;default:return null}}function EE(t,n){if(Ia)return t==="compositionend"||!nt&&Fr(t,n)?(t=Hl(),Br=ql=Vi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Li&&n.locale!=="ko"?null:n.data;default:return null}}var TE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!TE[t.type]:n==="textarea"}function Op(t,n,r,l){Us?Mi?Mi.push(l):Mi=[l]:Us=l,n=bc(n,"onChange"),0<n.length&&(r=new ki("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ql=null,Yl=null;function AE(t){m0(t,0)}function Ou(t){var n=Un(t);if(jr(n))return t}function Mp(t,n){if(t==="change")return n}var Vp=!1;if(Jn){var Fh;if(Jn){var Kh="oninput"in document;if(!Kh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Kh=typeof kp.oninput=="function"}Fh=Kh}else Fh=!1;Vp=Fh&&(!document.documentMode||9<document.documentMode)}function zp(){Ql&&(Ql.detachEvent("onpropertychange",jp),Yl=Ql=null)}function jp(t){if(t.propertyName==="value"&&Ou(Yl)){var n=[];Op(n,Yl,t,Zn(t)),Ps(AE,n)}}function SE(t,n,r){t==="focusin"?(zp(),Ql=n,Yl=r,Ql.attachEvent("onpropertychange",jp)):t==="focusout"&&zp()}function xE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ou(Yl)}function wE(t,n){if(t==="click")return Ou(n)}function RE(t,n){if(t==="input"||t==="change")return Ou(n)}function CE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Bn=typeof Object.is=="function"?Object.is:CE;function Xl(t,n){if(Bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!W.call(n,h)||!Bn(t[h],n[h]))return!1}return!0}function Lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,n){var r=Lp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lp(r)}}function Pp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Oi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Oi(t.document)}return n}function Qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var NE=Jn&&"documentMode"in document&&11>=document.documentMode,Da=null,Yh=null,$l=null,Xh=!1;function qp(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xh||Da==null||Da!==Oi(l)||(l=Da,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$l&&Xl($l,l)||($l=l,l=bc(Yh,"onSelect"),0<l.length&&(n=new ki("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Da)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Oa={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},$h={},Hp={};Jn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Qr(t){if($h[t])return $h[t];if(!Oa[t])return t;var n=Oa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Hp)return $h[t]=n[r];return t}var Gp=Qr("animationend"),Fp=Qr("animationiteration"),Kp=Qr("animationstart"),IE=Qr("transitionrun"),DE=Qr("transitionstart"),OE=Qr("transitioncancel"),Qp=Qr("transitionend"),Yp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function yi(t,n){Yp.set(t,n),Ii(n,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ei=[],Ma=0,Jh=0;function Vu(){for(var t=Ma,n=Jh=Ma=0;n<t;){var r=ei[n];ei[n++]=null;var l=ei[n];ei[n++]=null;var h=ei[n];ei[n++]=null;var f=ei[n];if(ei[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Xp(r,h,f)}}function ku(t,n,r,l){ei[Ma++]=t,ei[Ma++]=n,ei[Ma++]=r,ei[Ma++]=l,Jh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,n,r,l){return ku(t,n,r,l),zu(t)}function Yr(t,n){return ku(t,null,null,n),zu(t)}function Xp(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Je(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function zu(t){if(50<vo)throw vo=0,ud=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Va={};function ME(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,n,r,l){return new ME(t,n,r,l)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ls(t,n){var r=t.alternate;return r===null?(r=qn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function $p(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,r,l,h,f){var p=0;if(l=t,typeof t=="function")ef(t)&&(p=1);else if(typeof t=="string")p=LT(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=qn(31,r,n,h),t.elementType=w,t.lanes=f,t;case te:return Xr(r.children,h,f,n);case ee:p=8,h|=24;break;case _e:return t=qn(12,r,n,h|2),t.elementType=_e,t.lanes=f,t;case ot:return t=qn(13,r,n,h),t.elementType=ot,t.lanes=f,t;case ze:return t=qn(19,r,n,h),t.elementType=ze,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:p=10;break e;case Te:p=9;break e;case Pe:p=11;break e;case N:p=14;break e;case x:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=qn(p,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Xr(t,n,r,l){return t=qn(7,t,l,n),t.lanes=r,t}function tf(t,n,r){return t=qn(6,t,null,n),t.lanes=r,t}function Zp(t){var n=qn(18,null,null,0);return n.stateNode=t,n}function nf(t,n,r){return n=qn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Jp=new WeakMap;function ti(t,n){if(typeof t=="object"&&t!==null){var r=Jp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Mr(n)},Jp.set(t,n),n)}return{value:t,source:n,stack:Mr(n)}}var ka=[],za=0,Lu=null,Zl=0,ni=[],ii=0,Gs=null,Ui=1,Pi="";function os(t,n){ka[za++]=Zl,ka[za++]=Lu,Lu=t,Zl=n}function Wp(t,n,r){ni[ii++]=Ui,ni[ii++]=Pi,ni[ii++]=Gs,Gs=t;var l=Ui;t=Pi;var h=32-Je(l)-1;l&=~(1<<h),r+=1;var f=32-Je(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ui=1<<32-Je(n)+h|r<<h|l,Pi=f+t}else Ui=1<<f|r<<h|l,Pi=t}function sf(t){t.return!==null&&(os(t,1),Wp(t,1,0))}function rf(t){for(;t===Lu;)Lu=ka[--za],ka[za]=null,Zl=ka[--za],ka[za]=null;for(;t===Gs;)Gs=ni[--ii],ni[ii]=null,Pi=ni[--ii],ni[ii]=null,Ui=ni[--ii],ni[ii]=null}function eg(t,n){ni[ii++]=Ui,ni[ii++]=Pi,ni[ii++]=Gs,Ui=n.id,Pi=n.overflow,Gs=t}var hn=null,vt=null,Ye=!1,Fs=null,si=!1,af=Error(a(519));function Ks(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(ti(n,t)),af}function tg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Pt]=t,n[tn]=l,r){case"dialog":Le("cancel",n),Le("close",n);break;case"iframe":case"object":case"embed":Le("load",n);break;case"video":case"audio":for(r=0;r<Eo.length;r++)Le(Eo[r],n);break;case"source":Le("error",n);break;case"img":case"image":case"link":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"input":Le("invalid",n),yu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",n);break;case"textarea":Le("invalid",n),js(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||_0(n.textContent,r)?(l.popover!=null&&(Le("beforetoggle",n),Le("toggle",n)),l.onScroll!=null&&Le("scroll",n),l.onScrollEnd!=null&&Le("scrollend",n),l.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Ks(t,!0)}function ng(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:hn=hn.return}}function ja(t){if(t!==hn)return!1;if(!Ye)return ng(t),Ye=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Sd(t.type,t.memoizedProps)),r=!r),r&&vt&&Ks(t),ng(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=R0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));vt=R0(t)}else n===27?(n=vt,ar(t.type)?(t=Nd,Nd=null,vt=t):vt=n):vt=hn?ai(t.stateNode.nextSibling):null;return!0}function $r(){vt=hn=null,Ye=!1}function lf(){var t=Fs;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),Fs=null),t}function Jl(t){Fs===null?Fs=[t]:Fs.push(t)}var of=M(null),Zr=null,us=null;function Qs(t,n,r){se(of,n._currentValue),n._currentValue=r}function cs(t){t._currentValue=of.current,P(of)}function uf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function cf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),uf(f.return,r,t),l||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),uf(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function La(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Bn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Be.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wo):t=[wo])}h=h.return}t!==null&&cf(n,t,r,l),n.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!Bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Zr=t,us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return ig(Zr,t)}function Pu(t,n){return Zr===null&&Jr(t),ig(t,n)}function ig(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},us===null){if(t===null)throw Error(a(308));us=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else us=us.next=n;return r}var VE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},kE=s.unstable_scheduleCallback,zE=s.unstable_NormalPriority,Ht={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new VE,data:new Map,refCount:0}}function Wl(t){t.refCount--,t.refCount===0&&kE(zE,function(){t.controller.abort()})}var eo=null,ff=0,Ua=0,Pa=null;function jE(t,n){if(eo===null){var r=eo=[];ff=0,Ua=pd(),Pa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ff++,n.then(sg,sg),n}function sg(){if(--ff===0&&eo!==null){Pa!==null&&(Pa.status="fulfilled");var t=eo;eo=null,Ua=0,Pa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function LE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var rg=F.S;F.S=function(t,n){qy=Oe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&jE(t,n),rg!==null&&rg(t,n)};var Wr=M(null);function df(){var t=Wr.current;return t!==null?t:gt.pooledCache}function Bu(t,n){n===null?se(Wr,Wr.current):se(Wr,n.pool)}function ag(){var t=df();return t===null?null:{parent:Ht._currentValue,pool:t}}var Ba=Error(a(460)),mf=Error(a(474)),qu=Error(a(542)),Hu={then:function(){}};function lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function og(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(fi,fi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t;default:if(typeof n.status=="string")n.then(fi,fi);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cg(t),t}throw ta=n,Ba}}function ea(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ta=r,Ba):r}}var ta=null;function ug(){if(ta===null)throw Error(a(459));var t=ta;return ta=null,t}function cg(t){if(t===Ba||t===qu)throw Error(a(483))}var qa=null,to=0;function Gu(t){var n=to;return to+=1,qa===null&&(qa=[]),og(qa,t,n)}function no(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hg(t){function n(z,O){if(t){var L=z.deletions;L===null?(z.deletions=[O],z.flags|=16):L.push(O)}}function r(z,O){if(!t)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function l(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function h(z,O){return z=ls(z,O),z.index=0,z.sibling=null,z}function f(z,O,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<O?(z.flags|=67108866,O):L):(z.flags|=67108866,O)):(z.flags|=1048576,O)}function p(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,O,L,Q){return O===null||O.tag!==6?(O=tf(L,z.mode,Q),O.return=z,O):(O=h(O,L),O.return=z,O)}function C(z,O,L,Q){var ye=L.type;return ye===te?K(z,O,L.props.children,Q,L.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&ea(ye)===O.type)?(O=h(O,L.props),no(O,L),O.return=z,O):(O=ju(L.type,L.key,L.props,null,z.mode,Q),no(O,L),O.return=z,O)}function U(z,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=nf(L,z.mode,Q),O.return=z,O):(O=h(O,L.children||[]),O.return=z,O)}function K(z,O,L,Q,ye){return O===null||O.tag!==7?(O=Xr(L,z.mode,Q,ye),O.return=z,O):(O=h(O,L),O.return=z,O)}function Y(z,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=tf(""+O,z.mode,L),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return L=ju(O.type,O.key,O.props,null,z.mode,L),no(L,O),L.return=z,L;case $:return O=nf(O,z.mode,L),O.return=z,O;case x:return O=ea(O),Y(z,O,L)}if(St(O)||k(O))return O=Xr(O,z.mode,L,null),O.return=z,O;if(typeof O.then=="function")return Y(z,Gu(O),L);if(O.$$typeof===ge)return Y(z,Pu(z,O),L);Fu(z,O)}return null}function B(z,O,L,Q){var ye=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:T(z,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===ye?C(z,O,L,Q):null;case $:return L.key===ye?U(z,O,L,Q):null;case x:return L=ea(L),B(z,O,L,Q)}if(St(L)||k(L))return ye!==null?null:K(z,O,L,Q,null);if(typeof L.then=="function")return B(z,O,Gu(L),Q);if(L.$$typeof===ge)return B(z,O,Pu(z,L),Q);Fu(z,L)}return null}function H(z,O,L,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(L)||null,T(O,z,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return z=z.get(Q.key===null?L:Q.key)||null,C(O,z,Q,ye);case $:return z=z.get(Q.key===null?L:Q.key)||null,U(O,z,Q,ye);case x:return Q=ea(Q),H(z,O,L,Q,ye)}if(St(Q)||k(Q))return z=z.get(L)||null,K(O,z,Q,ye,null);if(typeof Q.then=="function")return H(z,O,L,Gu(Q),ye);if(Q.$$typeof===ge)return H(z,O,L,Pu(O,Q),ye);Fu(O,Q)}return null}function ce(z,O,L,Q){for(var ye=null,We=null,de=O,Me=O=0,Ge=null;de!==null&&Me<L.length;Me++){de.index>Me?(Ge=de,de=null):Ge=de.sibling;var et=B(z,de,L[Me],Q);if(et===null){de===null&&(de=Ge);break}t&&de&&et.alternate===null&&n(z,de),O=f(et,O,Me),We===null?ye=et:We.sibling=et,We=et,de=Ge}if(Me===L.length)return r(z,de),Ye&&os(z,Me),ye;if(de===null){for(;Me<L.length;Me++)de=Y(z,L[Me],Q),de!==null&&(O=f(de,O,Me),We===null?ye=de:We.sibling=de,We=de);return Ye&&os(z,Me),ye}for(de=l(de);Me<L.length;Me++)Ge=H(de,z,Me,L[Me],Q),Ge!==null&&(t&&Ge.alternate!==null&&de.delete(Ge.key===null?Me:Ge.key),O=f(Ge,O,Me),We===null?ye=Ge:We.sibling=Ge,We=Ge);return t&&de.forEach(function(hr){return n(z,hr)}),Ye&&os(z,Me),ye}function Ee(z,O,L,Q){if(L==null)throw Error(a(151));for(var ye=null,We=null,de=O,Me=O=0,Ge=null,et=L.next();de!==null&&!et.done;Me++,et=L.next()){de.index>Me?(Ge=de,de=null):Ge=de.sibling;var hr=B(z,de,et.value,Q);if(hr===null){de===null&&(de=Ge);break}t&&de&&hr.alternate===null&&n(z,de),O=f(hr,O,Me),We===null?ye=hr:We.sibling=hr,We=hr,de=Ge}if(et.done)return r(z,de),Ye&&os(z,Me),ye;if(de===null){for(;!et.done;Me++,et=L.next())et=Y(z,et.value,Q),et!==null&&(O=f(et,O,Me),We===null?ye=et:We.sibling=et,We=et);return Ye&&os(z,Me),ye}for(de=l(de);!et.done;Me++,et=L.next())et=H(de,z,Me,et.value,Q),et!==null&&(t&&et.alternate!==null&&de.delete(et.key===null?Me:et.key),O=f(et,O,Me),We===null?ye=et:We.sibling=et,We=et);return t&&de.forEach(function(XT){return n(z,XT)}),Ye&&os(z,Me),ye}function dt(z,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===te&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:e:{for(var ye=L.key;O!==null;){if(O.key===ye){if(ye=L.type,ye===te){if(O.tag===7){r(z,O.sibling),Q=h(O,L.props.children),Q.return=z,z=Q;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&ea(ye)===O.type){r(z,O.sibling),Q=h(O,L.props),no(Q,L),Q.return=z,z=Q;break e}r(z,O);break}else n(z,O);O=O.sibling}L.type===te?(Q=Xr(L.props.children,z.mode,Q,L.key),Q.return=z,z=Q):(Q=ju(L.type,L.key,L.props,null,z.mode,Q),no(Q,L),Q.return=z,z=Q)}return p(z);case $:e:{for(ye=L.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){r(z,O.sibling),Q=h(O,L.children||[]),Q.return=z,z=Q;break e}else{r(z,O);break}else n(z,O);O=O.sibling}Q=nf(L,z.mode,Q),Q.return=z,z=Q}return p(z);case x:return L=ea(L),dt(z,O,L,Q)}if(St(L))return ce(z,O,L,Q);if(k(L)){if(ye=k(L),typeof ye!="function")throw Error(a(150));return L=ye.call(L),Ee(z,O,L,Q)}if(typeof L.then=="function")return dt(z,O,Gu(L),Q);if(L.$$typeof===ge)return dt(z,O,Pu(z,L),Q);Fu(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(r(z,O.sibling),Q=h(O,L),Q.return=z,z=Q):(r(z,O),Q=tf(L,z.mode,Q),Q.return=z,z=Q),p(z)):r(z,O)}return function(z,O,L,Q){try{to=0;var ye=dt(z,O,L,Q);return qa=null,ye}catch(de){if(de===Ba||de===qu)throw de;var We=qn(29,de,null,z.mode);return We.lanes=Q,We.return=z,We}}}var na=hg(!0),fg=hg(!1),Ys=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $s(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=zu(t),Xp(t,null,r),n}return ku(t,l,n,r),zu(t)}function io(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Il(t,r)}}function yf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var _f=!1;function so(){if(_f){var t=Pa;if(t!==null)throw t}}function ro(t,n,r,l){_f=!1;var h=t.updateQueue;Ys=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,p===null?f=U:p.next=U,p=C;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==p&&(T===null?K.firstBaseUpdate=U:T.next=U,K.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;p=0,K=U=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(He&B)===B:(l&B)===B){B!==0&&B===Ua&&(_f=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,Ee=T;B=n;var dt=r;switch(Ee.tag){case 1:if(ce=Ee.payload,typeof ce=="function"){Y=ce.call(dt,Y,B);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ee.payload,B=typeof ce=="function"?ce.call(dt,Y,B):ce,B==null)break e;Y=S({},Y,B);break e;case 2:Ys=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(U=K=H,C=Y):K=K.next=H,p|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),tr|=p,t.lanes=p,t.memoizedState=Y}}function dg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function mg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)dg(r[t],n)}var Ha=M(null),Ku=M(0);function pg(t,n){t=vs,se(Ku,t),se(Ha,n),vs=t|n.baseLanes}function vf(){se(Ku,vs),se(Ha,Ha.current)}function bf(){vs=Ku.current,P(Ha),P(Ku)}var Hn=M(null),ri=null;function Zs(t){var n=t.alternate;se(jt,jt.current&1),se(Hn,t),ri===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(ri=t)}function Ef(t){se(jt,jt.current),se(Hn,t),ri===null&&(ri=t)}function gg(t){t.tag===22?(se(jt,jt.current),se(Hn,t),ri===null&&(ri=t)):Js()}function Js(){se(jt,jt.current),se(Hn,Hn.current)}function Gn(t){P(Hn),ri===t&&(ri=null),P(jt)}var jt=M(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Rd(r)||Cd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hs=0,De=null,ht=null,Gt=null,Yu=!1,Ga=!1,ia=!1,Xu=0,ao=0,Fa=null,UE=0;function Nt(){throw Error(a(321))}function Tf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Bn(t[r],n[r]))return!1;return!0}function Af(t,n,r,l,h,f){return hs=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Wg:Lf,ia=!1,f=r(l,h),ia=!1,Ga&&(f=_g(n,r,l,h)),yg(t),f}function yg(t){F.H=uo;var n=ht!==null&&ht.next!==null;if(hs=0,Gt=ht=De=null,Yu=!1,ao=0,Fa=null,n)throw Error(a(300));t===null||Ft||(t=t.dependencies,t!==null&&Uu(t)&&(Ft=!0))}function _g(t,n,r,l){De=t;var h=0;do{if(Ga&&(Fa=null),ao=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Gt=ht=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ey,f=n(r,l)}while(Ga);return f}function PE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?lo(n):n,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(De.flags|=1024),n}function Sf(){var t=Xu!==0;return Xu=0,t}function xf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function wf(t){if(Yu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yu=!1}hs=0,Gt=ht=De=null,Ga=!1,ao=Xu=0,Fa=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?De.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Lt(){if(ht===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=Gt===null?De.memoizedState:Gt.next;if(n!==null)Gt=n,ht=t;else{if(t===null)throw De.alternate===null?Error(a(467)):Error(a(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Gt===null?De.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(t){var n=ao;return ao+=1,Fa===null&&(Fa=[]),t=og(Fa,t,n),n=De,(Gt===null?n.memoizedState:Gt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Wg:Lf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return lo(t);if(t.$$typeof===ge)return fn(t)}throw Error(a(438,String(t)))}function Rf(t){var n=null,r=De.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=$u(),De.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function fs(t,n){return typeof n=="function"?n(t):n}function Ju(t){var n=Lt();return Cf(n,ht,t)}function Cf(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,C=null,U=n,K=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(He&Y)===Y:(hs&Y)===Y){var B=U.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===Ua&&(K=!0);else if((hs&B)===B){U=U.next,B===Ua&&(K=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=Y,p=f):C=C.next=Y,De.lanes|=B,tr|=B;Y=U.action,ia&&r(f,Y),f=U.hasEagerState?U.eagerState:r(f,Y)}else B={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=B,p=f):C=C.next=B,De.lanes|=Y,tr|=Y;U=U.next}while(U!==null&&U!==n);if(C===null?p=f:C.next=T,!Bn(f,t.memoizedState)&&(Ft=!0,K&&(r=Pa,r!==null)))throw r;t.memoizedState=f,t.baseState=p,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var n=Lt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);Bn(f,n.memoizedState)||(Ft=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function vg(t,n,r){var l=De,h=Lt(),f=Ye;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Bn((ht||h).memoizedState,r);if(p&&(h.memoizedState=r,Ft=!0),h=h.queue,Of(Tg.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},Eg.bind(null,l,h,r,n),null),gt===null)throw Error(a(349));f||(hs&127)!==0||bg(l,n,r)}return r}function bg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=De.updateQueue,n===null?(n=$u(),De.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Eg(t,n,r,l){n.value=r,n.getSnapshot=l,Ag(n)&&Sg(t)}function Tg(t,n,r){return r(function(){Ag(n)&&Sg(t)})}function Ag(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Bn(t,r)}catch{return!0}}function Sg(t){var n=Yr(t,2);n!==null&&zn(n,t,2)}function If(t){var n=wn();if(typeof t=="function"){var r=t;if(t=r(),ia){Mt(!0);try{r()}finally{Mt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},n}function xg(t,n,r,l){return t.baseState=r,Cf(t,ht,typeof l=="function"?l:fs)}function BE(t,n,r,l,h){if(tc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,wg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function wg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var T=r(h,l),C=F.S;C!==null&&C(p,T),Rg(t,n,T)}catch(U){Df(t,n,U)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=r(h,l),Rg(t,n,f)}catch(U){Df(t,n,U)}}function Rg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Cg(t,n,l)},function(l){return Df(t,n,l)}):Cg(t,n,r)}function Cg(t,n,r){n.status="fulfilled",n.value=r,Ng(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,wg(t,r)))}function Df(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Ng(n),n=n.next;while(n!==l)}t.action=null}function Ng(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ig(t,n){return n}function Dg(t,n){if(Ye){var r=gt.formState;if(r!==null){e:{var l=De;if(Ye){if(vt){t:{for(var h=vt,f=si;h.nodeType!==8;){if(!f){h=null;break t}if(h=ai(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){vt=ai(h.nextSibling),l=h.data==="F!";break e}}Ks(l)}l=!1}l&&(n=r[0])}}return r=wn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:n},r.queue=l,r=$g.bind(null,De,l),l.dispatch=r,l=If(!1),f=jf.bind(null,De,!1,l.queue),l=wn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=BE.bind(null,De,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Og(t){var n=Lt();return Mg(n,ht,t)}function Mg(t,n,r){if(n=Cf(t,n,Ig)[0],t=Ju(fs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=lo(n)}catch(p){throw p===Ba?qu:p}else l=n;n=Lt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(De.flags|=2048,Ka(9,{destroy:void 0},qE.bind(null,h,r),null)),[l,f,t]}function qE(t,n){t.action=n}function Vg(t){var n=Lt(),r=ht;if(r!==null)return Mg(n,r,t);Lt(),n=n.memoizedState,r=Lt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ka(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=De.updateQueue,n===null&&(n=$u(),De.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function kg(){return Lt().memoizedState}function Wu(t,n,r,l){var h=wn();De.flags|=t,h.memoizedState=Ka(1|n,{destroy:void 0},r,l===void 0?null:l)}function ec(t,n,r,l){var h=Lt();l=l===void 0?null:l;var f=h.memoizedState.inst;ht!==null&&l!==null&&Tf(l,ht.memoizedState.deps)?h.memoizedState=Ka(n,f,r,l):(De.flags|=t,h.memoizedState=Ka(1|n,f,r,l))}function zg(t,n){Wu(8390656,8,t,n)}function Of(t,n){ec(2048,8,t,n)}function HE(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=$u(),De.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function jg(t){var n=Lt().memoizedState;return HE({ref:n,nextImpl:t}),function(){if((it&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Lg(t,n){return ec(4,2,t,n)}function Ug(t,n){return ec(4,4,t,n)}function Pg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bg(t,n,r){r=r!=null?r.concat([t]):null,ec(4,4,Pg.bind(null,n,t),r)}function Mf(){}function qg(t,n){var r=Lt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Tf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Hg(t,n){var r=Lt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Tf(n,l[1]))return l[0];if(l=t(),ia){Mt(!0);try{t()}finally{Mt(!1)}}return r.memoizedState=[l,n],l}function Vf(t,n,r){return r===void 0||(hs&1073741824)!==0&&(He&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Gy(),De.lanes|=t,tr|=t,r)}function Gg(t,n,r,l){return Bn(r,n)?r:Ha.current!==null?(t=Vf(t,r,l),Bn(t,n)||(Ft=!0),t):(hs&42)===0||(hs&1073741824)!==0&&(He&261930)===0?(Ft=!0,t.memoizedState=r):(t=Gy(),De.lanes|=t,tr|=t,n)}function Fg(t,n,r,l,h){var f=re.p;re.p=f!==0&&8>f?f:8;var p=F.T,T={};F.T=T,jf(t,!1,n,r);try{var C=h(),U=F.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=LE(C,l);oo(t,n,K,Qn(t))}else oo(t,n,l,Qn(t))}catch(Y){oo(t,n,{then:function(){},status:"rejected",reason:Y},Qn())}finally{re.p=f,p!==null&&T.types!==null&&(p.types=T.types),F.T=p}}function GE(){}function kf(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Kg(t).queue;Fg(t,h,n,me,r===null?GE:function(){return Qg(t),r(l)})}function Kg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qg(t){var n=Kg(t);n.next===null&&(n=t.alternate.memoizedState),oo(t,n.next.queue,{},Qn())}function zf(){return fn(wo)}function Yg(){return Lt().memoizedState}function Xg(){return Lt().memoizedState}function FE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Qn();t=Xs(r);var l=$s(n,t,r);l!==null&&(zn(l,n,r),io(l,n,r)),n={cache:hf()},t.payload=n;return}n=n.return}}function KE(t,n,r){var l=Qn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},tc(t)?Zg(n,r):(r=Wh(t,n,r,l),r!==null&&(zn(r,t,l),Jg(r,n,l)))}function $g(t,n,r){var l=Qn();oo(t,n,r,l)}function oo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(tc(t))Zg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,r);if(h.hasEagerState=!0,h.eagerState=T,Bn(T,p))return ku(t,n,h,0),gt===null&&Vu(),!1}catch{}if(r=Wh(t,n,h,l),r!==null)return zn(r,t,l),Jg(r,n,l),!0}return!1}function jf(t,n,r,l){if(l={lane:2,revertLane:pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(n)throw Error(a(479))}else n=Wh(t,r,l,2),n!==null&&zn(n,t,2)}function tc(t){var n=t.alternate;return t===De||n!==null&&n===De}function Zg(t,n){Ga=Yu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Jg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Il(t,r)}}var uo={readContext:fn,use:Zu,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};uo.useEffectEvent=Nt;var Wg={readContext:fn,use:Zu,useCallback:function(t,n){return wn().memoizedState=[t,n===void 0?null:n],t},useContext:fn,useEffect:zg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Wu(4194308,4,Pg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Wu(4194308,4,t,n)},useInsertionEffect:function(t,n){Wu(4,2,t,n)},useMemo:function(t,n){var r=wn();n=n===void 0?null:n;var l=t();if(ia){Mt(!0);try{t()}finally{Mt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=wn();if(r!==void 0){var h=r(n);if(ia){Mt(!0);try{r(n)}finally{Mt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=KE.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var n=wn();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,r=$g.bind(null,De,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Mf,useDeferredValue:function(t,n){var r=wn();return Vf(r,t,n)},useTransition:function(){var t=If(!1);return t=Fg.bind(null,De,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=De,h=wn();if(Ye){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),gt===null)throw Error(a(349));(He&127)!==0||bg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,zg(Tg.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},Eg.bind(null,l,f,r,n),null),r},useId:function(){var t=wn(),n=gt.identifierPrefix;if(Ye){var r=Pi,l=Ui;r=(l&~(1<<32-Je(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Xu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=UE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:zf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t){var n=wn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=jf.bind(null,De,!0,r),r.dispatch=n,[t,n]},useMemoCache:Rf,useCacheRefresh:function(){return wn().memoizedState=FE.bind(null,De)},useEffectEvent:function(t){var n=wn(),r={impl:t};return n.memoizedState=r,function(){if((it&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Lf={readContext:fn,use:Zu,useCallback:qg,useContext:fn,useEffect:Of,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:Hg,useReducer:Ju,useRef:kg,useState:function(){return Ju(fs)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Lt();return Gg(r,ht.memoizedState,t,n)},useTransition:function(){var t=Ju(fs)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:lo(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:zf,useFormState:Og,useActionState:Og,useOptimistic:function(t,n){var r=Lt();return xg(r,ht,t,n)},useMemoCache:Rf,useCacheRefresh:Xg};Lf.useEffectEvent=jg;var ey={readContext:fn,use:Zu,useCallback:qg,useContext:fn,useEffect:Of,useImperativeHandle:Bg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:Hg,useReducer:Nf,useRef:kg,useState:function(){return Nf(fs)},useDebugValue:Mf,useDeferredValue:function(t,n){var r=Lt();return ht===null?Vf(r,t,n):Gg(r,ht.memoizedState,t,n)},useTransition:function(){var t=Nf(fs)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:lo(t),n]},useSyncExternalStore:vg,useId:Yg,useHostTransitionStatus:zf,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var r=Lt();return ht!==null?xg(r,ht,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Xg};ey.useEffectEvent=jg;function Uf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Pf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Qn(),h=Xs(l);h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,l),n!==null&&(zn(n,t,l),io(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Qn(),h=Xs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=$s(t,h,l),n!==null&&(zn(n,t,l),io(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Qn(),l=Xs(r);l.tag=2,n!=null&&(l.callback=n),n=$s(t,l,r),n!==null&&(zn(n,t,r),io(n,t,r))}};function ty(t,n,r,l,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Xl(r,l)||!Xl(h,f):!0}function ny(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function sa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function iy(t){Mu(t)}function sy(t){console.error(t)}function ry(t){Mu(t)}function nc(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ay(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(t,n,r){return r=Xs(r),r.tag=3,r.payload={element:null},r.callback=function(){nc(t,n)},r}function ly(t){return t=Xs(t),t.tag=3,t}function oy(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ay(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ay(n,r,l),typeof h!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function QE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&La(n,r,h,!0),r=Hn.current,r!==null){switch(r.tag){case 31:case 13:return ri===null?mc():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),fd(t,l,h)),!1;case 22:return r.flags|=65536,l===Hu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),fd(t,l,h)),!1}throw Error(a(435,r.tag))}return fd(t,l,h),mc(),!1}if(Ye)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==af&&(t=Error(a(422),{cause:l}),Jl(ti(t,r)))):(l!==af&&(n=Error(a(423),{cause:l}),Jl(ti(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=ti(l,r),h=Bf(t.stateNode,l,h),yf(t,h),It!==4&&(It=2)),!1;var f=Error(a(520),{cause:l});if(f=ti(f,r),_o===null?_o=[f]:_o.push(f),It!==4&&(It=2),n===null)return!0;l=ti(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Bf(r.stateNode,l,t),yf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=ly(h),oy(h,t,r,l),yf(r,h),!1}r=r.return}while(r!==null);return!1}var qf=Error(a(461)),Ft=!1;function dn(t,n,r,l){n.child=t===null?fg(n,null,r,l):na(n,t.child,r,l)}function uy(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Jr(n),l=Af(t,n,r,p,f,h),T=Sf(),t!==null&&!Ft?(xf(t,n,h),ds(t,n,h)):(Ye&&T&&sf(n),n.flags|=1,dn(t,n,l,h),n.child)}function cy(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,hy(t,n,f,l,h)):(t=ju(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!$f(t,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Xl,r(p,l)&&t.ref===n.ref)return ds(t,n,h)}return n.flags|=1,t=ls(f,l),t.ref=n.ref,t.return=n,n.child=t}function hy(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Xl(f,l)&&t.ref===n.ref)if(Ft=!1,n.pendingProps=l=f,$f(t,h))(t.flags&131072)!==0&&(Ft=!0);else return n.lanes=t.lanes,ds(t,n,h)}return Hf(t,n,r,l,h)}function fy(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return dy(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?pg(n,f):vf(),gg(n);else return l=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Bu(n,f.cachePool),pg(n,f),Js(),n.memoizedState=null):(t!==null&&Bu(n,null),vf(),Js());return dn(t,n,h,r),n.child}function co(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,r,l,h){var f=df();return f=f===null?null:{parent:Ht._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Bu(n,null),vf(),gg(n),t!==null&&La(t,n,l,!0),n.childLanes=h,null}function ic(t,n){return n=rc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,r){return na(n,t.child,null,r),t=ic(n,n.pendingProps),t.flags|=2,Gn(n),n.memoizedState=null,t}function YE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=ic(n,l),n.lanes=536870912,co(null,t);if(Ef(n),(t=vt)?(t=w0(t,si),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Ui,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Zp(t),r.return=n,n.child=r,hn=n,vt=null)):t=null,t===null)throw Ks(n);return n.lanes=536870912,null}return ic(n,l)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(Ef(n),h)if(n.flags&256)n.flags&=-257,n=my(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ft||La(t,n,r,!1),h=(r&t.childLanes)!==0,Ft||h){if(l=gt,l!==null&&(p=Dl(l,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Yr(t,p),zn(l,t,p),qf;mc(),n=my(t,n,r)}else t=f.treeContext,vt=ai(p.nextSibling),hn=n,Ye=!0,Fs=null,si=!1,t!==null&&eg(n,t),n=ic(n,l),n.flags|=4096;return n}return t=ls(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Hf(t,n,r,l,h){return Jr(n),r=Af(t,n,r,l,void 0,h),l=Sf(),t!==null&&!Ft?(xf(t,n,h),ds(t,n,h)):(Ye&&l&&sf(n),n.flags|=1,dn(t,n,r,h),n.child)}function py(t,n,r,l,h,f){return Jr(n),n.updateQueue=null,r=_g(n,l,r,h),yg(t),l=Sf(),t!==null&&!Ft?(xf(t,n,f),ds(t,n,f)):(Ye&&l&&sf(n),n.flags|=1,dn(t,n,r,f),n.child)}function gy(t,n,r,l,h){if(Jr(n),n.stateNode===null){var f=Va,p=r.contextType;typeof p=="object"&&p!==null&&(f=fn(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},pf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?fn(p):Va,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Uf(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Pf.enqueueReplaceState(f,f.state,null),ro(n,l,f,h),so(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=sa(r,T);f.props=C;var U=f.context,K=r.contextType;p=Va,typeof K=="object"&&K!==null&&(p=fn(K));var Y=r.getDerivedStateFromProps;K=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==p)&&ny(n,f,l,p),Ys=!1;var B=n.memoizedState;f.state=B,ro(n,l,f,h),so(),U=n.memoizedState,T||B!==U||Ys?(typeof Y=="function"&&(Uf(n,r,Y,l),U=n.memoizedState),(C=Ys||ty(n,r,C,l,B,U,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=p,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,gf(t,n),p=n.memoizedProps,K=sa(r,p),f.props=K,Y=n.pendingProps,B=f.context,U=r.contextType,C=Va,typeof U=="object"&&U!==null&&(C=fn(U)),T=r.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==C)&&ny(n,f,l,C),Ys=!1,B=n.memoizedState,f.state=B,ro(n,l,f,h),so();var H=n.memoizedState;p!==Y||B!==H||Ys||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof T=="function"&&(Uf(n,r,T,l),H=n.memoizedState),(K=Ys||ty(n,r,K,l,B,H,C)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=K):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,sc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=na(n,t.child,null,h),n.child=na(n,null,r,h)):dn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=ds(t,n,h),t}function yy(t,n,r,l){return $r(),n.flags|=256,dn(t,n,r,l),n.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(t){return{baseLanes:t,cachePool:ag()}}function Kf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Kn),t}function _y(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ye){if(h?Zs(n):Js(),(t=vt)?(t=w0(t,si),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gs!==null?{id:Ui,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Zp(t),r.return=n,n.child=r,hn=n,vt=null)):t=null,t===null)throw Ks(n);return Cd(t)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Js(),h=n.mode,T=rc({mode:"hidden",children:T},h),l=Xr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Ff(r),l.childLanes=Kf(t,p,r),n.memoizedState=Gf,co(null,l)):(Zs(n),Qf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Zs(n),n.flags&=-257,n=Yf(t,n,r)):n.memoizedState!==null?(Js(),n.child=t.child,n.flags|=128,n=null):(Js(),T=l.fallback,h=n.mode,l=rc({mode:"visible",children:l.children},h),T=Xr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,na(n,t.child,null,r),l=n.child,l.memoizedState=Ff(r),l.childLanes=Kf(t,p,r),n.memoizedState=Gf,n=co(null,l));else if(Zs(n),Cd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var U=p.dgst;p=U,l=Error(a(419)),l.stack="",l.digest=p,Jl({value:l,source:null,stack:null}),n=Yf(t,n,r)}else if(Ft||La(t,n,r,!1),p=(r&t.childLanes)!==0,Ft||p){if(p=gt,p!==null&&(l=Dl(p,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Yr(t,l),zn(p,t,l),qf;Rd(T)||mc(),n=Yf(t,n,r)}else Rd(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,vt=ai(T.nextSibling),hn=n,Ye=!0,Fs=null,si=!1,t!==null&&eg(n,t),n=Qf(n,l.children),n.flags|=4096);return n}return h?(Js(),T=l.fallback,h=n.mode,C=t.child,U=C.sibling,l=ls(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,U!==null?T=ls(U,T):(T=Xr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,co(null,l),l=n.child,T=t.child.memoizedState,T===null?T=Ff(r):(h=T.cachePool,h!==null?(C=Ht._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ag(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Kf(t,p,r),n.memoizedState=Gf,co(t.child,l)):(Zs(n),r=t.child,t=r.sibling,r=ls(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function Qf(t,n){return n=rc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function rc(t,n){return t=qn(22,t,null,n),t.lanes=0,t}function Yf(t,n,r){return na(n,t.child,null,r),t=Qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),uf(t.return,n,r)}function Xf(t,n,r,l,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function by(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=jt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,se(jt,p),dn(t,n,l,r),l=Ye?Zl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,r,n);else if(t.tag===19)vy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Xf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Xf(n,!0,r,null,f,l);break;case"together":Xf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ds(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(La(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ls(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ls(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function $f(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function XE(t,n,r){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),Qs(n,Ht,t.memoizedState.cache),$r();break;case 27:case 5:Wi(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:Qs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ef(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?_y(t,n,r):(Zs(n),t=ds(t,n,r),t!==null?t.sibling:null);Zs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(La(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return by(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(jt,jt.current),l)break;return null;case 22:return n.lanes=0,fy(t,n,r,n.pendingProps);case 24:Qs(n,Ht,t.memoizedState.cache)}return ds(t,n,r)}function Ey(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ft=!0;else{if(!$f(t,r)&&(n.flags&128)===0)return Ft=!1,XE(t,n,r);Ft=(t.flags&131072)!==0}else Ft=!1,Ye&&(n.flags&1048576)!==0&&Wp(n,Zl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=ea(n.elementType),n.type=t,typeof t=="function")ef(t)?(l=sa(t,l),n.tag=1,n=gy(null,n,t,l,r)):(n.tag=0,n=Hf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Pe){n.tag=11,n=uy(null,n,t,l,r);break e}else if(h===N){n.tag=14,n=cy(null,n,t,l,r);break e}}throw n=Xe(t)||t,Error(a(306,n,""))}}return n;case 0:return Hf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=sa(l,n.pendingProps),gy(t,n,l,h,r);case 3:e:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,gf(t,n),ro(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Qs(n,Ht,l),l!==f.cache&&cf(n,[Ht],r,!0),so(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(t,n,l,r);break e}else if(l!==h){h=ti(Error(a(424)),n),Jl(h),n=yy(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,vt=ai(t.firstChild),hn=n,Ye=!0,Fs=null,si=!0,r=fg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($r(),l===h){n=ds(t,n,r);break e}dn(t,n,l,r)}n=n.child}return n;case 26:return sc(t,n),t===null?(r=O0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ye||(r=n.type,t=n.pendingProps,l=Ec(xe.current).createElement(r),l[Pt]=n,l[tn]=t,mn(l,r,t),Bt(l),n.stateNode=l):n.memoizedState=O0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wi(n),t===null&&Ye&&(l=n.stateNode=N0(n.type,n.pendingProps,xe.current),hn=n,si=!0,h=vt,ar(n.type)?(Nd=h,vt=ai(l.firstChild)):vt=h),dn(t,n,n.pendingProps.children,r),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ye&&((h=l=vt)&&(l=xT(l,n.type,n.pendingProps,si),l!==null?(n.stateNode=l,hn=n,vt=ai(l.firstChild),si=!1,h=!0):h=!1),h||Ks(n)),Wi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,l=f.children,Sd(h,f)?l=null:p!==null&&Sd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Af(t,n,PE,null,null,r),wo._currentValue=h),sc(t,n),dn(t,n,l,r),n.child;case 6:return t===null&&Ye&&((t=r=vt)&&(r=wT(r,n.pendingProps,si),r!==null?(n.stateNode=r,hn=n,vt=null,t=!0):t=!1),t||Ks(n)),null;case 13:return _y(t,n,r);case 4:return Ot(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=na(n,null,l,r):dn(t,n,l,r),n.child;case 11:return uy(t,n,n.type,n.pendingProps,r);case 7:return dn(t,n,n.pendingProps,r),n.child;case 8:return dn(t,n,n.pendingProps.children,r),n.child;case 12:return dn(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qs(n,n.type,l.value),dn(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=fn(h),l=l(h),n.flags|=1,dn(t,n,l,r),n.child;case 14:return cy(t,n,n.type,n.pendingProps,r);case 15:return hy(t,n,n.type,n.pendingProps,r);case 19:return by(t,n,r);case 31:return YE(t,n,r);case 22:return fy(t,n,r,n.pendingProps);case 24:return Jr(n),l=fn(Ht),t===null?(h=df(),h===null&&(h=gt,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},pf(n),Qs(n,Ht,h)):((t.lanes&r)!==0&&(gf(t,n),ro(n,null,null,r),so()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qs(n,Ht,l)):(l=f.cache,Qs(n,Ht,l),l!==h.cache&&cf(n,[Ht],r,!0))),dn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ms(t){t.flags|=4}function Zf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw ta=Hu,mf}else t.flags&=-16777217}function Ty(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!j0(n))if(Yy())t.flags|=8192;else throw ta=Hu,mf}function ac(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?fu():536870912,t.lanes|=n,$a|=n)}function ho(t,n){if(!Ye)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function $E(t,n,r){var l=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return bt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),cs(Ht),mt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ja(n)?ms(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lf())),bt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ms(n),f!==null?(bt(n),Ty(n,f)):(bt(n),Zf(n,h,null,l,r))):f?f!==t.memoizedState?(ms(n),bt(n),Ty(n,f)):(bt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ms(n),bt(n),Zf(n,h,t,l,r)),null;case 27:if(es(n),r=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ms(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return bt(n),null}t=ae.current,ja(n)?tg(n):(t=N0(h,l,r),n.stateNode=t,ms(n))}return bt(n),null;case 5:if(es(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ms(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return bt(n),null}if(f=ae.current,ja(n))tg(n);else{var p=Ec(xe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Pt]=n,f[tn]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(mn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ms(n)}}return bt(n),Zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ms(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=xe.current,ja(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=hn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||_0(t.nodeValue,r)),t||Ks(n,!0)}else t=Ec(t).createTextNode(l),t[Pt]=n,n.stateNode=t}return bt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=ja(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Pt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),t=!1}else r=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Gn(n),n):(Gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return bt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Pt]=n}else $r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),h=!1}else h=lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Gn(n),n):(Gn(n),null)}return Gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ac(n,n.updateQueue),bt(n),null);case 4:return mt(),t===null&&vd(n.stateNode.containerInfo),bt(n),null;case 10:return cs(n.type),bt(n),null;case 19:if(P(jt),l=n.memoizedState,l===null)return bt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ho(l,!1);else{if(It!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,ho(l,!1),t=f.updateQueue,n.updateQueue=t,ac(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)$p(r,t),r=r.sibling;return se(jt,jt.current&1|2),Ye&&os(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Oe()>hc&&(n.flags|=128,h=!0,ho(l,!1),n.lanes=4194304)}else{if(!h)if(t=Qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ac(n,t),ho(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ye)return bt(n),null}else 2*Oe()-l.renderingStartTime>hc&&r!==536870912&&(n.flags|=128,h=!0,ho(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Oe(),t.sibling=null,r=jt.current,se(jt,h?r&1|2:r&1),Ye&&os(n,l.treeForkCount),t):(bt(n),null);case 22:case 23:return Gn(n),bf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),r=n.updateQueue,r!==null&&ac(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&P(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),cs(Ht),bt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ZE(t,n){switch(rf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return cs(Ht),mt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return es(n),null;case 31:if(n.memoizedState!==null){if(Gn(n),n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$r()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return P(jt),null;case 4:return mt(),null;case 10:return cs(n.type),null;case 22:case 23:return Gn(n),bf(),t!==null&&P(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return cs(Ht),null;case 25:return null;default:return null}}function Ay(t,n){switch(rf(n),n.tag){case 3:cs(Ht),mt();break;case 26:case 27:case 5:es(n);break;case 4:mt();break;case 31:n.memoizedState!==null&&Gn(n);break;case 13:Gn(n);break;case 19:P(jt);break;case 10:cs(n.type);break;case 22:case 23:Gn(n),bf(),t!==null&&P(Wr);break;case 24:cs(Ht)}}function fo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==h)}}catch(T){lt(n,n.return,T)}}function Ws(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=r,U=T;try{U()}catch(K){lt(h,C,K)}}}l=l.next}while(l!==f)}}catch(K){lt(n,n.return,K)}}function Sy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{mg(n,r)}catch(l){lt(t,t.return,l)}}}function xy(t,n,r){r.props=sa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){lt(t,n,l)}}function mo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){lt(t,n,h)}}function Bi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){lt(t,n,h)}else r.current=null}function wy(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){lt(t,t.return,h)}}function Jf(t,n,r){try{var l=t.stateNode;vT(l,t.type,r,n),l[tn]=n}catch(h){lt(t,t.return,h)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ed(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fi));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(ed(t,n,r),t=t.sibling;t!==null;)ed(t,n,r),t=t.sibling}function lc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(lc(t,n,r),t=t.sibling;t!==null;)lc(t,n,r),t=t.sibling}function Cy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);mn(n,l,r),n[Pt]=t,n[tn]=r}catch(f){lt(t,t.return,f)}}var ps=!1,Kt=!1,td=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,sn=null;function JE(t,n){if(t=t.containerInfo,Td=Cc,t=Bp(t),Qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,T=-1,C=-1,U=0,K=0,Y=t,B=null;t:for(;;){for(var H;Y!==r||h!==0&&Y.nodeType!==3||(T=p+h),Y!==f||l!==0&&Y.nodeType!==3||(C=p+l),Y.nodeType===3&&(p+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===t)break t;if(B===r&&++U===h&&(T=p),B===f&&++K===l&&(C=p),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ad={focusedElem:t,selectionRange:r},Cc=!1,sn=n;sn!==null;)if(n=sn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,sn=t;else for(;sn!==null;){switch(n=sn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ce=sa(r.type,h);t=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){lt(r,r.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)wd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,sn=t;break}sn=n.return}}function Iy(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ys(t,r),l&4&&fo(5,r);break;case 1:if(ys(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){lt(r,r.return,p)}else{var h=sa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){lt(r,r.return,p)}}l&64&&Sy(r),l&512&&mo(r,r.return);break;case 3:if(ys(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{mg(t,n)}catch(p){lt(r,r.return,p)}}break;case 27:n===null&&l&4&&Cy(r);case 26:case 5:ys(t,r),n===null&&l&4&&wy(r),l&512&&mo(r,r.return);break;case 12:ys(t,r);break;case 31:ys(t,r),l&4&&My(t,r);break;case 13:ys(t,r),l&4&&Vy(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=lT.bind(null,r),RT(t,r))));break;case 22:if(l=r.memoizedState!==null||ps,!l){n=n!==null&&n.memoizedState!==null||Kt,h=ps;var f=Kt;ps=l,(Kt=n)&&!f?_s(t,r,(r.subtreeFlags&8772)!==0):ys(t,r),ps=h,Kt=f}break;case 30:break;default:ys(t,r)}}function Dy(t){var n=t.alternate;n!==null&&(t.alternate=null,Dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ba(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,On=!1;function gs(t,n,r){for(r=r.child;r!==null;)Oy(t,n,r),r=r.sibling}function Oy(t,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(we,r)}catch{}switch(r.tag){case 26:Kt||Bi(r,n),gs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Kt||Bi(r,n);var l=At,h=On;ar(r.type)&&(At=r.stateNode,On=!1),gs(t,n,r),Ao(r.stateNode),At=l,On=h;break;case 5:Kt||Bi(r,n);case 6:if(l=At,h=On,At=null,gs(t,n,r),At=l,On=h,At!==null)if(On)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(r.stateNode)}catch(f){lt(r,n,f)}else try{At.removeChild(r.stateNode)}catch(f){lt(r,n,f)}break;case 18:At!==null&&(On?(t=At,S0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),sl(t)):S0(At,r.stateNode));break;case 4:l=At,h=On,At=r.stateNode.containerInfo,On=!0,gs(t,n,r),At=l,On=h;break;case 0:case 11:case 14:case 15:Ws(2,r,n),Kt||Ws(4,r,n),gs(t,n,r);break;case 1:Kt||(Bi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&xy(r,n,l)),gs(t,n,r);break;case 21:gs(t,n,r);break;case 22:Kt=(l=Kt)||r.memoizedState!==null,gs(t,n,r),Kt=l;break;default:gs(t,n,r)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(r){lt(n,n.return,r)}}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(r){lt(n,n.return,r)}}function WE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ny),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ny),n;default:throw Error(a(435,t.tag))}}function oc(t,n){var r=WE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=oT.bind(null,t,l);l.then(h,h)}})}function Mn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(ar(T.type)){At=T.stateNode,On=!1;break e}break;case 5:At=T.stateNode,On=!1;break e;case 3:case 4:At=T.stateNode.containerInfo,On=!0;break e}T=T.return}if(At===null)throw Error(a(160));Oy(f,p,h),At=null,On=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var _i=null;function ky(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),Vn(t),l&4&&(Ws(3,t,t.return),fo(3,t),Ws(5,t,t.return));break;case 1:Mn(n,t),Vn(t),l&512&&(Kt||r===null||Bi(r,r.return)),l&64&&ps&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=_i;if(Mn(n,t),Vn(t),l&512&&(Kt||r===null||Bi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),mn(f,l,r),f[Pt]=t,Bt(f),l=f;break e;case"link":var p=k0("link","href",h).get(l+(r.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(l),mn(f,l,r),h.head.appendChild(f);break;case"meta":if(p=k0("meta","content",h).get(l+(r.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(T,1);break t}}f=h.createElement(l),mn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Pt]=t,Bt(f),l=f}t.stateNode=l}else z0(h,t.type,t.stateNode);else t.stateNode=V0(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?z0(h,t.type,t.stateNode):V0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Mn(n,t),Vn(t),l&512&&(Kt||r===null||Bi(r,r.return)),r!==null&&l&4&&Jf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Mn(n,t),Vn(t),l&512&&(Kt||r===null||Bi(r,r.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(ce){lt(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(td=!0);break;case 6:if(Mn(n,t),Vn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ce){lt(t,t.return,ce)}}break;case 3:if(Sc=null,h=_i,_i=Tc(n.containerInfo),Mn(n,t),_i=h,Vn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{sl(n.containerInfo)}catch(ce){lt(t,t.return,ce)}td&&(td=!1,zy(t));break;case 4:l=_i,_i=Tc(t.stateNode.containerInfo),Mn(n,t),Vn(t),_i=l;break;case 12:Mn(n,t),Vn(t);break;case 31:Mn(n,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 13:Mn(n,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(cc=Oe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,U=ps,K=Kt;if(ps=U||h,Kt=K||C,Mn(n,t),Kt=K,ps=U,Vn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||ps||Kt||ra(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){lt(C,C.return,ce)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){lt(C,C.return,ce)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?x0(H,!0):x0(C.stateNode,!1)}catch(ce){lt(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,oc(t,r))));break;case 19:Mn(n,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,oc(t,l)));break;case 30:break;case 21:break;default:Mn(n,t),Vn(t)}}function Vn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ry(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Wf(t);lc(t,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(Dn(p,""),r.flags&=-33);var T=Wf(t);lc(t,T,p);break;case 3:case 4:var C=r.stateNode.containerInfo,U=Wf(t);ed(t,U,C);break;default:throw Error(a(161))}}catch(K){lt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ys(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Iy(t,n.alternate,n),n=n.sibling}function ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ws(4,n,n.return),ra(n);break;case 1:Bi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&xy(n,n.return,r),ra(n);break;case 27:Ao(n.stateNode);case 26:case 5:Bi(n,n.return),ra(n);break;case 22:n.memoizedState===null&&ra(n);break;case 30:ra(n);break;default:ra(n)}t=t.sibling}}function _s(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:_s(h,f,r),fo(4,f);break;case 1:if(_s(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){lt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)dg(C[h],T)}catch(U){lt(l,l.return,U)}}r&&p&64&&Sy(f),mo(f,f.return);break;case 27:Cy(f);case 26:case 5:_s(h,f,r),r&&l===null&&p&4&&wy(f),mo(f,f.return);break;case 12:_s(h,f,r);break;case 31:_s(h,f,r),r&&p&4&&My(h,f);break;case 13:_s(h,f,r),r&&p&4&&Vy(h,f);break;case 22:f.memoizedState===null&&_s(h,f,r),mo(f,f.return);break;case 30:break;default:_s(h,f,r)}n=n.sibling}}function nd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Wl(r))}function id(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wl(t))}function vi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jy(t,n,r,l),n=n.sibling}function jy(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,r,l),h&2048&&fo(9,n);break;case 1:vi(t,n,r,l);break;case 3:vi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wl(t)));break;case 12:if(h&2048){vi(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){lt(n,n.return,C)}}else vi(t,n,r,l);break;case 31:vi(t,n,r,l);break;case 13:vi(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?vi(t,n,r,l):po(t,n):f._visibility&2?vi(t,n,r,l):(f._visibility|=2,Qa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(p,n);break;case 24:vi(t,n,r,l),h&2048&&id(n.alternate,n);break;default:vi(t,n,r,l)}}function Qa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=r,C=l,U=p.flags;switch(p.tag){case 0:case 11:case 15:Qa(f,p,T,C,h),fo(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Qa(f,p,T,C,h):po(f,p):(K._visibility|=2,Qa(f,p,T,C,h)),h&&U&2048&&nd(p.alternate,p);break;case 24:Qa(f,p,T,C,h),h&&U&2048&&id(p.alternate,p);break;default:Qa(f,p,T,C,h)}n=n.sibling}}function po(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:po(r,l),h&2048&&nd(l.alternate,l);break;case 24:po(r,l),h&2048&&id(l.alternate,l);break;default:po(r,l)}n=n.sibling}}var go=8192;function Ya(t,n,r){if(t.subtreeFlags&go)for(t=t.child;t!==null;)Ly(t,n,r),t=t.sibling}function Ly(t,n,r){switch(t.tag){case 26:Ya(t,n,r),t.flags&go&&t.memoizedState!==null&&UT(r,_i,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,n,r);break;case 3:case 4:var l=_i;_i=Tc(t.stateNode.containerInfo),Ya(t,n,r),_i=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=go,go=16777216,Ya(t,n,r),go=l):Ya(t,n,r));break;default:Ya(t,n,r)}}function Uy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function yo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];sn=l,By(l,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 0:case 11:case 15:yo(t),t.flags&2048&&Ws(9,t,t.return);break;case 3:yo(t);break;case 12:yo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uc(t)):yo(t);break;default:yo(t)}}function uc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];sn=l,By(l,t)}Uy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ws(8,n,n.return),uc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,uc(n));break;default:uc(n)}t=t.sibling}}function By(t,n){for(;sn!==null;){var r=sn;switch(r.tag){case 0:case 11:case 15:Ws(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,sn=l;else e:for(r=t;sn!==null;){l=sn;var h=l.sibling,f=l.return;if(Dy(l),l===r){sn=null;break e}if(h!==null){h.return=f,sn=h;break e}sn=f}}}var eT={getCacheForType:function(t){var n=fn(Ht),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return fn(Ht).controller.signal}},tT=typeof WeakMap=="function"?WeakMap:Map,it=0,gt=null,je=null,He=0,at=0,Fn=null,er=!1,Xa=!1,sd=!1,vs=0,It=0,tr=0,aa=0,rd=0,Kn=0,$a=0,_o=null,kn=null,ad=!1,cc=0,qy=0,hc=1/0,fc=null,nr=null,$t=0,ir=null,Za=null,bs=0,ld=0,od=null,Hy=null,vo=0,ud=null;function Qn(){return(it&2)!==0&&He!==0?He&-He:F.T!==null?pd():du()}function Gy(){if(Kn===0)if((He&536870912)===0||Ye){var t=Wt;Wt<<=1,(Wt&3932160)===0&&(Wt=262144),Kn=t}else Kn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Kn}function zn(t,n,r){(t===gt&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),sr(t,He,Kn,!1)),Vr(t,r),((it&2)===0||t!==gt)&&(t===gt&&((it&2)===0&&(aa|=r),It===4&&sr(t,He,Kn,!1)),qi(t))}function Fy(t,n,r){if((it&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||en(t,n),h=l?sT(t,n):hd(t,n,!0),f=l;do{if(h===0){Xa&&!l&&sr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!nT(r)){h=hd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=_o;var C=T.current.memoizedState.isDehydrated;if(C&&(Ja(T,p).flags|=256),p=hd(T,p,!1),p!==2){if(sd&&!C){T.errorRecoveryDisabledLanes|=f,aa|=f,h=4;break e}f=kn,kn=h,f!==null&&(kn===null?kn=f:kn.push.apply(kn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),sr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:sr(l,n,Kn,!er);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=cc+300-Oe(),10<h)){if(sr(l,n,Kn,!er),Ct(l,0,!0)!==0)break e;bs=n,l.timeoutHandle=T0(Ky.bind(null,l,r,kn,fc,ad,n,Kn,aa,$a,er,f,"Throttled",-0,0),h);break e}Ky(l,r,kn,fc,ad,n,Kn,aa,$a,er,f,null,-0,0)}}break}while(!0);qi(t)}function Ky(t,n,r,l,h,f,p,T,C,U,K,Y,B,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Ly(n,f,Y);var ce=(f&62914560)===f?cc-Oe():(f&4194048)===f?qy-Oe():0;if(ce=PT(Y,ce),ce!==null){bs=f,t.cancelPendingCommit=ce(e0.bind(null,t,n,f,r,l,h,p,T,C,K,Y,null,B,H)),sr(t,f,p,!U);return}}e0(t,n,f,r,l,h,p,T,C)}function nT(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Bn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,r,l){n&=~rd,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Je(h),p=1<<f;l[f]=-1,h&=~p}r!==0&&kr(t,r,n)}function dc(){return(it&6)===0?(bo(0),!1):!0}function cd(){if(je!==null){if(at===0)var t=je.return;else t=je,us=Zr=null,wf(t),qa=null,to=0,t=je;for(;t!==null;)Ay(t.alternate,t),t=t.return;je=null}}function Ja(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,TT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),bs=0,cd(),gt=t,je=r=ls(t.current,null),He=n,at=0,Fn=null,er=!1,Xa=en(t,n),sd=!1,$a=Kn=rd=aa=tr=It=0,kn=_o=null,ad=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Je(l),f=1<<h;n|=t[h],l&=~f}return vs=n,Vu(),r}function Qy(t,n){De=null,F.H=uo,n===Ba||n===qu?(n=ug(),at=3):n===mf?(n=ug(),at=4):at=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Fn=n,je===null&&(It=1,nc(t,ti(n,t.current)))}function Yy(){var t=Hn.current;return t===null?!0:(He&4194048)===He?ri===null:(He&62914560)===He||(He&536870912)!==0?t===ri:!1}function Xy(){var t=F.H;return F.H=uo,t===null?uo:t}function $y(){var t=F.A;return F.A=eT,t}function mc(){It=4,er||(He&4194048)!==He&&Hn.current!==null||(Xa=!0),(tr&134217727)===0&&(aa&134217727)===0||gt===null||sr(gt,He,Kn,!1)}function hd(t,n,r){var l=it;it|=2;var h=Xy(),f=$y();(gt!==t||He!==n)&&(fc=null,Ja(t,n)),n=!1;var p=It;e:do try{if(at!==0&&je!==null){var T=je,C=Fn;switch(at){case 8:cd(),p=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var U=at;if(at=0,Fn=null,Wa(t,T,C,U),r&&Xa){p=0;break e}break;default:U=at,at=0,Fn=null,Wa(t,T,C,U)}}iT(),p=It;break}catch(K){Qy(t,K)}while(!0);return n&&t.shellSuspendCounter++,us=Zr=null,it=l,F.H=h,F.A=f,je===null&&(gt=null,He=0,Vu()),p}function iT(){for(;je!==null;)Zy(je)}function sT(t,n){var r=it;it|=2;var l=Xy(),h=$y();gt!==t||He!==n?(fc=null,hc=Oe()+500,Ja(t,n)):Xa=en(t,n);e:do try{if(at!==0&&je!==null){n=je;var f=Fn;t:switch(at){case 1:at=0,Fn=null,Wa(t,n,f,1);break;case 2:case 9:if(lg(f)){at=0,Fn=null,Jy(n);break}n=function(){at!==2&&at!==9||gt!==t||(at=7),qi(t)},f.then(n,n);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:lg(f)?(at=0,Fn=null,Jy(n)):(at=0,Fn=null,Wa(t,n,f,7));break;case 5:var p=null;switch(je.tag){case 26:p=je.memoizedState;case 5:case 27:var T=je;if(p?j0(p):T.stateNode.complete){at=0,Fn=null;var C=T.sibling;if(C!==null)je=C;else{var U=T.return;U!==null?(je=U,pc(U)):je=null}break t}}at=0,Fn=null,Wa(t,n,f,5);break;case 6:at=0,Fn=null,Wa(t,n,f,6);break;case 8:cd(),It=6;break e;default:throw Error(a(462))}}rT();break}catch(K){Qy(t,K)}while(!0);return us=Zr=null,F.H=l,F.A=h,it=r,je!==null?0:(gt=null,He=0,Vu(),It)}function rT(){for(;je!==null&&!J();)Zy(je)}function Zy(t){var n=Ey(t.alternate,t,vs);t.memoizedProps=t.pendingProps,n===null?pc(t):je=n}function Jy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=py(r,n,n.pendingProps,n.type,void 0,He);break;case 11:n=py(r,n,n.pendingProps,n.type.render,n.ref,He);break;case 5:wf(n);default:Ay(r,n),n=je=$p(n,vs),n=Ey(r,n,vs)}t.memoizedProps=t.pendingProps,n===null?pc(t):je=n}function Wa(t,n,r,l){us=Zr=null,wf(n),qa=null,to=0;var h=n.return;try{if(QE(t,h,n,r,He)){It=1,nc(t,ti(r,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;It=1,nc(t,ti(r,t.current)),je=null;return}n.flags&32768?(Ye||l===1?t=!0:Xa||(He&536870912)!==0?t=!1:(er=t=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wy(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Wy(n,er);return}t=n.return;var r=$E(n.alternate,n,vs);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);It===0&&(It=5)}function Wy(t,n){do{var r=ZE(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);It=6,je=null}function e0(t,n,r,l,h,f,p,T,C){t.cancelPendingCommit=null;do gc();while($t!==0);if((it&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jh,Hh(t,r,f,p,T,C),t===gt&&(je=gt=null,He=0),Za=n,ir=t,bs=r,ld=f,od=h,Hy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uT(fe,function(){return r0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=re.p,re.p=2,p=it,it|=4;try{JE(t,n,r)}finally{it=p,re.p=h,F.T=l}}$t=1,t0(),n0(),i0()}}function t0(){if($t===1){$t=0;var t=ir,n=Za,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=re.p;re.p=2;var h=it;it|=4;try{ky(n,t);var f=Ad,p=Bp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Pp(T.ownerDocument.documentElement,T)){if(C!==null&&Qh(T)){var U=C.start,K=C.end;if(K===void 0&&(K=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(K,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),ce=T.textContent.length,Ee=Math.min(C.start,ce),dt=C.end===void 0?Ee:Math.min(C.end,ce);!H.extend&&Ee>dt&&(p=dt,dt=Ee,Ee=p);var z=Up(T,Ee),O=Up(T,dt);if(z&&O&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(z.node,z.offset),H.removeAllRanges(),Ee>dt?(H.addRange(L),H.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),H.addRange(L))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Cc=!!Td,Ad=Td=null}finally{it=h,re.p=l,F.T=r}}t.current=n,$t=2}}function n0(){if($t===2){$t=0;var t=ir,n=Za,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=re.p;re.p=2;var h=it;it|=4;try{Iy(t,n.alternate,n)}finally{it=h,re.p=l,F.T=r}}$t=3}}function i0(){if($t===4||$t===3){$t=0,ue();var t=ir,n=Za,r=bs,l=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,Za=ir=null,s0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(nr=null),is(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(we,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=re.p,re.p=2,F.T=null;try{for(var f=t.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{F.T=n,re.p=h}}(bs&3)!==0&&gc(),qi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ud?vo++:(vo=0,ud=t):vo=0,bo(0)}}function s0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Wl(n)))}function gc(){return t0(),n0(),i0(),r0()}function r0(){if($t!==5)return!1;var t=ir,n=ld;ld=0;var r=is(bs),l=F.T,h=re.p;try{re.p=32>r?32:r,F.T=null,r=od,od=null;var f=ir,p=bs;if($t=0,Za=ir=null,bs=0,(it&6)!==0)throw Error(a(331));var T=it;if(it|=4,Py(f.current),jy(f,f.current,p,r),it=T,bo(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(we,f)}catch{}return!0}finally{re.p=h,F.T=l,s0(t,n)}}function a0(t,n,r){n=ti(r,n),n=Bf(t.stateNode,n,2),t=$s(t,n,2),t!==null&&(Vr(t,2),qi(t))}function lt(t,n,r){if(t.tag===3)a0(t,t,r);else for(;n!==null;){if(n.tag===3){a0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=ti(r,t),r=ly(2),l=$s(n,r,2),l!==null&&(oy(r,l,n,t),Vr(l,2),qi(l));break}}n=n.return}}function fd(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new tT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(sd=!0,h.add(r),t=aT.bind(null,t,n,r),n.then(t,t))}function aT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,gt===t&&(He&r)===r&&(It===4||It===3&&(He&62914560)===He&&300>Oe()-cc?(it&2)===0&&Ja(t,0):rd|=r,$a===He&&($a=0)),qi(t)}function l0(t,n){n===0&&(n=fu()),t=Yr(t,n),t!==null&&(Vr(t,n),qi(t))}function lT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),l0(t,r)}function oT(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),l0(t,r)}function uT(t,n){return ne(t,n)}var yc=null,el=null,dd=!1,_c=!1,md=!1,rr=0;function qi(t){t!==el&&t.next===null&&(el===null?yc=el=t:el=el.next=t),_c=!0,dd||(dd=!0,hT())}function bo(t,n){if(!md&&_c){md=!0;do for(var r=!1,l=yc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Je(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,h0(l,f))}else f=He,f=Ct(l,l===gt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||en(l,f)||(r=!0,h0(l,f));l=l.next}while(r);md=!1}}function cT(){o0()}function o0(){_c=dd=!1;var t=0;rr!==0&&ET()&&(t=rr);for(var n=Oe(),r=null,l=yc;l!==null;){var h=l.next,f=u0(l,n);f===0?(l.next=null,r===null?yc=h:r.next=h,h===null&&(el=r)):(r=l,(t!==0||(f&3)!==0)&&(_c=!0)),l=h}$t!==0&&$t!==5||bo(t),rr!==0&&(rr=0)}function u0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Je(f),T=1<<p,C=h[p];C===-1?((T&r)===0||(T&l)!==0)&&(h[p]=_a(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=gt,r=He,r=Ct(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ve(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||en(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ve(l),is(r)){case 2:case 8:r=Sn;break;case 32:r=fe;break;case 268435456:r=xt;break;default:r=fe}return l=c0.bind(null,t),r=ne(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ve(l),t.callbackPriority=2,t.callbackNode=null,2}function c0(t,n){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gc()&&t.callbackNode!==r)return null;var l=He;return l=Ct(t,t===gt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Fy(t,l,n),u0(t,Oe()),t.callbackNode!=null&&t.callbackNode===r?c0.bind(null,t):null)}function h0(t,n){if(gc())return null;Fy(t,n,!0)}function hT(){AT(function(){(it&6)!==0?ne(un,cT):o0()})}function pd(){if(rr===0){var t=Ua;t===0&&(t=pt,pt<<=1,(pt&261888)===0&&(pt=256)),rr=t}return rr}function f0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function d0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function fT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=f0((h[tn]||null).action),p=l.submitter;p&&(n=(n=p[tn]||null)?f0(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new ki("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rr!==0){var C=p?d0(h,p):new FormData(h);kf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?d0(h,p):new FormData(h),kf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var gd=0;gd<Zh.length;gd++){var yd=Zh[gd],dT=yd.toLowerCase(),mT=yd[0].toUpperCase()+yd.slice(1);yi(dT,"on"+mT)}yi(Gp,"onAnimationEnd"),yi(Fp,"onAnimationIteration"),yi(Kp,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(IE,"onTransitionRun"),yi(DE,"onTransitionStart"),yi(OE,"onTransitionCancel"),yi(Qp,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function m0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(K){Mu(K)}h.currentTarget=null,f=C}else for(p=0;p<l.length;p++){if(T=l[p],C=T.instance,U=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=U;try{f(h)}catch(K){Mu(K)}h.currentTarget=null,f=C}}}}function Le(t,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var l=t+"__bubble";r.has(l)||(p0(n,t,2,!1),r.add(l))}function _d(t,n,r){var l=0;n&&(l|=4),p0(r,t,l,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[vc]){t[vc]=!0,Ol.forEach(function(r){r!=="selectionchange"&&(pT.has(r)||_d(r,!1,t),_d(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vc]||(n[vc]=!0,_d("selectionchange",!1,n))}}function p0(t,n,r,l){switch(G0(n)){case 2:var h=HT;break;case 8:h=GT;break;default:h=Vd}r=h.bind(null,n,r,t),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function bd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ci(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=f=p;continue e}T=T.parentNode}}l=l.return}Ps(function(){var U=f,K=Zn(r),Y=[];e:{var B=Yp.get(t);if(B!==void 0){var H=ki,ce=t;switch(t){case"keypress":if(qr(r)===0)break e;case"keydown":case"keyup":H=Iu;break;case"focusin":ce="focus",H=Gr;break;case"focusout":ce="blur",H=Gr;break;case"beforeblur":case"afterblur":H=Gr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Gp:case Fp:case Kp:H=Au;break;case Qp:H=A;break;case"scroll":case"scrollend":H=Gl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=as;break;case"toggle":case"beforetoggle":H=Ie}var Ee=(n&4)!==0,dt=!Ee&&(t==="scroll"||t==="scrollend"),z=Ee?B!==null?B+"Capture":null:B;Ee=[];for(var O=U,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||z===null||(Q=di(O,z),Q!=null&&Ee.push(To(O,Q,L))),dt)break;O=O.return}0<Ee.length&&(B=new H(B,ce,null,r,K),Y.push({event:B,listeners:Ee}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==Bl&&(ce=r.relatedTarget||r.fromElement)&&(Ci(ce)||ce[wi]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ce=r.relatedTarget||r.toElement,H=U,ce=ce?Ci(ce):null,ce!==null&&(dt=c(ce),Ee=ce.tag,ce!==dt||Ee!==5&&Ee!==27&&Ee!==6)&&(ce=null)):(H=null,ce=U),H!==ce)){if(Ee=Fl,Q="onMouseLeave",z="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=as,Q="onPointerLeave",z="onPointerEnter",O="pointer"),dt=H==null?B:Un(H),L=ce==null?B:Un(ce),B=new Ee(Q,O+"leave",H,r,K),B.target=dt,B.relatedTarget=L,Q=null,Ci(K)===U&&(Ee=new Ee(z,O+"enter",ce,r,K),Ee.target=L,Ee.relatedTarget=dt,Q=Ee),dt=Q,H&&ce)t:{for(Ee=gT,z=H,O=ce,L=0,Q=z;Q;Q=Ee(Q))L++;Q=0;for(var ye=O;ye;ye=Ee(ye))Q++;for(;0<L-Q;)z=Ee(z),L--;for(;0<Q-L;)O=Ee(O),Q--;for(;L--;){if(z===O||O!==null&&z===O.alternate){Ee=z;break t}z=Ee(z),O=Ee(O)}Ee=null}else Ee=null;H!==null&&g0(Y,B,H,Ee,!1),ce!==null&&dt!==null&&g0(Y,dt,ce,Ee,!0)}}e:{if(B=U?Un(U):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var We=Mp;else if(Dp(B))if(Vp)We=RE;else{We=xE;var de=SE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&Aa(U.elementType)&&(We=Mp):We=wE;if(We&&(We=We(t,U))){Op(Y,We,r,K);break e}de&&de(t,B,U),t==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&Ll(B,"number",B.value)}switch(de=U?Un(U):window,t){case"focusin":(Dp(de)||de.contentEditable==="true")&&(Da=de,Yh=U,$l=null);break;case"focusout":$l=Yh=Da=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,qp(Y,r,K);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":qp(Y,r,K)}var Me;if(nt)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ia?Fr(t,r)&&(Ge="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ge="onCompositionStart");Ge&&(Li&&r.locale!=="ko"&&(Ia||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ia&&(Me=Hl()):(Vi=K,ql="value"in Vi?Vi.value:Vi.textContent,Ia=!0)),de=bc(U,Ge),0<de.length&&(Ge=new ji(Ge,t,null,r,K),Y.push({event:Ge,listeners:de}),Me?Ge.data=Me:(Me=Na(r),Me!==null&&(Ge.data=Me)))),(Me=Wn?bE(t,r):EE(t,r))&&(Ge=bc(U,"onBeforeInput"),0<Ge.length&&(de=new ji("onBeforeInput","beforeinput",null,r,K),Y.push({event:de,listeners:Ge}),de.data=Me)),fT(Y,t,U,r,K)}m0(Y,n)})}function To(t,n,r){return{instance:t,listener:n,currentTarget:r}}function bc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(t,r),h!=null&&l.unshift(To(t,h,f)),h=di(t,n),h!=null&&l.push(To(t,h,f))),t.tag===3)return l;t=t.return}return[]}function gT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g0(t,n,r,l,h){for(var f=n._reactName,p=[];r!==null&&r!==l;){var T=r,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=di(r,f),U!=null&&p.unshift(To(r,U,C))):h||(U=di(r,f),U!=null&&p.push(To(r,U,C)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var yT=/\r\n?/g,_T=/\u0000|\uFFFD/g;function y0(t){return(typeof t=="string"?t:""+t).replace(yT,`
`).replace(_T,"")}function _0(t,n){return n=y0(n),y0(t)===n}function ft(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Dn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Pl(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ft(t,n,"name",h.name,h,null),ft(t,n,"formEncType",h.formEncType,h,null),ft(t,n,"formMethod",h.formMethod,h,null),ft(t,n,"formTarget",h.formTarget,h,null)):(ft(t,n,"encType",h.encType,h,null),ft(t,n,"method",h.method,h,null),ft(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Sa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=fi);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bu.get(r)||r,Ea(t,r,l))}}function Ed(t,n,r,l,h,f){switch(r){case"style":Pl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[tn]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ea(t,r,l)}}}function mn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(t,n,f,p,r,null)}}h&&ft(t,n,"srcSet",r.srcSet,r,null),l&&ft(t,n,"src",r.src,r,null);return;case"input":Le("invalid",t);var T=f=p=h=null,C=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":h=K;break;case"type":p=K;break;case"checked":C=K;break;case"defaultChecked":U=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:ft(t,n,l,K,r,null)}}yu(t,f,T,C,U,p,h,!1);return;case"select":Le("invalid",t),l=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:ft(t,n,h,T,r,null)}n=f,r=p,t.multiple=!!l,n!=null?zs(t,!!l,n,!1):r!=null&&zs(t,!!l,r,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(T=r[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ft(t,n,p,T,r,null)}js(t,l,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ft(t,n,C,l,r,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Eo.length;l++)Le(Eo[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ft(t,n,U,l,r,null)}return;default:if(Aa(n)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&Ed(t,n,K,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&ft(t,n,T,l,r,null))}function vT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,U=null,K=null;for(H in r){var Y=r[H];if(r.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||ft(t,n,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":K=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&ft(t,n,B,H,l,Y)}}Ta(t,p,T,C,U,K,f,h);return;case"select":H=p=T=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||ft(t,n,f,null,l,C)}for(h in l)if(f=l[h],C=r[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&ft(t,n,h,f,l,C)}n=T,r=p,l=H,B!=null?zs(t,!!r,B,!1):!!l!=!!r&&(n!=null?zs(t,!!r,n,!0):zs(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ft(t,n,T,null,l,h)}for(p in l)if(h=l[p],f=r[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ft(t,n,p,h,l,f)}_u(t,B,H);return;case"option":for(var ce in r)B=r[ce],r.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:ft(t,n,ce,null,l,B));for(C in l)B=l[C],H=r[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":ft(t,n,C,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)B=r[Ee],r.hasOwnProperty(Ee)&&B!=null&&!l.hasOwnProperty(Ee)&&ft(t,n,Ee,null,l,B);for(U in l)if(B=l[U],H=r[U],l.hasOwnProperty(U)&&B!==H&&(B!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ft(t,n,U,B,l,H)}return;default:if(Aa(n)){for(var dt in r)B=r[dt],r.hasOwnProperty(dt)&&B!==void 0&&!l.hasOwnProperty(dt)&&Ed(t,n,dt,void 0,l,B);for(K in l)B=l[K],H=r[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||Ed(t,n,K,B,l,H);return}}for(var z in r)B=r[z],r.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&ft(t,n,z,null,l,B);for(Y in l)B=l[Y],H=r[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||ft(t,n,Y,B,l,H)}function v0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&v0(p)){for(p=0,T=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],U=C.startTime;if(U>T)break;var K=C.transferSize,Y=C.initiatorType;K&&v0(Y)&&(C=C.responseEnd,p+=K*(C<T?1:(T-U)/(C-U)))}if(--l,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Td=null,Ad=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function b0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Sd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xd=null;function ET(){var t=window.event;return t&&t.type==="popstate"?t===xd?!1:(xd=t,!0):(xd=null,!1)}var T0=typeof setTimeout=="function"?setTimeout:void 0,TT=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(t){return A0.resolve(null).then(t).catch(ST)}:T0;function ST(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function S0(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),sl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Ao(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Ao(r);for(var f=r.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&Ao(t.ownerDocument.body);r=h}while(r);sl(n)}function x0(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function wd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wd(r),ba(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function xT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ri])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ai(t.nextSibling),t===null)break}return null}function wT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ai(t.nextSibling),t===null))return null;return t}function w0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ai(t.nextSibling),t===null))return null;return t}function Rd(t){return t.data==="$?"||t.data==="$~"}function Cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function RT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ai(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Nd=null;function R0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return ai(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function C0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function N0(t,n,r){switch(n=Ec(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ao(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ba(t)}var li=new Map,I0=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Es=re.d;re.d={f:CT,r:NT,D:IT,C:DT,L:OT,m:MT,X:kT,S:VT,M:zT};function CT(){var t=Es.f(),n=dc();return t||n}function NT(t){var n=$n(t);n!==null&&n.tag===5&&n.type==="form"?Qg(n):Es.r(t)}var tl=typeof document>"u"?null:document;function D0(t,n,r){var l=tl;if(l&&typeof n=="string"&&n){var h=In(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),I0.has(h)||(I0.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),mn(n,"link",t),Bt(n),l.head.appendChild(n)))}}function IT(t){Es.D(t),D0("dns-prefetch",t,null)}function DT(t,n){Es.C(t,n),D0("preconnect",t,n)}function OT(t,n,r){Es.L(t,n,r);var l=tl;if(l&&t&&n){var h='link[rel="preload"][as="'+In(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+In(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+In(r.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var f=h;switch(n){case"style":f=nl(t);break;case"script":f=il(t)}li.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),li.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(So(f))||n==="script"&&l.querySelector(xo(f))||(n=l.createElement("link"),mn(n,"link",t),Bt(n),l.head.appendChild(n)))}}function MT(t,n){Es.m(t,n);var r=tl;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+In(l)+'"][href="'+In(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=il(t)}if(!li.has(f)&&(t=S({rel:"modulepreload",href:t},n),li.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xo(f)))return}l=r.createElement("link"),mn(l,"link",t),Bt(l),r.head.appendChild(l)}}}function VT(t,n,r){Es.S(t,n,r);var l=tl;if(l&&t){var h=Ni(l).hoistableStyles,f=nl(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(So(f)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=li.get(f))&&Id(t,r);var C=p=l.createElement("link");Bt(C),mn(C,"link",t),C._p=new Promise(function(U,K){C.onload=U,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ac(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function kT(t,n){Es.X(t,n);var r=tl;if(r&&t){var l=Ni(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(xo(h)),f||(t=S({src:t,async:!0},n),(n=li.get(h))&&Dd(t,n),f=r.createElement("script"),Bt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function zT(t,n){Es.M(t,n);var r=tl;if(r&&t){var l=Ni(r).hoistableScripts,h=il(t),f=l.get(h);f||(f=r.querySelector(xo(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=li.get(h))&&Dd(t,n),f=r.createElement("script"),Bt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function O0(t,n,r,l){var h=(h=xe.current)?Tc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=nl(r.href),r=Ni(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=nl(r.href);var f=Ni(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(So(t)))&&!f._p&&(p.instance=f,p.state.loading=5),li.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},li.set(t,r),f||jT(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=il(r),r=Ni(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function nl(t){return'href="'+In(t)+'"'}function So(t){return'link[rel="stylesheet"]['+t+"]"}function M0(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function jT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),mn(n,"link",r),Bt(n),t.head.appendChild(n))}function il(t){return'[src="'+In(t)+'"]'}function xo(t){return"script[async]"+t}function V0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+In(r.href)+'"]');if(l)return n.instance=l,Bt(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Bt(l),mn(l,"style",h),Ac(l,r.precedence,t),n.instance=l;case"stylesheet":h=nl(r.href);var f=t.querySelector(So(h));if(f)return n.state.loading|=4,n.instance=f,Bt(f),f;l=M0(r),(h=li.get(h))&&Id(l,h),f=(t.ownerDocument||t).createElement("link"),Bt(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),mn(f,"link",l),n.state.loading|=4,Ac(f,r.precedence,t),n.instance=f;case"script":return f=il(r.src),(h=t.querySelector(xo(f)))?(n.instance=h,Bt(h),h):(l=r,(h=li.get(f))&&(l=S({},r),Dd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Bt(h),mn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ac(l,r.precedence,t));return n.instance}function Ac(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Dd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Sc=null;function k0(t,n,r){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(r,l)}else h=Sc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ri]||f[Pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function z0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function LT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function j0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function UT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=nl(l.href),f=n.querySelector(So(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=xc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Bt(f);return}f=n.ownerDocument||n,l=M0(l),(h=li.get(h))&&Id(l,h),f=f.createElement("link"),Bt(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),mn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=xc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Od=0;function PT(t,n){return t.stylesheets&&t.count===0&&Rc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Od===0&&(Od=62500*bT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Rc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Od?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wc=null;function Rc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wc=new Map,n.forEach(BT,t),wc=null,xc.call(t))}function BT(t,n){if(!(n.state.loading&4)){var r=wc.get(t);if(r)var l=r.get(null);else{r=new Map,wc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,h),r.set(p,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wo={$$typeof:ge,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function qT(t,n,r,l,h,f,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function L0(t,n,r,l,h,f,p,T,C,U,K,Y){return t=new qT(t,n,r,p,C,U,K,Y,T),n=1,f===!0&&(n|=24),f=qn(3,null,null,n),t.current=f,f.stateNode=t,n=hf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},pf(f),t}function U0(t){return t?(t=Va,t):Va}function P0(t,n,r,l,h,f){h=U0(h),l.context===null?l.context=h:l.pendingContext=h,l=Xs(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=$s(t,l,n),r!==null&&(zn(r,t,n),io(r,t,n))}function B0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Md(t,n){B0(t,n),(t=t.alternate)&&B0(t,n)}function q0(t){if(t.tag===13||t.tag===31){var n=Yr(t,67108864);n!==null&&zn(n,t,67108864),Md(t,67108864)}}function H0(t){if(t.tag===13||t.tag===31){var n=Qn();n=zr(n);var r=Yr(t,n);r!==null&&zn(r,t,n),Md(t,n)}}var Cc=!0;function HT(t,n,r,l){var h=F.T;F.T=null;var f=re.p;try{re.p=2,Vd(t,n,r,l)}finally{re.p=f,F.T=h}}function GT(t,n,r,l){var h=F.T;F.T=null;var f=re.p;try{re.p=8,Vd(t,n,r,l)}finally{re.p=f,F.T=h}}function Vd(t,n,r,l){if(Cc){var h=kd(l);if(h===null)bd(t,n,l,Nc,r),F0(t,l);else if(KT(h,t,n,r,l))l.stopPropagation();else if(F0(t,l),n&4&&-1<FT.indexOf(t)){for(;h!==null;){var f=$n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=kt(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-Je(p);T.entanglements[1]|=C,p&=~C}qi(f),(it&6)===0&&(hc=Oe()+500,bo(0))}}break;case 31:case 13:T=Yr(f,2),T!==null&&zn(T,f,2),dc(),Md(f,2)}if(f=kd(l),f===null&&bd(t,n,l,Nc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else bd(t,n,l,null,r)}}function kd(t){return t=Zn(t),zd(t)}var Nc=null;function zd(t){if(Nc=null,t=Ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nc=t,null}function G0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case un:return 2;case Sn:return 8;case fe:case yt:return 32;case xt:return 268435456;default:return 32}default:return 32}}var jd=!1,lr=null,or=null,ur=null,Ro=new Map,Co=new Map,cr=[],FT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(t,n){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(n.pointerId)}}function No(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=$n(n),n!==null&&q0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function KT(t,n,r,l,h){switch(n){case"focusin":return lr=No(lr,t,n,r,l,h),!0;case"dragenter":return or=No(or,t,n,r,l,h),!0;case"mouseover":return ur=No(ur,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ro.set(f,No(Ro.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Co.set(f,No(Co.get(f)||null,t,n,r,l,h)),!0}return!1}function K0(t){var n=Ci(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ci(t.priority,function(){H0(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ci(t.priority,function(){H0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ic(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=kd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Bl=l,r.target.dispatchEvent(l),Bl=null}else return n=$n(r),n!==null&&q0(n),t.blockedOn=r,!1;n.shift()}return!0}function Q0(t,n,r){Ic(t)&&r.delete(n)}function QT(){jd=!1,lr!==null&&Ic(lr)&&(lr=null),or!==null&&Ic(or)&&(or=null),ur!==null&&Ic(ur)&&(ur=null),Ro.forEach(Q0),Co.forEach(Q0)}function Dc(t,n){t.blockedOn===n&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,QT)))}var Oc=null;function Y0(t){Oc!==t&&(Oc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(zd(l||r)===null)continue;break}var f=$n(r);f!==null&&(t.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function sl(t){function n(C){return Dc(C,t)}lr!==null&&Dc(lr,t),or!==null&&Dc(or,t),ur!==null&&Dc(ur,t),Ro.forEach(n),Co.forEach(n);for(var r=0;r<cr.length;r++){var l=cr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(r=cr[0],r.blockedOn===null);)K0(r),r.blockedOn===null&&cr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],p=h[tn]||null;if(typeof f=="function")p||Y0(r);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[tn]||null)T=p.formAction;else if(zd(h)!==null)continue}else T=p.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Y0(r)}}}function X0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(t){this._internalRoot=t}Mc.prototype.render=Ld.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Qn();P0(r,l,t,n,null,null)},Mc.prototype.unmount=Ld.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P0(t.current,2,null,t,null,null),dc(),n[wi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=du();t={blockedOn:null,target:t,priority:n};for(var r=0;r<cr.length&&n!==0&&n<cr[r].priority;r++);cr.splice(r,0,t),r===0&&K0(t)}};var $0=e.version;if($0!=="19.2.3")throw Error(a(527,$0,"19.2.3"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var YT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{we=Vc.inject(YT),ke=Vc}catch{}}return Do.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=iy,f=sy,p=ry;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=L0(t,1,!1,null,null,r,l,null,h,f,p,X0),t[wi]=n.current,vd(t),new Ld(n)},Do.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=iy,p=sy,T=ry,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=L0(t,1,!0,n,r??null,l,h,C,f,p,T,X0),n.context=U0(null),r=n.current,l=Qn(),l=zr(l),h=Xs(l),h.callback=null,$s(r,h,l),r=l,n.current.lanes=r,Vr(n,r),qi(n),t[wi]=n.current,vd(t),new Mc(n)},Do.version="19.2.3",Do}var l_;function rA(){if(l_)return Bd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Bd.exports=sA(),Bd.exports}var aA=rA();const lA=()=>{};var o_={};const Hv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},oA=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let I=(g&15)<<2|y>>6,G=y&63;_||(G=64,d||(I=64)),a.push(i[E],i[S],i[I],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Hv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):oA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new uA;const I=c<<2|g>>4;if(a.push(I),y!==64){const G=g<<4&240|y>>2;if(a.push(G),S!==64){const $=y<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cA=function(s){const e=Hv(s);return Gv.encodeByteArray(e,!0)},eh=function(s){return cA(s).replace(/\./g,"")},Fv=function(s){try{return Gv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fA=()=>hA().__FIREBASE_DEFAULTS__,dA=()=>{if(typeof process>"u"||typeof o_>"u")return;const s=o_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},mA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Fv(s[1]);return e&&JSON.parse(e)},Eh=()=>{try{return lA()||fA()||dA()||mA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Kv=s=>Eh()?.emulatorHosts?.[s],pA=s=>{const e=Kv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Qv=()=>Eh()?.config,Yv=s=>Eh()?.[`_${s}`];class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function Al(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xv(s){return(await fetch(s,{credentials:"include"})).ok}function yA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(d)),""].join(".")}const zo={};function _A(){const s={prod:[],emulator:[]};for(const e of Object.keys(zo))zo[e]?s.emulator.push(e):s.prod.push(e);return s}function vA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let u_=!1;function $v(s,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||zo[s]===e||zo[s]||u_)return;zo[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=_A().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,G){I.setAttribute("width","24"),I.setAttribute("id",G),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{u_=!0,d()},I}function E(I,G){I.setAttribute("id",G),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=vA(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),te=i("learnmore"),ee=document.getElementById(te)||document.createElement("a"),_e=i("preprendIcon"),Te=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ge=I.element;g(ge),E(ee,te);const Pe=y();_(Te,_e),ge.append(Te,$,ee,Pe),document.body.appendChild(ge)}c?($.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function EA(){const s=Eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function SA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xA(){const s=An();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function wA(){return!EA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const NA="FirebaseError";class Ms extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=NA,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?IA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ms(o,g,a)}}function IA(s,e){return s.replace(DA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const DA=/\{\$([^}]+)}/g;function OA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ar(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(c_(c)&&c_(d)){if(!Ar(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function c_(s){return s!==null&&typeof s=="object"}function Wo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function MA(s,e){const i=new VA(s,e);return i.subscribe.bind(i)}class VA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");kA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Fd),o.error===void 0&&(o.error=Fd),o.complete===void 0&&(o.complete=Fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}function Cn(s){return s&&s._delegate?s._delegate:s}class ha{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class zA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new gA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LA(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:jA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(s){return s===la?void 0:s}function LA(s){return s.instantiationMode==="EAGER"}class UA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new zA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Fe||(Fe={}));const PA={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},BA=Fe.INFO,qA={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},HA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=qA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=BA,this._logHandler=HA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const GA=(s,e)=>e.some(i=>s instanceof i);let h_,f_;function FA(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KA(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zv=new WeakMap,am=new WeakMap,Jv=new WeakMap,Kd=new WeakMap,Pm=new WeakMap;function QA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(_r(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Zv.set(i,s)}).catch(()=>{}),Pm.set(e,s),e}function YA(s){if(am.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});am.set(s,e)}let lm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return am.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Jv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function XA(s){lm=s(lm)}function $A(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Qd(this),e,...i);return Jv.set(a,e.sort?e.sort():[e]),_r(a)}:KA().includes(s)?function(...e){return s.apply(Qd(this),e),_r(Zv.get(this))}:function(...e){return _r(s.apply(Qd(this),e))}}function ZA(s){return typeof s=="function"?$A(s):(s instanceof IDBTransaction&&YA(s),GA(s,FA())?new Proxy(s,lm):s)}function _r(s){if(s instanceof IDBRequest)return QA(s);if(Kd.has(s))return Kd.get(s);const e=ZA(s);return e!==s&&(Kd.set(s,e),Pm.set(e,s)),e}const Qd=s=>Pm.get(s);function JA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const WA=["get","getKey","getAll","getAllKeys","count"],eS=["put","add","delete","clear"],Yd=new Map;function d_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=eS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||WA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Yd.set(e,c),c}XA(s=>({...s,get:(e,i,a)=>d_(e,i)||s.get(e,i,a),has:(e,i)=>!!d_(e,i)||s.has(e,i)}));class tS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function nS(s){return s.getComponent()?.type==="VERSION"}const om="@firebase/app",m_="0.14.6";const Rs=new Um("@firebase/app"),iS="@firebase/app-compat",sS="@firebase/analytics-compat",rS="@firebase/analytics",aS="@firebase/app-check-compat",lS="@firebase/app-check",oS="@firebase/auth",uS="@firebase/auth-compat",cS="@firebase/database",hS="@firebase/data-connect",fS="@firebase/database-compat",dS="@firebase/functions",mS="@firebase/functions-compat",pS="@firebase/installations",gS="@firebase/installations-compat",yS="@firebase/messaging",_S="@firebase/messaging-compat",vS="@firebase/performance",bS="@firebase/performance-compat",ES="@firebase/remote-config",TS="@firebase/remote-config-compat",AS="@firebase/storage",SS="@firebase/storage-compat",xS="@firebase/firestore",wS="@firebase/ai",RS="@firebase/firestore-compat",CS="firebase",NS="12.6.0";const um="[DEFAULT]",IS={[om]:"fire-core",[iS]:"fire-core-compat",[rS]:"fire-analytics",[sS]:"fire-analytics-compat",[lS]:"fire-app-check",[aS]:"fire-app-check-compat",[oS]:"fire-auth",[uS]:"fire-auth-compat",[cS]:"fire-rtdb",[hS]:"fire-data-connect",[fS]:"fire-rtdb-compat",[dS]:"fire-fn",[mS]:"fire-fn-compat",[pS]:"fire-iid",[gS]:"fire-iid-compat",[yS]:"fire-fcm",[_S]:"fire-fcm-compat",[vS]:"fire-perf",[bS]:"fire-perf-compat",[ES]:"fire-rc",[TS]:"fire-rc-compat",[AS]:"fire-gcs",[SS]:"fire-gcs-compat",[xS]:"fire-fst",[RS]:"fire-fst-compat",[wS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};const th=new Map,DS=new Map,cm=new Map;function p_(s,e){try{s.container.addComponent(e)}catch(i){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function pl(s){const e=s.name;if(cm.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,s);for(const i of th.values())p_(i,s);for(const i of DS.values())p_(i,s);return!0}function Bm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function oi(s){return s==null?!1:s.settings!==void 0}const OS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Jo("app","Firebase",OS);class MS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const Sl=NS;function Wv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:um,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=Qv()),!i)throw vr.create("no-options");const c=th.get(o);if(c){if(Ar(i,c.options)&&Ar(a,c.config))return c;throw vr.create("duplicate-app",{appName:o})}const d=new UA(o);for(const _ of cm.values())d.addComponent(_);const g=new MS(i,a,d);return th.set(o,g),g}function e1(s=um){const e=th.get(s);if(!e&&s===um&&Qv())return Wv();if(!e)throw vr.create("no-app",{appName:s});return e}function br(s,e,i){let a=IS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(d.join(" "));return}pl(new ha(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const VS="firebase-heartbeat-database",kS=1,qo="firebase-heartbeat-store";let Xd=null;function t1(){return Xd||(Xd=JA(VS,kS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(qo)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),Xd}async function zS(s){try{const i=(await t1()).transaction(qo),a=await i.objectStore(qo).get(n1(s));return await i.done,a}catch(e){if(e instanceof Ms)Rs.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e?.message});Rs.warn(i.message)}}}async function g_(s,e){try{const a=(await t1()).transaction(qo,"readwrite");await a.objectStore(qo).put(e,n1(s)),await a.done}catch(i){if(i instanceof Ms)Rs.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i?.message});Rs.warn(a.message)}}}function n1(s){return`${s.name}!${s.options.appId}`}const jS=1024,LS=30;class US{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>LS){const o=qS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y_(),{heartbeatsToSend:i,unsentEntries:a}=PS(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rs.warn(e),""}}}function y_(){return new Date().toISOString().substring(0,10)}function PS(s,e=jS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),__(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),__(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class BS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await zS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function __(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function qS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function HS(s){pl(new ha("platform-logger",e=>new tS(e),"PRIVATE")),pl(new ha("heartbeat",e=>new US(e),"PRIVATE")),br(om,m_,s),br(om,m_,"esm2020"),br("fire-js","")}HS("");var GS="firebase",FS="12.7.0";br(GS,FS,"app");function i1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KS=i1,s1=new Jo("auth","Firebase",i1());const nh=new Um("@firebase/auth");function QS(s,...e){nh.logLevel<=Fe.WARN&&nh.warn(`Auth (${Sl}): ${s}`,...e)}function qc(s,...e){nh.logLevel<=Fe.ERROR&&nh.error(`Auth (${Sl}): ${s}`,...e)}function Cs(s,...e){throw qm(s,...e)}function Fi(s,...e){return qm(s,...e)}function r1(s,e,i){const a={...KS(),[e]:i};return new Jo("auth","Firebase",a).create(e,{appName:s.name})}function ws(s){return r1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return s1.create(s,...e)}function Se(s,e,...i){if(!s)throw qm(e,...i)}function Ss(s){const e="INTERNAL ASSERTION FAILED: "+s;throw qc(e),new Error(e)}function Ns(s,e){s||Ss(e)}function hm(){return typeof self<"u"&&self.location?.href||""}function YS(){return v_()==="http:"||v_()==="https:"}function v_(){return typeof self<"u"&&self.location?.protocol||null}function XS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YS()||AA()||"connection"in navigator)?navigator.onLine:!0}function $S(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class eu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ns(i>e,"Short delay should be less than long delay!"),this.isMobile=bA()||SA()}get(){return XS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hm(s,e){Ns(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class a1{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WS=new eu(3e4,6e4);function tu(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xl(s,e,i,a,o={}){return l1(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Wo({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return TA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Al(s.emulatorConfig.host)&&(y.credentials="include"),a1.fetch()(await o1(s,s.config.apiHost,i,g),y)})}async function l1(s,e,i){s._canInitEmulator=!1;const a={...ZS,...e};try{const o=new e2(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw kc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw kc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw kc(s,"user-disabled",d);const E=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw r1(s,E,y);Cs(s,E)}}catch(o){if(o instanceof Ms)throw o;Cs(s,"network-request-failed",{message:String(o)})}}async function Gm(s,e,i,a,o={}){const c=await xl(s,e,i,a,o);return"mfaPendingCredential"in c&&Cs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function o1(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Hm(s.config,o):`${s.config.apiScheme}://${o}`;return JS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class e2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Fi(this.auth,"network-request-failed")),WS.get())})}}function kc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Fi(s,e,a);return o.customData._tokenResponse=i,o}async function t2(s,e){return xl(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return xl(s,"POST","/v1/accounts:lookup",e)}function jo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n2(s,e=!1){const i=Cn(s),a=await i.getIdToken(e),o=Fm(a);Se(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:jo($d(o.auth_time)),issuedAtTime:jo($d(o.iat)),expirationTime:jo($d(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function Fm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fv(i);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function b_(s){const e=Fm(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ho(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ms&&i2(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function i2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class s2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,i=await s.getIdToken(),a=await Ho(s,ih(e,{idToken:i}));Se(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?u1(o.providerUserInfo):[],d=a2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=g?_:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new fm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function r2(s){const e=Cn(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a2(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function u1(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function l2(s,e){const i=await l1(s,{},async()=>{const a=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await o1(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&Al(s.emulatorConfig.host)&&(_.credentials="include"),a1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function o2(s,e){return xl(s,"POST","/v2/accounts:revokeToken",tu(s,e))}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=b_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await l2(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new cl;return a&&(Se(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function fr(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new s2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return n2(this,e)}reload(){return r2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Ho(this,t2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:G,providerData:$,stsTokenManager:te}=i;Se(S&&te,e,"internal-error");const ee=cl.fromJSON(this.name,te);Se(typeof S=="string",e,"internal-error"),fr(a,e.name),fr(o,e.name),Se(typeof I=="boolean",e,"internal-error"),Se(typeof G=="boolean",e,"internal-error"),fr(c,e.name),fr(d,e.name),fr(g,e.name),fr(_,e.name),fr(y,e.name),fr(E,e.name);const _e=new bi({uid:S,auth:e,email:o,emailVerified:I,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ee,createdAt:y,lastLoginAt:E});return $&&Array.isArray($)&&(_e.providerData=$.map(Te=>({...Te}))),_&&(_e._redirectEventId=_),_e}static async _fromIdTokenResponse(e,i,a=!1){const o=new cl;o.updateFromServerResponse(i);const c=new bi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await sh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?u1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new cl;g.updateFromIdToken(a);const _=new bi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const E_=new Map;function xs(s){Ns(s instanceof Function,"Expected a class definition");let e=E_.get(s);return e?(Ns(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,E_.set(s,e),e)}class c1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}c1.type="NONE";const T_=c1;function Hc(s,e,i){return`firebase:${s}:${e}:${i}`}class hl{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Hc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?bi._fromGetAccountInfoResponse(this.auth,i,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new hl(xs(T_),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||xs(T_);const d=Hc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const E=await y._get(d);if(E){let S;if(typeof E=="string"){const I=await ih(e,{idToken:E}).catch(()=>{});if(!I)break;S=await bi._fromGetAccountInfoResponse(e,I,E)}else S=bi._fromJSON(e,E);y!==c&&(g=S),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new hl(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new hl(c,e,a))}}function A_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g1(e))return"Blackberry";if(y1(e))return"Webos";if(f1(e))return"Safari";if((e.includes("chrome/")||d1(e))&&!e.includes("edge/"))return"Chrome";if(p1(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function h1(s=An()){return/firefox\//i.test(s)}function f1(s=An()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d1(s=An()){return/crios\//i.test(s)}function m1(s=An()){return/iemobile/i.test(s)}function p1(s=An()){return/android/i.test(s)}function g1(s=An()){return/blackberry/i.test(s)}function y1(s=An()){return/webos/i.test(s)}function Km(s=An()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function u2(s=An()){return Km(s)&&!!window.navigator?.standalone}function c2(){return xA()&&document.documentMode===10}function _1(s=An()){return Km(s)||p1(s)||y1(s)||g1(s)||/windows phone/i.test(s)||m1(s)}function v1(s,e=[]){let i;switch(s){case"Browser":i=A_(An());break;case"Worker":i=`${A_(An())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Sl}/${a}`}class h2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function f2(s,e={}){return xl(s,"GET","/v2/passwordPolicy",tu(s,e))}const d2=6;class m2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??d2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class p2{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new h2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=xs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),a=await bi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$S()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(ws(this));const i=e?Cn(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f2(this),i=new m2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await o2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&xs(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[xs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&QS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nu(s){return Cn(s)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=MA(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g2(s){Qm=s}function y2(s){return Qm.loadJS(s)}function _2(){return Qm.gapiScript}function v2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function b2(s,e){const i=Bm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Ar(c,e??{}))return o;Cs(o,"already-initialized")}return i.initialize({options:e})}function E2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(xs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function T2(s,e,i){const a=nu(s);Se(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=b1(e),{host:d,port:g}=A2(e),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},E=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Se(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Se(Ar(y,a.config.emulator)&&Ar(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Al(d)?(Xv(`${c}//${d}${_}`),$v("Auth",!0)):S2()}function b1(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function A2(s){const e=b1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:x_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:x_(d)}}}function x_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function S2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class E1{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,i){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function fl(s,e){return Gm(s,"POST","/v1/accounts:signInWithIdp",tu(s,e))}const x2="http://localhost";class fa extends E1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Cs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new fa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return fl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,fl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,fl(e,i)}buildRequest(){const e={requestUri:x2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Wo(i)}return e}}class T1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends T1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dr extends iu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";class mr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return fa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return mr.credential(i,a)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";class pr extends iu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";class gr extends iu{constructor(){super("twitter.com")}static credential(e,i){return fa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return gr.credential(i,a)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";async function w2(s,e){return Gm(s,"POST","/v1/accounts:signUp",tu(s,e))}class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await bi._fromIdTokenResponse(e,a,o),d=w_(a);return new Is({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=w_(a);return new Is({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function w_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function R2(s){if(oi(s.app))return Promise.reject(ws(s));const e=nu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Is({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await w2(e,{returnSecureToken:!0}),a=await Is._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class rh extends Ms{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new rh(e,i,a,o)}}function A1(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,e,a):c})}async function C2(s,e,i=!1){const a=await Ho(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Is._forOperation(s,"link",a)}async function N2(s,e,i=!1){const{auth:a}=s;if(oi(a.app))return Promise.reject(ws(a));const o="reauthenticate";try{const c=await Ho(s,A1(a,o,e,s),i);Se(c.idToken,a,"internal-error");const d=Fm(c.idToken);Se(d,a,"internal-error");const{sub:g}=d;return Se(s.uid===g,a,"user-mismatch"),Is._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Cs(a,"user-mismatch"),c}}async function I2(s,e,i=!1){if(oi(s.app))return Promise.reject(ws(s));const a="signIn",o=await A1(s,a,e),c=await Is._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function D2(s,e){return Gm(s,"POST","/v1/accounts:signInWithCustomToken",tu(s,e))}async function O2(s,e){if(oi(s.app))return Promise.reject(ws(s));const i=nu(s),a=await D2(i,{token:e,returnSecureToken:!0}),o=await Is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function M2(s,e,i,a){return Cn(s).onIdTokenChanged(e,i,a)}function V2(s,e,i){return Cn(s).beforeAuthStateChanged(e,i)}function k2(s,e,i,a){return Cn(s).onAuthStateChanged(e,i,a)}const ah="__sak";class S1{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const z2=1e3,j2=10;class x1 extends S1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);c2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,j2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}x1.type="LOCAL";const L2=x1;class w1 extends S1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}w1.type="SESSION";const R1=w1;function U2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Th(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await U2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Ym(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class P2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Ym("",20);o.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(I.data.response);break;default:clearTimeout(E),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ki(){return window}function B2(s){Ki().location.href=s}function C1(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function q2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H2(){return navigator?.serviceWorker?.controller||null}function G2(){return C1()?self:null}const N1="firebaseLocalStorageDb",F2=1,lh="firebaseLocalStorage",I1="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ah(s,e){return s.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function K2(){const s=indexedDB.deleteDatabase(N1);return new su(s).toPromise()}function dm(){const s=indexedDB.open(N1,F2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(lh,{keyPath:I1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(lh)?e(a):(a.close(),await K2(),e(await dm()))})})}async function R_(s,e,i){const a=Ah(s,!0).put({[I1]:e,value:i});return new su(a).toPromise()}async function Q2(s,e){const i=Ah(s,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function C_(s,e){const i=Ah(s,!0).delete(e);return new su(i).toPromise()}const Y2=800,X2=3;class D1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>X2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(G2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await q2(),!this.activeServiceWorker)return;this.sender=new P2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await R_(e,ah,"1"),await C_(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>R_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Q2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>C_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ah(o,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D1.type="LOCAL";const $2=D1;new eu(3e4,6e4);function Z2(s,e){return e?xs(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Xm extends E1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return fl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function J2(s){return I2(s.auth,new Xm(s),s.bypassAuthState)}function W2(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),N2(i,new Xm(s),s.bypassAuthState)}async function ex(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),C2(i,new Xm(s),s.bypassAuthState)}class O1{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J2;case"linkViaPopup":case"linkViaRedirect":return ex;case"reauthViaPopup":case"reauthViaRedirect":return W2;default:Cs(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tx=new eu(2e3,1e4);class ul extends O1{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tx.get())};e()}}ul.currentPopupAction=null;const nx="pendingRedirect",Gc=new Map;class ix extends O1{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await sx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sx(s,e){const i=lx(e),a=ax(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function rx(s,e){Gc.set(s._key(),e)}function ax(s){return xs(s._redirectPersistence)}function lx(s){return Hc(nx,s.config.apiKey,s.name)}async function ox(s,e,i=!1){if(oi(s.app))return Promise.reject(ws(s));const a=nu(s),o=Z2(a,e),d=await new ix(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const ux=600*1e3;class cx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hx(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!M1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Fi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ux&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function M1({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function hx(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M1(s);default:return!1}}async function fx(s,e={}){return xl(s,"GET","/v1/projects",e)}const dx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mx=/^https?/;async function px(s){if(s.config.emulator)return;const{authorizedDomains:e}=await fx(s);for(const i of e)try{if(gx(i))return}catch{}Cs(s,"unauthorized-domain")}function gx(s){const e=hm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!mx.test(i))return!1;if(dx.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const yx=new eu(3e4,6e4);function I_(){const s=Ki().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function _x(s){return new Promise((e,i)=>{function a(){I_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I_(),i(Fi(s,"network-request-failed"))},timeout:yx.get()})}if(Ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ki().gapi?.load)a();else{const o=v2("iframefcb");return Ki()[o]=()=>{gapi.load?a():i(Fi(s,"network-request-failed"))},y2(`${_2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function vx(s){return Fc=Fc||_x(s),Fc}const bx=new eu(5e3,15e3),Ex="__/auth/iframe",Tx="emulator/auth/iframe",Ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xx(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Hm(e,Tx):`https://${s.config.authDomain}/${Ex}`,a={apiKey:e.apiKey,appName:s.name,v:Sl},o=Sx.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Wo(a).slice(1)}`}async function wx(s){const e=await vx(s),i=Ki().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:xx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ax,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Fi(s,"network-request-failed"),g=Ki().setTimeout(()=>{c(d)},bx.get());function _(){Ki().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const Rx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cx=500,Nx=600,Ix="_blank",Dx="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ox(s,e,i,a=Cx,o=Nx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Rx,width:a.toString(),height:o.toString(),top:c,left:d},y=An().toLowerCase();i&&(g=d1(y)?Ix:i),h1(y)&&(e=e||Dx,_.scrollbars="yes");const E=Object.entries(_).reduce((I,[G,$])=>`${I}${G}=${$},`,"");if(u2(y)&&g!=="_self")return Mx(e||"",g),new D_(null);const S=window.open(e||"",g,E);Se(S,s,"popup-blocked");try{S.focus()}catch{}return new D_(S)}function Mx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Vx="__/auth/handler",kx="emulator/auth/handler",zx=encodeURIComponent("fac");async function O_(s,e,i,a,o,c){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Sl,eventId:o};if(e instanceof T1){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",OA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))d[E]=S}if(e instanceof iu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(d.scopes=E.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const _=await s._getAppCheckToken(),y=_?`#${zx}=${encodeURIComponent(_)}`:"";return`${jx(s)}?${Wo(g).slice(1)}${y}`}function jx({config:s}){return s.emulator?Hm(s,kx):`https://${s.authDomain}/${Vx}`}const Zd="webStorageSupport";class Lx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R1,this._completeRedirectFn=ox,this._overrideRedirectResult=rx}async _openPopup(e,i,a,o){Ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await O_(e,i,a,hm(),o);return Ox(e,c,Ym())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await O_(e,i,a,hm(),o);return B2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ns(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await wx(e),a=new cx(e);return i.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Zd,{type:Zd},o=>{const c=o?.[0]?.[Zd];c!==void 0&&i(!!c),Cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=px(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return _1()||f1()||Km()}}const Ux=Lx;var M_="@firebase/auth",V_="1.12.0";class Px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qx(s){pl(new ha("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v1(s)},y=new p2(a,o,c,_);return E2(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),pl(new ha("auth-internal",e=>{const i=nu(e.getProvider("auth").getImmediate());return(a=>new Px(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(M_,V_,Bx(s)),br(M_,V_,"esm2020")}const Hx=300,Gx=Yv("authIdTokenMaxAge")||Hx;let k_=null;const Fx=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Gx)return;const o=i?.token;k_!==o&&(k_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kx(s=e1()){const e=Bm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=b2(s,{popupRedirectResolver:Ux,persistence:[$2,L2,R1]}),a=Yv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Fx(c.toString());V2(i,d,()=>d(i.currentUser)),M2(i,g=>d(g))}}const o=Kv("auth");return o&&T2(i,`http://${o}`),i}function Qx(){return document.getElementsByTagName("head")?.[0]??document}g2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=Fi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Qx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qx("Browser");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Er,V1;(function(){var s;function e(N,x){function w(){}w.prototype=x.prototype,N.F=x.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(V,D,k){for(var R=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)R[Xe-2]=arguments[Xe];return x.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,w){w||(w=0);const V=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)V[D]=x.charCodeAt(w++)|x.charCodeAt(w++)<<8|x.charCodeAt(w++)<<16|x.charCodeAt(w++)<<24;else for(D=0;D<16;++D)V[D]=x[w++]|x[w++]<<8|x[w++]<<16|x[w++]<<24;x=N.g[0],w=N.g[1],D=N.g[2];let k=N.g[3],R;R=x+(k^w&(D^k))+V[0]+3614090360&4294967295,x=w+(R<<7&4294967295|R>>>25),R=k+(D^x&(w^D))+V[1]+3905402710&4294967295,k=x+(R<<12&4294967295|R>>>20),R=D+(w^k&(x^w))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(x^D&(k^x))+V[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=x+(k^w&(D^k))+V[4]+4118548399&4294967295,x=w+(R<<7&4294967295|R>>>25),R=k+(D^x&(w^D))+V[5]+1200080426&4294967295,k=x+(R<<12&4294967295|R>>>20),R=D+(w^k&(x^w))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(x^D&(k^x))+V[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=x+(k^w&(D^k))+V[8]+1770035416&4294967295,x=w+(R<<7&4294967295|R>>>25),R=k+(D^x&(w^D))+V[9]+2336552879&4294967295,k=x+(R<<12&4294967295|R>>>20),R=D+(w^k&(x^w))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(x^D&(k^x))+V[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=x+(k^w&(D^k))+V[12]+1804603682&4294967295,x=w+(R<<7&4294967295|R>>>25),R=k+(D^x&(w^D))+V[13]+4254626195&4294967295,k=x+(R<<12&4294967295|R>>>20),R=D+(w^k&(x^w))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=w+(x^D&(k^x))+V[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=x+(D^k&(w^D))+V[1]+4129170786&4294967295,x=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(x^w))+V[6]+3225465664&4294967295,k=x+(R<<9&4294967295|R>>>23),R=D+(x^w&(k^x))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^x&(D^k))+V[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=x+(D^k&(w^D))+V[5]+3593408605&4294967295,x=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(x^w))+V[10]+38016083&4294967295,k=x+(R<<9&4294967295|R>>>23),R=D+(x^w&(k^x))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^x&(D^k))+V[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=x+(D^k&(w^D))+V[9]+568446438&4294967295,x=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(x^w))+V[14]+3275163606&4294967295,k=x+(R<<9&4294967295|R>>>23),R=D+(x^w&(k^x))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^x&(D^k))+V[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=x+(D^k&(w^D))+V[13]+2850285829&4294967295,x=w+(R<<5&4294967295|R>>>27),R=k+(w^D&(x^w))+V[2]+4243563512&4294967295,k=x+(R<<9&4294967295|R>>>23),R=D+(x^w&(k^x))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=w+(k^x&(D^k))+V[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=x+(w^D^k)+V[5]+4294588738&4294967295,x=w+(R<<4&4294967295|R>>>28),R=k+(x^w^D)+V[8]+2272392833&4294967295,k=x+(R<<11&4294967295|R>>>21),R=D+(k^x^w)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^x)+V[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=x+(w^D^k)+V[1]+2763975236&4294967295,x=w+(R<<4&4294967295|R>>>28),R=k+(x^w^D)+V[4]+1272893353&4294967295,k=x+(R<<11&4294967295|R>>>21),R=D+(k^x^w)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^x)+V[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=x+(w^D^k)+V[13]+681279174&4294967295,x=w+(R<<4&4294967295|R>>>28),R=k+(x^w^D)+V[0]+3936430074&4294967295,k=x+(R<<11&4294967295|R>>>21),R=D+(k^x^w)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^x)+V[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=x+(w^D^k)+V[9]+3654602809&4294967295,x=w+(R<<4&4294967295|R>>>28),R=k+(x^w^D)+V[12]+3873151461&4294967295,k=x+(R<<11&4294967295|R>>>21),R=D+(k^x^w)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=w+(D^k^x)+V[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=x+(D^(w|~k))+V[0]+4096336452&4294967295,x=w+(R<<6&4294967295|R>>>26),R=k+(w^(x|~D))+V[7]+1126891415&4294967295,k=x+(R<<10&4294967295|R>>>22),R=D+(x^(k|~w))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~x))+V[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=x+(D^(w|~k))+V[12]+1700485571&4294967295,x=w+(R<<6&4294967295|R>>>26),R=k+(w^(x|~D))+V[3]+2399980690&4294967295,k=x+(R<<10&4294967295|R>>>22),R=D+(x^(k|~w))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~x))+V[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=x+(D^(w|~k))+V[8]+1873313359&4294967295,x=w+(R<<6&4294967295|R>>>26),R=k+(w^(x|~D))+V[15]+4264355552&4294967295,k=x+(R<<10&4294967295|R>>>22),R=D+(x^(k|~w))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~x))+V[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=x+(D^(w|~k))+V[4]+4149444226&4294967295,x=w+(R<<6&4294967295|R>>>26),R=k+(w^(x|~D))+V[11]+3174756917&4294967295,k=x+(R<<10&4294967295|R>>>22),R=D+(x^(k|~w))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=w+(k^(D|~x))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,x){x===void 0&&(x=N.length);const w=x-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<x;){if(D==0)for(;k<=w;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<x;)if(V[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<x;)if(V[D++]=N[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=x},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)N[x++]=this.g[w]>>>V&255;return N};function c(N,x){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=x(N)}function d(N,x){this.h=x;const w=[];let V=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;V&&k==x||(w[D]=k,V=!1)}this.g=w}var g={};function _(N){return-128<=N&&N<128?c(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return ee(y(-N));const x=[];let w=1;for(let V=0;N>=w;V++)x[V]=N/w|0,w*=4294967296;return new d(x,0)}function E(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return ee(E(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(x,8));let V=S;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+D),x);D<8?(D=y(Math.pow(x,D)),V=V.j(D).add(y(R))):(V=V.j(w),V=V.add(y(R)))}return V}var S=_(0),I=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(te(this))return-ee(this).m();let N=0,x=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);N+=(V>=0?V:4294967296+V)*x,x*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(te(this))return"-"+ee(this).toString(N);const x=y(Math.pow(N,6));var w=this;let V="";for(;;){const D=Pe(w,x).g;w=_e(w,D.j(x));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=D,$(w))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function te(N){return N.h==-1}s.l=function(N){return N=_e(this,N),te(N)?-1:$(N)?0:1};function ee(N){const x=N.g.length,w=[];for(let V=0;V<x;V++)w[V]=~N.g[V];return new d(w,~N.h).add(I)}s.abs=function(){return te(this)?ee(this):this},s.add=function(N){const x=Math.max(this.g.length,N.g.length),w=[];let V=0;for(let D=0;D<=x;D++){let k=V+(this.i(D)&65535)+(N.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,w[D]=R<<16|k}return new d(w,w[w.length-1]&-2147483648?-1:0)};function _e(N,x){return N.add(ee(x))}s.j=function(N){if($(this)||$(N))return S;if(te(this))return te(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if(te(N))return ee(this.j(ee(N)));if(this.l(G)<0&&N.l(G)<0)return y(this.m()*N.m());const x=this.g.length+N.g.length,w=[];for(var V=0;V<2*x;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,Xe=N.i(D)>>>16,St=N.i(D)&65535;w[2*V+2*D]+=R*St,Te(w,2*V+2*D),w[2*V+2*D+1]+=k*St,Te(w,2*V+2*D+1),w[2*V+2*D+1]+=R*Xe,Te(w,2*V+2*D+1),w[2*V+2*D+2]+=k*Xe,Te(w,2*V+2*D+2)}for(N=0;N<x;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=x;N<2*x;N++)w[N]=0;return new d(w,0)};function Te(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function ge(N,x){this.g=N,this.h=x}function Pe(N,x){if($(x))throw Error("division by zero");if($(N))return new ge(S,S);if(te(N))return x=Pe(ee(N),x),new ge(ee(x.g),ee(x.h));if(te(x))return x=Pe(N,ee(x)),new ge(ee(x.g),x.h);if(N.g.length>30){if(te(N)||te(x))throw Error("slowDivide_ only works with positive integers.");for(var w=I,V=x;V.l(N)<=0;)w=ot(w),V=ot(V);var D=ze(w,1),k=ze(V,1);for(V=ze(V,2),w=ze(w,2);!$(V);){var R=k.add(V);R.l(N)<=0&&(D=D.add(w),k=R),V=ze(V,1),w=ze(w,1)}return x=_e(N,D.j(x)),new ge(D,x)}for(D=S;N.l(x)>=0;){for(w=Math.max(1,Math.floor(N.m()/x.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(w),R=k.j(x);te(R)||R.l(N)>0;)w-=V,k=y(w),R=k.j(x);$(k)&&(k=I),D=D.add(k),N=_e(N,R)}return new ge(D,N)}s.B=function(N){return Pe(this,N).h},s.and=function(N){const x=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<x;V++)w[V]=this.i(V)&N.i(V);return new d(w,this.h&N.h)},s.or=function(N){const x=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<x;V++)w[V]=this.i(V)|N.i(V);return new d(w,this.h|N.h)},s.xor=function(N){const x=Math.max(this.g.length,N.g.length),w=[];for(let V=0;V<x;V++)w[V]=this.i(V)^N.i(V);return new d(w,this.h^N.h)};function ot(N){const x=N.g.length+1,w=[];for(let V=0;V<x;V++)w[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(w,N.h)}function ze(N,x){const w=x>>5;x%=32;const V=N.g.length-w,D=[];for(let k=0;k<V;k++)D[k]=x>0?N.i(k+w)>>>x|N.i(k+w+1)<<32-x:N.i(k+w);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,V1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Er=d}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k1,Oo,z1,Kc,mm,j1,L1,U1;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in b))break e;b=b[j]}u=u[u.length-1],A=b[u],m=m(A),m!=A&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&b.push([A,m[A]]);return b}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,b){return u.call.apply(u.bind,arguments)}function y(u,m,b){return y=_,y.apply(null,arguments)}function E(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(A,j,q){for(var ie=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ie[Ie-2]=arguments[Ie];return m.prototype[j].apply(A,ie)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const b=Array(m);for(let A=0;A<m;A++)b[A]=u[A];return b}return[]}function $(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var b=typeof j;if(b=b!="object"?b:j?Array.isArray(j)?"array":b:"null",b=="array"||b=="object"&&typeof j.length=="number"){b=u.length||0;const q=j.length||0;u.length=b+q;for(let ie=0;ie<q;ie++)u[b+ie]=j[ie]}else u.push(j)}}class te{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Te{constructor(){this.h=this.g=null}add(m,b){const A=ge.get();A.set(m,b),this.h?this.h.next=A:this.g=A,this.h=A}}var ge=new te(()=>new Pe,u=>u.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ze=!1,N=new Te,x=()=>{const u=Promise.resolve(void 0);ot=()=>{u.then(w)}};function w(){for(var u;u=_e();){try{u.h.call(u.g)}catch(b){ee(b)}var m=ge;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ze=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,m),d.removeEventListener("test",b,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Xe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Xe,D),Xe.prototype.init=function(u,m){const b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(u,m,b,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!A,this.ha=j,this.key=++F,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,m,b){for(const A in u)m.call(b,u[A],A,u)}function Ze(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function M(u){const m={};for(const b in u)m[b]=u[b];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let b,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(b in A)u[b]=A[b];for(let q=0;q<P.length;q++)b=P[q],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,b,A,j){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ie=xe(u,m,A,j);return ie>-1?(m=u[ie],b||(m.fa=!1)):(m=new re(m,this.src,q,!!A,j),m.fa=b,u.push(m)),m};function le(u,m){const b=m.type;if(b in u.g){var A=u.g[b],j=Array.prototype.indexOf.call(A,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(A,j,1),q&&(me(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function xe(u,m,b,A){for(let j=0;j<u.length;++j){const q=u[j];if(!q.da&&q.listener==m&&q.capture==!!b&&q.ha==A)return j}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ot={};function mt(u,m,b,A,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)mt(u,m[q],b,A,j);return null}return b=Mr(b),u&&u[St]?u.J(m,b,g(A)?!!A.capture:!1,j):Wi(u,m,b,!1,A,j)}function Wi(u,m,b,A,j,q){if(!m)throw Error("Invalid event type");const ie=g(j)?!!j.capture:!!j;let Ie=ns(u);if(Ie||(u[Be]=Ie=new ae(u)),b=Ie.add(m,b,A,ie,q),b.proxy)return b;if(A=es(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)k||(j=ie),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function es(){function u(b){return m.call(u.src,u.listener,b)}const m=Or;return u}function ts(u,m,b,A,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)ts(u,m[q],b,A,j);else A=g(A)?!!A.capture:!!A,b=Mr(b),u&&u[St]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],b=xe(m,b,A,j),b>-1&&(me(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xe(m,b,A,j)),(b=u>-1?m[u]:null)&&Ai(b))}function Ai(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[St])le(m.i,u);else{var b=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(b,A,u.capture):m.detachEvent?m.detachEvent(Xn(b),A):m.addListener&&m.removeListener&&m.removeListener(A),(b=ns(m))?(le(b,u),b.h==0&&(b.src=null,m[Be]=null)):me(u)}}}function Xn(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function Or(u,m){if(u.da)u=!0;else{m=new Xe(m,this);const b=u.listener,A=u.ha||u.src;u.fa&&Ai(u),u=b.call(A,m)}return u}function ns(u){return u=u[Be],u instanceof ae?u:null}var Si="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mr(u){return typeof u=="function"?u:(u[Si]||(u[Si]=function(m){return u.handleEvent(m)}),u[Si])}function W(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}S(W,V),W.prototype[St]=!0,W.prototype.removeEventListener=function(u,m,b,A){ts(this,u,m,b,A)};function ne(u,m){var b,A=u.G;if(A)for(b=[];A;A=A.G)b.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var j=m;m=new D(A,u),se(m,j)}j=!0;let q,ie;if(b)for(ie=b.length-1;ie>=0;ie--)q=m.g=b[ie],j=ve(q,A,!0,m)&&j;if(q=m.g=u,j=ve(q,A,!0,m)&&j,j=ve(q,A,!1,m)&&j,b)for(ie=0;ie<b.length;ie++)q=m.g=b[ie],j=ve(q,A,!1,m)&&j}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let A=0;A<b.length;A++)me(b[A]);delete u.g[m],u.h--}}this.G=null},W.prototype.J=function(u,m,b,A){return this.i.add(String(u),m,!1,b,A)},W.prototype.K=function(u,m,b,A){return this.i.add(String(u),m,!0,b,A)};function ve(u,m,b,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const ie=m[q];if(ie&&!ie.da&&ie.capture==b){const Ie=ie.listener,zt=ie.ha||ie.src;ie.fa&&le(u.i,ie),j=Ie.call(zt,A)!==!1&&j}}return j&&!A.defaultPrevented}function J(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ue(u){u.g=J(()=>{u.g=null,u.i&&(u.i=!1,ue(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Oe extends V{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ue(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(u){V.call(this),this.h=u,this.g={}}S(he,V);var un=[];function Sn(u){Ve(u.g,function(m,b){this.g.hasOwnProperty(b)&&Ai(m)},u),u.g={}}he.prototype.N=function(){he.Z.N.call(this),Sn(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=d.JSON.stringify,yt=d.JSON.parse,xt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Nn(){}function Vs(){}var we={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){D.call(this,"d")}S(ke,D);function Mt(){D.call(this,"c")}S(Mt,D);var Je={},Vt=null;function qe(){return Vt=Vt||new W}Je.Ia="serverreachability";function _t(u){D.call(this,Je.Ia,u)}S(_t,D);function pt(u){const m=qe();ne(m,new _t(m))}Je.STAT_EVENT="statevent";function Wt(u,m){D.call(this,Je.STAT_EVENT,u),this.stat=m}S(Wt,D);function ut(u){const m=qe();ne(m,new Wt(m,u))}Je.Ja="timingevent";function kt(u,m){D.call(this,Je.Ja,u),this.size=m}S(kt,D);function Ct(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function en(){this.g=!0}en.prototype.ua=function(){this.g=!1};function _a(u,m,b,A,j,q){u.info(function(){if(u.g)if(q){var ie="",Ie=q.split("&");for(let nt=0;nt<Ie.length;nt++){var zt=Ie[nt].split("=");if(zt.length>1){const Tt=zt[0];zt=zt[1];const Wn=Tt.split("_");ie=Wn.length>=2&&Wn[1]=="type"?ie+(Tt+"="+zt+"&"):ie+(Tt+"=redacted&")}}}else ie=null;else ie=q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+b+`
`+ie})}function fu(u,m,b,A,j,q,ie){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+b+`
`+q+" "+ie})}function xi(u,m,b,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(u,b)+(A?" "+A:"")})}function Vr(u,m){u.info(function(){return"TIMEOUT: "+m})}en.prototype.info=function(){};function Hh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var b=q[u];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return fe(q)}catch{return m}}var kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Il={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dl;function zr(){}S(zr,Nn),zr.prototype.g=function(){return new XMLHttpRequest},Dl=new zr;function is(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function ci(u,m,b,A){this.j=u,this.i=m,this.l=b,this.S=A||1,this.V=new he(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Pt={},tn={};function wi(u,m,b){u.M=1,u.A=jr(qt(m)),u.u=b,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Ri(u),u.B=qt(u.A);var b=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Aa(b.i,"t",A),u.C=0,b=u.j.L,u.h=new hi,u.g=Cu(u.j,b?m:null,!u.u),u.P>0&&(u.O=new Oe(y(u.Y,u,u.g),u.P)),m=u.V,b=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(un[0]=j.toString()),j=un);for(let q=0;q<j.length;q++){const ie=mt(b,j[q],A||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),pt(),_a(u.i,u.v,u.B,u.l,u.S,u.u)}ci.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},ci.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=mi(this.g),zt=this.g.ya(),nt=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Ie!=4||zt==7||(zt==8||nt<=0?pt(3):pt(2)),Ci(this);var m=this.g.ca();this.X=m;var b=Gh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break t}}q=null}if(u=q)xi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,u);else{this.o=!1,this.m=3,ut(12),Un(this),$n(this);break e}}if(this.R){u=!0;let Tt;for(;!this.K&&this.C<b.length;)if(Tt=pu(this,b),Tt==tn){Ie==4&&(this.m=4,ut(14),u=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Pt){this.m=4,ut(15),xi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else xi(this.i,this.l,Tt,null),Ni(this,Tt);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,ut(16),u=!1),this.o=this.o&&u,!u)xi(this.i,this.l,b,"[Invalid Chunked Response]"),Un(this),$n(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Kl(ie),ie.P=!0,ut(11))}}else xi(this.i,this.l,b,null),Ni(this,b);Ie==4&&Un(this),this.o&&!this.K&&(Ie==4?Su(this.j,this):(this.o=!1,Ri(this)))}else rs(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),Un(this),$n(this)}}}catch{}};function Gh(u){if(!mu(u))return u.g.la();const m=cn(u.g);if(m==="")return"";let b="";const A=m.length,j=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Un(u),$n(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,b+=u.h.i.decode(m[q],{stream:!(j&&q==A-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var b=u.C,A=m.indexOf(`
`,b);return A==-1?tn:(b=Number(m.substring(b,A)),isNaN(b)?Pt:(A+=1,A+b>m.length?tn:(m=m.slice(A,A+b),u.C=A+b,m)))}ci.prototype.cancel=function(){this.K=!0,Un(this)};function Ri(u){u.T=Date.now()+u.H,ba(u,u.H)}function ba(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ct(y(u.aa,u),m)}function Ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ci.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Vr(this.i,this.B),this.M!=2&&(pt(),ut(17)),Un(this),this.m=2,$n(this)):ba(this,this.T-u)};function $n(u){u.j.I==0||u.K||Su(u.j,u)}function Un(u){Ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Sn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ni(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Di(b.h,u))){if(!u.L&&Di(b.h,u)&&b.I==3){try{var A=b.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Ca(b),qs(b);else break e;Gr(b),ut(18)}}else b.xa=j[1],0<b.xa-b.K&&j[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ct(y(b.Va,b),6e3));Ii(b.h)<=1&&b.ta&&(b.ta=void 0)}else ji(b,11)}else if((u.L||b.g==u)&&Ca(b),!R(m))for(j=b.Ba.g.parse(m),m=0;m<j.length;m++){let nt=j[m];const Tt=nt[0];if(!(Tt<=b.K))if(b.K=Tt,nt=nt[1],b.I==2)if(nt[0]=="c"){b.M=nt[1],b.ba=nt[2];const Wn=nt[3];Wn!=null&&(b.ka=Wn,b.j.info("VER="+b.ka));const Li=nt[4];Li!=null&&(b.za=Li,b.j.info("SVER="+b.za));const pi=nt[5];pi!=null&&typeof pi=="number"&&pi>0&&(A=1.5*pi,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const gi=u.g;if(gi){const Fr=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var q=A.h;q.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Vl(q,q.h),q.h=null))}if(A.G){const Na=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(A.wa=Na,rt(A.J,A.G,Na))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var ie=u;if(A.na=Ru(A,A.L?A.ba:null,A.W),ie.L){kl(A.h,ie);var Ie=ie,zt=A.O;zt&&(Ie.H=zt),Ie.D&&(Ci(Ie),Ri(Ie)),A.g=ie}else Tu(A);b.i.length>0&&zi(b)}else nt[0]!="stop"&&nt[0]!="close"||ji(b,7);else b.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ji(b,7):Gl(b):nt[0]!="noop"&&b.l&&b.l.qa(nt),b.A=0)}}pt(4)}catch{}}var Bt=class{constructor(u,m){this.g=u,this.map=m}};function Ol(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ii(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vl(u,m){u.g?u.g.add(m):u.h=m}function kl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ol.prototype.cancel=function(){if(this.i=zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return G(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const A=u[b].indexOf("=");let j,q=null;A>=0?(j=u[b].substring(0,A),q=u[b].substring(A+1)):j=u[b],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Pn?(this.l=u.l,nn(this,u.j),this.o=u.o,this.g=u.g,ks(this,u.u),this.h=u.h,jl(this,bu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,nn(this,m[1]||"",!0),this.o=Oi(m[2]||""),this.g=Oi(m[3]||"",!0),ks(this,m[4]),this.h=Oi(m[5]||"",!0),jl(this,m[6]||"",!0),this.m=Oi(m[7]||"")):(this.l=!1,this.i=new js(null,this.l))}Pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Lr(m,Ta,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Lr(m,Ta,!0),"@"),u.push(is(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Lr(b,b.charAt(0)=="/"?Ll:yu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Lr(b,_u)),u.join("")},Pn.prototype.resolve=function(u){const m=qt(this);let b=!!u.j;b?nn(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var A=u.h;if(b)ks(m,u.u);else if(b=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let ie=0;ie<j.length;){const Ie=j[ie++];Ie=="."?A&&ie==j.length&&q.push(""):Ie==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ie==j.length&&q.push("")):(q.push(Ie),A=!0)}A=q.join("/")}else A=j}return b?m.h=A:b=u.i.toString()!=="",b?jl(m,bu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function qt(u){return new Pn(u)}function nn(u,m,b){u.j=b?Oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ks(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function jl(u,m,b){m instanceof js?(u.i=m,Sa(u.i,u.l)):(b||(m=Lr(m,zs)),u.i=new js(m,u.l))}function rt(u,m,b){u.i.set(m,b)}function jr(u){return rt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,In),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function In(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ta=/[#\/\?@]/g,yu=/[#\?:]/g,Ll=/[#\?]/g,zs=/[#\?@]/g,_u=/#/g;function js(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=js.prototype,s.add=function(u,m){Dn(this),this.i=null,u=Ls(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function vu(u,m){Dn(u),m=Ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ul(u,m){return Dn(u),m=Ls(u,m),u.g.has(m)}s.forEach=function(u,m){Dn(this),this.g.forEach(function(b,A){b.forEach(function(j){u.call(m,j,A,this)},this)},this)};function Pl(u,m){Dn(u);let b=[];if(typeof m=="string")Ul(u,m)&&(b=b.concat(u.g.get(Ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return Dn(this),this.i=null,u=Ls(this,u),Ul(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Pl(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,b){vu(u,m),b.length>0&&(u.i=null,u.g.set(Ls(u,m),G(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var b=m[A];const j=is(b);b=Pl(this,b);for(let q=0;q<b.length;q++){let ie=j;b[q]!==""&&(ie+="="+is(b[q])),u.push(ie)}}return this.i=u.join("&")};function bu(u){const m=new js;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Sa(u,m){m&&!u.j&&(Dn(u),u.i=null,u.g.forEach(function(b,A){const j=A.toLowerCase();A!=j&&(vu(this,A),Aa(this,j,b))},u)),u.j=m}function fi(u,m){const b=new en;if(d.Image){const A=new Image;A.onload=E(Zn,b,"TestLoadImage: loaded",!0,m,A),A.onerror=E(Zn,b,"TestLoadImage: error",!1,m,A),A.onabort=E(Zn,b,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(Zn,b,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Bl(u,m){const b=new en,A=new AbortController,j=setTimeout(()=>{A.abort(),Zn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(j),q.ok?Zn(b,"TestPingServer: ok",!0,m):Zn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Zn(b,"TestPingServer: error",!1,m)})}function Zn(u,m,b,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(b)}catch{}}function Us(){this.g=new xt}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Mi,Nn),Mi.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(u,m){W.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ur,W),s=Ur.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ps(this):di(this),this.readyState==3&&xa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ps(this))},s.Na=function(u){this.g&&(this.response=u,Ps(this))},s.ga=function(){this.g&&Ps(this)};function Ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let m="";return Ve(u,function(b,A){m+=A,m+=":",m+=b,m+=`\r
`}),m}function Pr(u,m,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Jn(b),typeof u=="string"?b!=null&&is(b):rt(u,m,b))}function ct(u){W.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ct,W);var Vi=/^https?$/i,ql=["POST","PUT"];s=ct.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dl.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Br(this,q);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)b.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())b.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ql,m,void 0)>=0)||A||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of b)this.g.setRequestHeader(q,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Br(this,q)}};function Br(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Hl(u),ss(u)}function Hl(u){u.A||(u.A=!0,ne(u,"complete"),ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ne(this,"complete"),ne(this,"abort"),ss(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ss(this,!0)),ct.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?qr(this):this.Xa())},s.Xa=function(){qr(this)};function qr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(ne(u,"readystatechange"),mi(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var A;if(A=q===0){let ie=String(u.D).match(gu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),A=!Vi.test(ie?ie.toLowerCase():"")}b=A}if(b)ne(u,"complete"),ne(u,"success");else{u.o=6;try{var j=mi(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Hl(u)}}finally{ss(u)}}}}function ss(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||ne(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),yt(m)}};function cn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var b=du(u[A]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=m[j]||[];m[j]=q,q.push(b)}Ze(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new en,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,u),this.Za=ki("retryDelaySeedMs",1e4,u),this.Ta=ki("forwardChannelMaxRetries",2,u),this.va=ki("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ol(u&&u.concurrentRequestLimit),this.Ba=new Us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,A){ut(0),this.W=u,this.H=m||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=Ru(this,null,this.W),zi(this)};function Gl(u){if(wa(u),u.I==3){var m=u.V++,b=qt(u.J);if(rt(b,"SID",u.M),rt(b,"RID",m),rt(b,"TYPE","terminate"),Hr(u,b),m=new ci(u,u.j,m),m.M=2,m.A=jr(qt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=m.A,b=!0),b||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ri(m)}wu(u)}function qs(u){u.g&&(Kl(u),u.g.cancel(),u.g=null)}function wa(u){qs(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function zi(u){if(!Ml(u.h)&&!u.m){u.m=!0;var m=u.Ea;ot||x(),ze||(ot(),ze=!0),N.add(m,u),u.D=0}}function Ra(u,m){return Ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ct(y(u.Ea,u,m),xu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new ci(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=Eu(this,j,m),b=qt(this.J),rt(b,"RID",u),rt(b,"CVER",22),this.G&&rt(b,"X-HTTP-Session-Id",this.G),Hr(this,b),q&&(this.R?m="headers="+is(Jn(q))+"&"+m:this.u&&Pr(b,this.u,q)),Vl(this.h,j),this.Ra&&rt(b,"TYPE","init"),this.S?(rt(b,"$req",m),rt(b,"SID","null"),j.U=!0,wi(j,b,null)):wi(j,b,m),this.I=2}}else this.I==3&&(u?Fl(this,u):this.i.length==0||Ml(this.h)||Fl(this))};function Fl(u,m){var b;m?b=m.l:b=u.V++;const A=qt(u.J);rt(A,"SID",u.M),rt(A,"RID",b),rt(A,"AID",u.K),Hr(u,A),u.u&&u.o&&Pr(A,u.u,u.o),b=new ci(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vl(u.h,b),wi(b,A,m)}function Hr(u,m){u.H&&Ve(u.H,function(b,A){rt(m,A,b)}),u.l&&Ve({},function(b,A){rt(m,A,b)})}function Eu(u,m,b){b=Math.min(u.i.length,b);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let Ie=-1;for(;;){const zt=["count="+b];Ie==-1?b>0?(Ie=j[0].g,zt.push("ofs="+Ie)):Ie=0:zt.push("ofs="+Ie);let nt=!0;for(let Tt=0;Tt<b;Tt++){var q=j[Tt].g;const Wn=j[Tt].map;if(q-=Ie,q<0)Ie=Math.max(0,j[Tt].g-100),nt=!1;else try{q="req"+q+"_"||"";try{var ie=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Li,pi]of ie){let gi=pi;g(pi)&&(gi=fe(pi)),zt.push(q+Li+"="+encodeURIComponent(gi))}}catch(Li){throw zt.push(q+"type="+encodeURIComponent("_badmap")),Li}}catch{A&&A(Wn)}}if(nt){ie=zt.join("&");break e}}ie=void 0}return u=u.i.splice(0,b),m.G=u,ie}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ot||x(),ze||(ot(),ze=!0),N.add(m,u),u.A=0}}function Gr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ct(y(u.Da,u),xu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ct(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),qs(this),Au(this))};function Kl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new ci(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=qt(u.na);rt(m,"RID","rpc"),rt(m,"SID",u.M),rt(m,"AID",u.K),rt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&rt(m,"TO",u.ia),rt(m,"TYPE","xmlhttp"),Hr(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=jr(qt(m)),b.u=null,b.R=!0,va(b,u)}s.Va=function(){this.C!=null&&(this.C=null,qs(this),Gr(this),ut(19))};function Ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var b=null;if(u.g==m){Ca(u),Kl(u),u.g=null;var A=2}else if(Di(u.h,m))b=m.G,kl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=qe(),ne(A,new kt(A,b)),zi(u)}else Tu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&Ra(u,m)||A==2&&Gr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),j){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function xu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function ji(u,m){if(u.j.info("Error code "+m),m==2){var b=y(u.bb,u),A=u.Ua;const j=!A;A=new Pn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||nn(A,"https"),jr(A),j?fi(A.toString(),b):Bl(A.toString(),b)}else ut(2);u.I=0,u.l&&u.l.pa(m),wu(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=zl(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,b){var A=b instanceof Pn?qt(b):new Pn(b);if(A.g!="")m&&(A.g=m+"."+A.g),ks(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new Pn(null);A&&nn(q,A),m&&(q.g=m),j&&ks(q,j),b&&(q.h=b),A=q}return b=u.G,m=u.wa,b&&m&&rt(A,b,m),rt(A,"VER",u.ka),Hr(u,A),A}function Cu(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ct(new Mi({ab:b})):new ct(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}s=Nu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new xn(u,m)};function xn(u,m){W.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new as(this)}S(xn,W),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Gl(this.g)},xn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=fe(u),u=b);m.i.push(new Bt(m.Ya++,u)),m.I==3&&zi(m)},xn.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,xn.Z.N.call(this)};function Iu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Iu,ke);function Du(){Mt.call(this),this.status=1}S(Du,Mt);function as(u){this.g=u}S(as,Nu),as.prototype.ra=function(){ne(this.g,"a")},as.prototype.qa=function(u){ne(this.g,new Iu(u))},as.prototype.pa=function(u){ne(this.g,new Du)},as.prototype.oa=function(){ne(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,U1=function(){return new Hs},L1=function(){return qe()},j1=Je,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,Kc=kr,Il.COMPLETE="complete",z1=Il,Vs.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",W.prototype.listen=W.prototype.J,Oo=Vs,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,k1=ct}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const j_="@firebase/firestore",L_="4.9.3";let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let wl="12.7.0";const da=new Um("@firebase/firestore");function rl(){return da.logLevel}function oe(s,...e){if(da.logLevel<=Fe.DEBUG){const i=e.map($m);da.debug(`Firestore (${wl}): ${s}`,...i)}}function Ds(s,...e){if(da.logLevel<=Fe.ERROR){const i=e.map($m);da.error(`Firestore (${wl}): ${s}`,...i)}}function gl(s,...e){if(da.logLevel<=Fe.WARN){const i=e.map($m);da.warn(`Firestore (${wl}): ${s}`,...i)}}function $m(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,P1(s,a,i)}function P1(s,e,i){let a=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ds(a),new Error(a)}function st(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||P1(e,o,a)}function Ne(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class B1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(En.UNAUTHENTICATED)))}shutdown(){}}class Xx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class $x{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){st(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(st(typeof a.accessToken=="string",31837,{l:a}),new B1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class Zx{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Jx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Zx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){st(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new U_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(st(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new U_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ew(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=ew(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Ke(s,e){return s<e?-1:s>e?1:0}function pm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Jd(o)===Jd(c)?Ke(o,c):Jd(o)?1:-1}return Ke(s.length,e.length)}const tw=55296,nw=57343;function Jd(s){const e=s.charCodeAt(0);return e>=tw&&e<=nw}function yl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const P_="__name__";class Hi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ae(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Hi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ke(e.length,i.length)}static compareSegments(e,i){const a=Hi.isNumericId(e),o=Hi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Hi.extractNumericId(e).compare(Hi.extractNumericId(i)):pm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class wt extends Hi{construct(e,i,a){return new wt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new wt(i)}static emptyPath(){return new wt([])}}const iw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Hi{construct(e,i,a){return new yn(e,i,a)}static isValidIdentifier(e){return iw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new yn([P_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(i)}static emptyPath(){return new yn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(wt.fromString(e))}static fromName(e){return new be(wt.fromString(e).popFirst(5))}static empty(){return new be(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new wt(e.slice()))}}function sw(s,e,i){if(!i)throw new pe(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function rw(s,e,i,a){if(e===!0&&a===!0)throw new pe(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function B_(s){if(!be.isDocumentKey(s))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function q1(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function Ei(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jm(s);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Yt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ru(s,e){if(!q1(s))throw new pe(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new pe(Z.INVALID_ARGUMENT,i);return!0}const q_=-62135596800,H_=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*H_);return new Et(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<q_)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:Yt("string",Et._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Et(0,0))}static max(){return new Re(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Go=-1;function aw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new Et(i+1,0):new Et(i,a));return new Sr(o,be.empty(),e)}function lw(s){return new Sr(s.readTime,s.key,Go)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(Re.min(),be.empty(),Go)}static max(){return new Sr(Re.max(),be.empty(),Go)}}function ow(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=be.comparator(s.documentKey,e.documentKey),i!==0?i:Ke(s.largestBatchId,e.largestBatchId))}const uw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rl(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==uw)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((E=>{d[y]=E,++g,g===c&&a(d)}),(E=>o(E)))}}))}static doWhile(e,i){return new X(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function hw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Cl(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const Wm=-1;function xh(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function fw(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const H1="";function dw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=G_(e)),e=mw(s.get(i),e);return G_(e)}function mw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case H1:i+="";break;default:i+=c}}return i}function G_(s){return s+H1+""}function F_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ir(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function G1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Rt{constructor(e,i){this.comparator=e,this.root=i||gn.EMPTY}insert(e,i){return new Rt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??gn.RED,this.left=o??gn.EMPTY,this.right=c??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new gn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new gn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Jt(this.comparator);return i.data=e,i}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Yn([])}unionWith(e){let i=new Jt(yn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class F1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new F1("Invalid base64 string: "+c):c}})(e);return new _n(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new _n(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const pw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(s){if(st(!!s,39018),typeof s=="string"){let e=0;const i=pw.exec(s);if(st(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ut(s.seconds),nanos:Ut(s.nanos)}}function Ut(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?_n.fromBase64String(s):_n.fromUint8Array(s)}const K1="server_timestamp",Q1="__type__",Y1="__previous_value__",X1="__local_write_time__";function ep(s){return(s?.mapValue?.fields||{})[Q1]?.stringValue===K1}function wh(s){const e=s.mapValue.fields[Y1];return ep(e)?wh(e):e}function Fo(s){const e=xr(s.mapValue.fields[X1].timestampValue);return new Et(e.seconds,e.nanos)}class gw{constructor(e,i,a,o,c,d,g,_,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=E}}const uh="(default)";class Ko{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}const $1="__type__",yw="__max__",Lc={mapValue:{}},Z1="__vector__",ch="value";function Rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ep(s)?4:vw(s)?9007199254740991:_w(s)?10:11:Ae(28295,{value:s})}function Zi(s,e){if(s===e)return!0;const i=Rr(s);if(i!==Rr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fo(s).isEqual(Fo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=xr(o.timestampValue),g=xr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return wr(o.bytesValue).isEqual(wr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ut(o.geoPointValue.latitude)===Ut(c.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ut(o.integerValue)===Ut(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ut(o.doubleValue),g=Ut(c.doubleValue);return d===g?oh(d)===oh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return yl(s.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(F_(d)!==F_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Zi(d[_],g[_])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Qo(s,e){return(s.values||[]).find((i=>Zi(i,e)))!==void 0}function _l(s,e){if(s===e)return 0;const i=Rr(s),a=Rr(e);if(i!==a)return Ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Ut(c.integerValue||c.doubleValue),_=Ut(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return Q_(s.timestampValue,e.timestampValue);case 4:return Q_(Fo(s),Fo(e));case 5:return pm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=wr(c),_=wr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const E=Ke(g[y],_[y]);if(E!==0)return E}return Ke(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ke(Ut(c.latitude),Ut(d.latitude));return g!==0?g:Ke(Ut(c.longitude),Ut(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Y_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[ch]?.arrayValue,E=_[ch]?.arrayValue,S=Ke(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Y_(y,E)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},E=Object.keys(y);_.sort(),E.sort();for(let S=0;S<_.length&&S<E.length;++S){const I=pm(_[S],E[S]);if(I!==0)return I;const G=_l(g[_[S]],y[E[S]]);if(G!==0)return G}return Ke(_.length,E.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function Q_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ke(s,e);const i=xr(s),a=xr(e),o=Ke(i.seconds,a.seconds);return o!==0?o:Ke(i.nanos,a.nanos)}function Y_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=_l(i[o],a[o]);if(c)return c}return Ke(i.length,a.length)}function vl(s){return gm(s)}function gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=xr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return wr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return be.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=gm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${gm(i.fields[d])}`;return o+"}"})(s.mapValue):Ae(61005,{value:s})}function Qc(s){switch(Rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return Ir(a.fields,((c,d)=>{o+=c.length+Qc(d)})),o})(s.mapValue);default:throw Ae(13486,{value:s})}}function ym(s){return!!s&&"integerValue"in s}function tp(s){return!!s&&"arrayValue"in s}function X_(s){return!!s&&"nullValue"in s}function $_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function _w(s){return(s?.mapValue?.fields||{})[$1]?.stringValue===Z1}function Lo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ir(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Lo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Lo(s.arrayValue.values[i]);return e}return{...s}}function vw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===yw}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(i)}setAll(e){let i=yn.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Lo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ir(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Ln(Lo(this.value))}}function J1(s){const e=[];return Ir(s.fields,((i,a)=>{const o=new yn([i]);if(Yc(a)){const c=J1(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Yn(e)}class Tn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Tn(e,0,Re.min(),Re.min(),Re.min(),Ln.empty(),0)}static newFoundDocument(e,i,a,o){return new Tn(e,1,i,Re.min(),a,o,0)}static newNoDocument(e,i){return new Tn(e,2,i,Re.min(),Re.min(),Ln.empty(),0)}static newUnknownDocument(e,i){return new Tn(e,3,i,Re.min(),Re.min(),Ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,i){this.position=e,this.inclusive=i}}function Z_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=be.comparator(be.fromName(d.referenceValue),i.key):a=_l(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function J_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Zi(s.position[i],e.position[i]))return!1;return!0}class fh{constructor(e,i="asc"){this.field=e,this.dir=i}}function bw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class W1{}class Zt extends W1{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Tw(e,i,a):i==="array-contains"?new xw(e,a):i==="in"?new ww(e,a):i==="not-in"?new Rw(e,a):i==="array-contains-any"?new Cw(e,a):new Zt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Aw(e,a):new Sw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_l(i,this.value)):i!==null&&Rr(this.value)===Rr(i)&&this.matchesComparison(_l(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends W1{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ji(e,i)}matches(e){return eb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eb(s){return s.op==="and"}function tb(s){return Ew(s)&&eb(s)}function Ew(s){for(const e of s.filters)if(e instanceof Ji)return!1;return!0}function _m(s){if(s instanceof Zt)return s.field.canonicalString()+s.op.toString()+vl(s.value);if(tb(s))return s.filters.map((e=>_m(e))).join(",");{const e=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${e})`}}function nb(s,e){return s instanceof Zt?(function(a,o){return o instanceof Zt&&a.op===o.op&&a.field.isEqual(o.field)&&Zi(a.value,o.value)})(s,e):s instanceof Ji?(function(a,o){return o instanceof Ji&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&nb(d,o.filters[g])),!0):!1})(s,e):void Ae(19439)}function ib(s){return s instanceof Zt?(function(i){return`${i.field.canonicalString()} ${i.op} ${vl(i.value)}`})(s):s instanceof Ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(ib).join(" ,")+"}"})(s):"Filter"}class Tw extends Zt{constructor(e,i,a){super(e,i,a),this.key=be.fromName(a.referenceValue)}matches(e){const i=be.comparator(e.key,this.key);return this.matchesComparison(i)}}class Aw extends Zt{constructor(e,i){super(e,"in",i),this.keys=sb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Sw extends Zt{constructor(e,i){super(e,"not-in",i),this.keys=sb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function sb(s,e){return(e.arrayValue?.values||[]).map((i=>be.fromName(i.referenceValue)))}class xw extends Zt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tp(i)&&Qo(i.arrayValue,this.value)}}class ww extends Zt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class Rw extends Zt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class Cw extends Zt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tp(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}class Nw{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function W_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new Nw(s,e,i,a,o,c,d)}function np(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>_m(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>vl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>vl(a))).join(",")),e.Te=i}return e.Te}function ip(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!bw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!nb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!J_(s.startAt,e.startAt)&&J_(s.endAt,e.endAt)}function vm(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Rh{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Iw(s,e,i,a,o,c,d,g){return new Rh(s,e,i,a,o,c,d,g)}function Ch(s){return new Rh(s)}function ev(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Dw(s){return s.collectionGroup!==null}function Uo(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Jt(yn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new fh(c,a))})),i.has(yn.keyField().canonicalString())||e.Ie.push(new fh(yn.keyField(),a))}return e.Ie}function Qi(s){const e=Ne(s);return e.Ee||(e.Ee=Ow(e,Uo(s))),e.Ee}function Ow(s,e){if(s.limitType==="F")return W_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new fh(o.field,c)}));const i=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return W_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function bm(s,e,i){return new Rh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nh(s,e){return ip(Qi(s),Qi(e))&&s.limitType===e.limitType}function rb(s){return`${np(Qi(s))}|lt:${s.limitType}`}function al(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>ib(o))).join(", ")}]`),xh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>vl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>vl(o))).join(",")),`Target(${a})`})(Qi(s))}; limitType=${s.limitType})`}function Ih(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):be.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Uo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=Z_(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Uo(a),o)||a.endAt&&!(function(d,g,_){const y=Z_(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Uo(a),o))})(s,e)}function Mw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ab(s){return(e,i)=>{let a=!1;for(const o of Uo(s)){const c=Vw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Vw(s,e,i){const a=s.field.isKeyField()?be.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?_l(_,y):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:s.dir})}}class ga{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ir(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return G1(this.inner)}size(){return this.innerSize}}const kw=new Rt(be.comparator);function Os(){return kw}const lb=new Rt(be.comparator);function Mo(...s){let e=lb;for(const i of s)e=e.insert(i.key,i);return e}function ob(s){let e=lb;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ua(){return Po()}function ub(){return Po()}function Po(){return new ga((s=>s.toString()),((s,e)=>s.isEqual(e)))}const zw=new Rt(be.comparator),jw=new Jt(be.comparator);function Qe(...s){let e=jw;for(const i of s)e=e.add(i);return e}const Lw=new Jt(Ke);function Uw(){return Lw}function sp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function cb(s){return{integerValue:""+s}}function Pw(s,e){return fw(e)?cb(e):sp(s,e)}class Dh{constructor(){this._=void 0}}function Bw(s,e,i){return s instanceof dh?(function(o,c){const d={fields:{[Q1]:{stringValue:K1},[X1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&ep(c)&&(c=wh(c)),c&&(d.fields[Y1]=c),{mapValue:d}})(i,e):s instanceof bl?fb(s,e):s instanceof Yo?db(s,e):(function(o,c){const d=hb(o,c),g=tv(d)+tv(o.Ae);return ym(d)&&ym(o.Ae)?cb(g):sp(o.serializer,g)})(s,e)}function qw(s,e,i){return s instanceof bl?fb(s,e):s instanceof Yo?db(s,e):i}function hb(s,e){return s instanceof mh?(function(a){return ym(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class dh extends Dh{}class bl extends Dh{constructor(e){super(),this.elements=e}}function fb(s,e){const i=mb(e);for(const a of s.elements)i.some((o=>Zi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Yo extends Dh{constructor(e){super(),this.elements=e}}function db(s,e){let i=mb(e);for(const a of s.elements)i=i.filter((o=>!Zi(o,a)));return{arrayValue:{values:i}}}class mh extends Dh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function tv(s){return Ut(s.integerValue||s.doubleValue)}function mb(s){return tp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Hw{constructor(e,i){this.field=e,this.transform=i}}function Gw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof bl&&o instanceof bl||a instanceof Yo&&o instanceof Yo?yl(a.elements,o.elements,Zi):a instanceof mh&&o instanceof mh?Zi(a.Ae,o.Ae):a instanceof dh&&o instanceof dh})(s.transform,e.transform)}class Fw{constructor(e,i){this.version=e,this.transformResults=i}}class Ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Oh{}function pb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new rp(s.key,Ti.none()):new au(s.key,s.data,Ti.none());{const i=s.data,a=Ln.empty();let o=new Jt(yn.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Dr(s.key,a,new Yn(o.toArray()),Ti.none())}}function Kw(s,e,i){s instanceof au?(function(o,c,d){const g=o.value.clone(),_=iv(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Dr?(function(o,c,d){if(!Xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=iv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(gb(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Bo(s,e,i,a){return s instanceof au?(function(c,d,g,_){if(!Xc(c.precondition,d))return g;const y=c.value.clone(),E=sv(c.fieldTransforms,_,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof Dr?(function(c,d,g,_){if(!Xc(c.precondition,d))return g;const y=sv(c.fieldTransforms,_,d),E=d.data;return E.setAll(gb(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,g){return Xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Qw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=hb(a.transform,o||null);c!=null&&(i===null&&(i=Ln.empty()),i.set(a.field,c))}return i||null}function nv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&yl(a,o,((c,d)=>Gw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends Oh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends Oh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function gb(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function iv(s,e,i){const a=new Map;st(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,qw(d,g,i[o]))}return a}function sv(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Bw(c,d,e))}return a}class rp extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yw extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Kw(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=ub();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=pb(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((i,a)=>nv(i,a)))&&yl(this.baseMutations,e.baseMutations,((i,a)=>nv(i,a)))}}class ap{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){st(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return zw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new ap(e,i,a,o)}}class $w{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Zw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Qt,$e;function Jw(s){switch(s){case Z.OK:return Ae(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function yb(s){if(s===void 0)return Ds("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Qt.OK:return Z.OK;case Qt.CANCELLED:return Z.CANCELLED;case Qt.UNKNOWN:return Z.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return Z.INTERNAL;case Qt.UNAVAILABLE:return Z.UNAVAILABLE;case Qt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Qt.NOT_FOUND:return Z.NOT_FOUND;case Qt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Qt.ABORTED:return Z.ABORTED;case Qt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Qt.DATA_LOSS:return Z.DATA_LOSS;default:return Ae(39323,{code:s})}}($e=Qt||(Qt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function Ww(){return new TextEncoder}const eR=new Er([4294967295,4294967295],0);function rv(s){const e=Ww().encode(s),i=new V1;return i.update(e),new Uint8Array(i.digest())}function av(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Er([i,a],0),new Er([o,c],0)]}class lp{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Vo(`Invalid padding: ${i}`);if(a<0)throw new Vo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Er.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Er.fromNumber(a)));return o.compare(eR)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=rv(e),[a,o]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new lp(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=rv(e),[a,o]=av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Mh(Re.min(),o,new Rt(Ke),Os(),Qe())}}class lu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,Qe(),Qe(),Qe())}}class $c{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class _b{constructor(e,i){this.targetId=e,this.Ce=i}}class vb{constructor(e,i,a=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class lv{constructor(){this.ve=0,this.Fe=ov(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),i=Qe(),a=Qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ae(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=ov()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=Uc(),this.He=Uc(),this.Ye=new Rt(Ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(vm(c))if(a===0){const d=new be(c.path);this.et(i,d,Tn.newNoDocument(d,Re.min()))}else st(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=wr(a).toUint8Array()}catch(_){if(_ instanceof F1)return gl("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new lp(d,o,c)}catch(_){return gl(_ instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&vm(g.target)){const _=new be(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Tn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Qe();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Mh(e,i,this.Ye,this.je,a);return this.je=Os(),this.Je=Uc(),this.He=Uc(),this.Ye=new Rt(Ke),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new lv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Jt(Ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Jt(Ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Uc(){return new Rt(be.comparator)}function ov(){return new Rt(be.comparator)}const nR={asc:"ASCENDING",desc:"DESCENDING"},iR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sR={and:"AND",or:"OR"};class rR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Em(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function ph(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function aR(s,e){return ph(s,e.toTimestamp())}function Yi(s){return st(!!s,49232),Re.fromTimestamp((function(i){const a=xr(i);return new Et(a.seconds,a.nanos)})(s))}function op(s,e){return Tm(s,e).canonicalString()}function Tm(s,e){const i=(function(o){return new wt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Eb(s){const e=wt.fromString(s);return st(wb(e),10190,{key:e.toString()}),e}function Am(s,e){return op(s.databaseId,e.path)}function Wd(s,e){const i=Eb(e);if(i.get(1)!==s.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new be(Ab(i))}function Tb(s,e){return op(s.databaseId,e)}function lR(s){const e=Eb(s);return e.length===4?wt.emptyPath():Ab(e)}function Sm(s){return new wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ab(s){return st(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function uv(s,e,i){return{name:Am(s,e),fields:i.value.mapValue.fields}}function oR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(st(E===void 0||typeof E=="string",58123),_n.fromBase64String(E||"")):(st(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),_n.fromUint8Array(E||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const E=y.code===void 0?Z.UNKNOWN:yb(y.code);return new pe(E,y.message||"")})(d);i=new vb(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Wd(s,a.document.name),c=Yi(a.document.updateTime),d=a.document.createTime?Yi(a.document.createTime):Re.min(),g=new Ln({mapValue:{fields:a.document.fields}}),_=Tn.newFoundDocument(o,c,d,g),y=a.targetIds||[],E=a.removedTargetIds||[];i=new $c(y,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Wd(s,a.document),c=a.readTime?Yi(a.readTime):Re.min(),d=Tn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new $c([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Wd(s,a.document),c=a.removedTargetIds||[];i=new $c([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Zw(o,c),g=a.targetId;i=new _b(g,d)}}return i}function uR(s,e){let i;if(e instanceof au)i={update:uv(s,e.key,e.value)};else if(e instanceof rp)i={delete:Am(s,e.key)};else if(e instanceof Dr)i={update:uv(s,e.key,e.data),updateMask:_R(e.fieldMask)};else{if(!(e instanceof Yw))return Ae(16599,{Vt:e.type});i={verify:Am(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof dh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:aR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function cR(s,e){return s&&s.length>0?(st(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Yi(o.updateTime):Yi(c);return d.isEqual(Re.min())&&(d=Yi(c)),new Fw(d,o.transformResults||[])})(i,e)))):[]}function hR(s,e){return{documents:[Tb(s,e.path)]}}function fR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Tb(s,o);const c=(function(y){if(y.length!==0)return xb(Ji.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((E=>(function(I){return{field:ll(I.field),direction:pR(I.dir)}})(E)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Em(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function dR(s){let e=lR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){st(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=(function(S){const I=Sb(S);return I instanceof Ji&&tb(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((I=>(function($){return new fh(ol($.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(I)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let I;return I=typeof S=="object"?S.value:S,xh(I)?null:I})(i.limit));let _=null;i.startAt&&(_=(function(S){const I=!!S.before,G=S.values||[];return new hh(G,I)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const I=!S.before,G=S.values||[];return new hh(G,I)})(i.endAt)),Iw(e,o,d,c,g,"F",_,y)}function mR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Sb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ol(i.unaryFilter.field);return Zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(i.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(i.unaryFilter.field);return Zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(i.unaryFilter.field);return Zt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Zt.create(ol(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ji.create(i.compositeFilter.filters.map((a=>Sb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function pR(s){return nR[s]}function gR(s){return iR[s]}function yR(s){return sR[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return yn.fromServerFormat(s.fieldPath)}function xb(s){return s instanceof Zt?(function(i){if(i.op==="=="){if($_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NAN"}};if(X_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NAN"}};if(X_(i.value))return{unaryFilter:{field:ll(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(i.field),op:gR(i.op),value:i.value}}})(s):s instanceof Ji?(function(i){const a=i.getFilters().map((o=>xb(o)));return a.length===1?a[0]:{compositeFilter:{op:yR(i.op),filters:a}}})(s):Ae(54877,{filter:s})}function _R(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function wb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class yr{constructor(e,i,a,o,c=Re.min(),d=Re.min(),g=_n.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vR{constructor(e){this.yt=e}}function bR(s){const e=dR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(e,e.limit,"L"):e}class ER{constructor(){this.Cn=new TR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Sr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class TR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Jt(wt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Jt(wt.comparator)).toArray()}}const cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rb=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(Rb,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}const hv="LruGarbageCollector",AR=1048576;function fv([s,e],[i,a]){const o=Ke(s,i);return o===0?Ke(e,a):o}class SR{constructor(e){this.Ir=e,this.buffer=new Jt(fv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();fv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(hv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Cl(i)?oe(hv,"Ignoring IndexedDB error during garbage collection: ",i):await Rl(i)}await this.Vr(3e5)}))}}class wR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Sh.ce);const a=new SR(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(cv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,c,d,g,_,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(y=Date.now(),rl()<=Fe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function RR(s,e){return new wR(s,e)}class CR{constructor(){this.changes=new ga((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class NR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class IR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Bo(a.mutation,o,Yn.empty(),Et.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Qe()){const o=ua();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=Mo();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ua();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=Os();const d=Po(),g=(function(){return Po()})();return i.forEach(((_,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Dr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Bo(E.mutation,y,E.mutation.getFieldMask(),Et.now())):d.set(y.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,E)=>d.set(y,E))),i.forEach(((y,E)=>g.set(y,new NR(E,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Po();let o=new Rt(((d,g)=>d-g)),c=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let E=a.get(_)||Yn.empty();E=g.applyToLocalView(y,E),a.set(_,E);const S=(o.get(g.batchId)||Qe()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,E=_.value,S=ub();E.forEach((I=>{if(!c.has(I)){const G=pb(i.get(I),a.get(I));G!==null&&S.set(I,G),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Dw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):X.resolve(ua());let g=Go,_=c;return d.next((y=>X.forEach(y,((E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{_=_.insert(E,I)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Qe()))).next((E=>({batchId:g,changes:ob(E)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new be(i)).next((a=>{let o=Mo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=Mo();return this.indexManager.getCollectionParents(e,c).next((g=>X.forEach(g,(_=>{const y=(function(S,I){return new Rh(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((E=>{E.forEach(((S,I)=>{d=d.insert(S,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Tn.newInvalidDocument(E)))}));let g=Mo();return d.forEach(((_,y)=>{const E=c.get(_);E!==void 0&&Bo(E.mutation,y,Yn.empty(),Et.now()),Ih(i,y)&&(g=g.insert(_,y))})),g}))}}class DR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:bR(o.bundledQuery),readTime:Yi(o.readTime)}})(i)),X.resolve()}}class OR{constructor(){this.overlays=new Rt(be.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ua();return X.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const o=ua(),c=i.length+1,d=new be(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new Rt(((y,E)=>y-E));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=ua(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ua(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=o)););return X.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new $w(i,a));let c=this.qr.get(i);c===void 0&&(c=Qe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class MR{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class up{constructor(){this.Qr=new Jt(on.$r),this.Ur=new Jt(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new on(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new on(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new be(new wt([])),a=new on(i,e),o=new on(i,e+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new be(new wt([])),a=new on(i,e),o=new on(i,e+1);let c=Qe();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new on(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class on{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return be.comparator(e.key,i.key)||Ke(e.Yr,i.Yr)}static Kr(e,i){return Ke(e.Yr,i.Yr)||be.comparator(e.key,i.key)}}class VR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(on.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Xw(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new on(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Jt(Ke);return i.forEach((o=>{const c=new on(o,0),d=new on(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;be.isDocumentKey(c)||(c=c.child(""));const d=new on(new be(c),0);let g=new Jt(Ke);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){st(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new on(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new on(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class kR{constructor(e){this.ri=e,this.docs=(function(){return new Rt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Tn.newInvalidDocument(i))}getEntries(e,i){let a=Os();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Tn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Os();const d=i.path,g=new be(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:E}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||ow(lw(E),a)<=0||(o.has(E.key)||Ih(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ae(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new zR(this)}getSize(e){return X.resolve(this.size)}}class zR extends CR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class jR{constructor(e){this.persistence=e,this.si=new ga((i=>np(i)),ip),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new up,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new El(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class Cb{constructor(e,i){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new MR,this.referenceDelegate=e(this),this.Pi=new jR(this),this.indexManager=new ER,this.remoteDocumentCache=(function(o){return new kR(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new vR(i),this.Ii=new DR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new OR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new VR(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new LR(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class LR extends cw{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Ri=new up,this.Vi=null}static mi(e){return new cp(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=be.fromPath(a);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class gh{constructor(e,i){this.persistence=e,this.pi=new ga((a=>dw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=RR(this,i)}static mi(e,i){return new gh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Re.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hp{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Qe(),o=Qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hp(e,i.fromCache,a,o)}}class UR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wA()?8:hw(An())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new UR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(rl()<=Fe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",al(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(rl()<=Fe.DEBUG&&oe("QueryEngine","Query:",al(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(rl()<=Fe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",al(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(i))):X.resolve())}ys(e,i){if(ev(i))return X.resolve(null);let a=Qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=bm(i,null,"F"),a=Qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Qe(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(e,bm(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,o){return ev(i)||o.isEqual(Re.min())?X.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(rl()<=Fe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),al(i)),this.vs(e,d,i,aw(o,Go)).next((g=>g)))}))}Ds(e,i){let a=new Jt(ab(e));return i.forEach(((o,c)=>{Ih(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,a){return rl()<=Fe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",al(i)),this.ps.getDocumentsMatchingQuery(e,i,Sr.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fp="LocalStore",BR=3e8;class qR{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Rt(Ke),this.xs=new ga((c=>np(c)),ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function HR(s,e,i,a){return new qR(s,e,i,a)}async function Nb(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Qe();for(const y of o){d.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)_=_.add(E.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function GR(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,E){const S=y.batch,I=S.keys();let G=X.resolve();return I.forEach(($=>{G=G.next((()=>E.getEntry(_,$))).next((te=>{const ee=y.docVersions.get($);st(ee!==null,48541),te.version.compareTo(ee)<0&&(S.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),E.addEntry(te)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Qe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Ib(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function FR(s,e){const i=Ne(s),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((E,S)=>{const I=o.get(S);if(!I)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,S))));let G=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?G=G.withResumeToken(_n.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,a)),o=o.insert(S,G),(function(te,ee,_e){return te.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=BR?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(I,G,E)&&g.push(i.Pi.updateTargetData(c,G))}));let _=Os(),y=Qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(KR(c,d,e.documentUpdates).next((E=>{_=E.ks,y=E.qs}))),!a.isEqual(Re.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(E)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function KR(s,e,i){let a=Qe(),o=Qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Os();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Re.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):oe(fp,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function QR(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function YR(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function xm(s,e,i){const a=Ne(s),o=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Cl(d))throw d;oe(fp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function dv(s,e,i){const a=Ne(s);let o=Re.min(),c=Qe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,E){const S=Ne(_),I=S.xs.get(E);return I!==void 0?X.resolve(S.Ms.get(I)):S.Pi.getTargetData(y,E)})(a,d,Qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:Re.min(),i?c:Qe()))).next((g=>(XR(a,Mw(e),g),{documents:g,Qs:c})))))}function XR(s,e,i){let a=s.Os.get(e)||Re.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class mv{constructor(){this.activeTargetIds=Uw()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $R{constructor(){this.Mo=new mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZR{Oo(e){}shutdown(){}}const pv="ConnectivityMonitor";class gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(pv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(pv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function wm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const em="RestConnection",JR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===uh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,c){const d=wm(),g=this.zo(e,i.toUriEncodedString());oe(em,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(g),E=Al(y);return this.Jo(e,g,_,a,E).then((S=>(oe(em,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw gl(em,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(e,i,a,o,c,d){return this.Go(e,i,a,o,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const a=JR[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class eC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const bn="WebChannelConnection";class tC extends WR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=wm();return new Promise(((g,_)=>{const y=new k1;y.setWithCredentials(!0),y.listenOnce(z1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Kc.NO_ERROR:const S=y.getResponseJson();oe(bn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case Kc.TIMEOUT:oe(bn,`RPC '${e}' ${d} timed out`),_(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const I=y.getStatus();if(oe(bn,`RPC '${e}' ${d} failed with status:`,I,"response text:",y.getResponseText()),I>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const te=(function(_e){const Te=_e.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Te)>=0?Te:Z.UNKNOWN})($.status);_(new pe(te,$.message))}else _(new pe(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(bn,`RPC '${e}' ${d} completed.`)}}));const E=JSON.stringify(o);oe(bn,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,a,15)}))}T_(e,i,a){const o=wm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=U1(),g=L1(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const E=c.join("");oe(bn,`Creating RPC '${e}' stream ${o}: ${E}`,_);const S=d.createWebChannel(E,_);this.I_(S);let I=!1,G=!1;const $=new eC({Yo:ee=>{G?oe(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(I||(oe(bn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),oe(bn,`RPC '${e}' stream ${o} sending:`,ee),S.send(ee))},Zo:()=>S.close()}),te=(ee,_e,Te)=>{ee.listen(_e,(ge=>{try{Te(ge)}catch(Pe){setTimeout((()=>{throw Pe}),0)}}))};return te(S,Oo.EventType.OPEN,(()=>{G||(oe(bn,`RPC '${e}' stream ${o} transport opened.`),$.o_())})),te(S,Oo.EventType.CLOSE,(()=>{G||(G=!0,oe(bn,`RPC '${e}' stream ${o} transport closed`),$.a_(),this.E_(S))})),te(S,Oo.EventType.ERROR,(ee=>{G||(G=!0,gl(bn,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),$.a_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))})),te(S,Oo.EventType.MESSAGE,(ee=>{if(!G){const _e=ee.data[0];st(!!_e,16349);const Te=_e,ge=Te?.error||Te[0]?.error;if(ge){oe(bn,`RPC '${e}' stream ${o} received error:`,ge);const Pe=ge.status;let ot=(function(x){const w=Qt[x];if(w!==void 0)return yb(w)})(Pe),ze=ge.message;ot===void 0&&(ot=Z.INTERNAL,ze="Unknown error status: "+Pe+" with message "+ge.message),G=!0,$.a_(new pe(ot,ze)),S.close()}else oe(bn,`RPC '${e}' stream ${o} received:`,_e),$.u_(_e)}})),te(g,j1.STAT_EVENT,(ee=>{ee.stat===mm.PROXY?oe(bn,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===mm.NOPROXY&&oe(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function tm(){return typeof document<"u"?document:null}function Vh(s){return new rR(s,!0)}class Db{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const yv="PersistentStream";class Ob{constructor(e,i,a,o,c,d,g,_){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Db(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ds(i.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new pe(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(yv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(oe(yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nC extends Ob{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=oR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Re.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?Yi(d.readTime):Re.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=Sm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=vm(_)?{documents:hR(c,_)}:{query:fR(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=bb(c,d.resumeToken);const y=Em(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){g.readTime=ph(c,d.snapshotVersion.toTimestamp());const y=Em(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=mR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=Sm(this.serializer),i.removeTarget=e,this.q_(i)}}class iC extends Ob{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=cR(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Sm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>uR(this.serializer,a)))};this.q_(i)}}class sC{}class rC extends sC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Tm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Tm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class lC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ya(this)&&(oe(ma,"Restarting streams for network reachability change."),await(async function(_){const y=Ne(_);y.Ea.add(4),await ou(y),y.Ra.set("Unknown"),y.Ea.delete(4),await kh(y)})(this))}))})),this.Ra=new aC(a,o)}}async function kh(s){if(ya(s))for(const e of s.da)await e(!0)}async function ou(s){for(const e of s.da)await e(!1)}function Mb(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),gp(i)?pp(i):Nl(i).O_()&&mp(i,e))}function dp(s,e){const i=Ne(s),a=Nl(i);i.Ia.delete(e),a.O_()&&Vb(i,e),i.Ia.size===0&&(a.O_()?a.L_():ya(i)&&i.Ra.set("Unknown"))}function mp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Nl(s).Y_(e)}function Vb(s,e){s.Va.Ue(e),Nl(s).Z_(e)}function pp(s){s.Va=new tR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Nl(s).start(),s.Ra.ua()}function gp(s){return ya(s)&&!Nl(s).x_()&&s.Ia.size>0}function ya(s){return Ne(s).Ea.size===0}function kb(s){s.Va=void 0}async function oC(s){s.Ra.set("Online")}async function uC(s){s.Ia.forEach(((e,i)=>{mp(s,e)}))}async function cC(s,e){kb(s),gp(s)?(s.Ra.ha(e),pp(s)):s.Ra.set("Unknown")}async function hC(s,e,i){if(s.Ra.set("Online"),e instanceof vb&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(a){oe(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yh(s,a)}else if(e instanceof $c?s.Va.Ze(e):e instanceof _b?s.Va.st(e):s.Va.tt(e),!i.isEqual(Re.min()))try{const a=await Ib(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const E=c.Ia.get(_);if(!E)return;c.Ia.set(_,E.withResumeToken(_n.EMPTY_BYTE_STRING,E.snapshotVersion)),Vb(c,_);const S=new yr(E.target,_,y,E.sequenceNumber);mp(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){oe(ma,"Failed to raise snapshot:",a),await yh(s,a)}}async function yh(s,e,i){if(!Cl(e))throw e;s.Ea.add(1),await ou(s),s.Ra.set("Offline"),i||(i=()=>Ib(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ma,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await kh(s)}))}function zb(s,e){return e().catch((i=>yh(s,i,e)))}async function zh(s){const e=Ne(s),i=Cr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;fC(e);)try{const o=await QR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,dC(e,o)}catch(o){await yh(e,o)}jb(e)&&Lb(e)}function fC(s){return ya(s)&&s.Ta.length<10}function dC(s,e){s.Ta.push(e);const i=Cr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function jb(s){return ya(s)&&!Cr(s).x_()&&s.Ta.length>0}function Lb(s){Cr(s).start()}async function mC(s){Cr(s).ra()}async function pC(s){const e=Cr(s);for(const i of s.Ta)e.ea(i.mutations)}async function gC(s,e,i){const a=s.Ta.shift(),o=ap.from(a,e,i);await zb(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await zh(s)}async function yC(s,e){e&&Cr(s).X_&&await(async function(a,o){if((function(d){return Jw(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();Cr(a).B_(),await zb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await zh(a)}})(s,e),jb(s)&&Lb(s)}async function _v(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),oe(ma,"RemoteStore received new credentials");const a=ya(i);i.Ea.add(3),await ou(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await kh(i)}async function _C(s,e){const i=Ne(s);e?(i.Ea.delete(2),await kh(i)):e||(i.Ea.add(2),await ou(i),i.Ra.set("Unknown"))}function Nl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ne(i);return c.sa(),new nC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:oC.bind(null,s),t_:uC.bind(null,s),r_:cC.bind(null,s),H_:hC.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),gp(s)?pp(s):s.Ra.set("Unknown")):(await s.ma.stop(),kb(s))}))),s.ma}function Cr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ne(i);return c.sa(),new iC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:mC.bind(null,s),r_:yC.bind(null,s),ta:pC.bind(null,s),na:gC.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ma,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yp{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new yp(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(s,e){if(Ds("AsyncQueue",`${e}: ${s}`),Cl(s))return new pe(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||be.comparator(i.key,a.key):(i,a)=>be.comparator(i.key,a.key),this.keyedMap=Mo(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new dl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class vv{constructor(){this.ga=new Rt(be.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Tl{constructor(e,i,a,o,c,d,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Tl(e,i,dl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class vC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bC{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ne(i),c=o.queries;o.queries=bv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function bv(){return new ga((s=>rb(s)),Nh)}async function Ub(s,e){const i=Ne(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new vC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=_p(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&vp(i)}async function Pb(s,e){const i=Ne(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function EC(s,e){const i=Ne(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&vp(i)}function TC(s,e,i){const a=Ne(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(e)}function vp(s){s.Ca.forEach((e=>{e.next()}))}var Rm,Ev;(Ev=Rm||(Rm={})).Ma="default",Ev.Cache="cache";class Bb{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Tl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}class qb{constructor(e){this.key=e}}class Hb{constructor(e){this.key=e}}class AC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=ab(e),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new vv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const I=o.get(E),G=Ih(this.query,S)?S:null,$=!!I&&this.mutatedKeys.has(I.key),te=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ee=!1;I&&G?I.data.isEqual(G.data)?$!==te&&(a.track({type:3,doc:G}),ee=!0):this.su(I,G)||(a.track({type:2,doc:G}),ee=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(g=!0)):!I&&G?(a.track({type:0,doc:G}),ee=!0):I&&!G&&(a.track({type:1,doc:I}),ee=!0,(_||y)&&(g=!0)),ee&&(G?(d=d.add(G),c=te?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((E,S)=>(function(G,$){const te=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:ee})}};return te(G)-te($)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Tl(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Hb(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new qb(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bp="SyncEngine";class SC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class xC{constructor(e){this.key=e,this.hu=!1}}class wC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga((g=>rb(g)),Nh),this.Iu=new Map,this.Eu=new Set,this.du=new Rt(be.comparator),this.Au=new Map,this.Ru=new up,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RC(s,e,i=!0){const a=Xb(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Gb(a,e,i,!0),o}async function CC(s,e){const i=Xb(s);await Gb(i,e,!0,!1)}async function Gb(s,e,i,a){const o=await YR(s.localStore,Qi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await NC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Mb(s.remoteStore,o),g}async function NC(s,e,i,a,o){s.pu=(S,I,G)=>(async function(te,ee,_e,Te){let ge=ee.view.ru(_e);ge.Cs&&(ge=await dv(te.localStore,ee.query,!1).then((({documents:N})=>ee.view.ru(N,ge))));const Pe=Te&&Te.targetChanges.get(ee.targetId),ot=Te&&Te.targetMismatches.get(ee.targetId)!=null,ze=ee.view.applyChanges(ge,te.isPrimaryClient,Pe,ot);return Av(te,ee.targetId,ze.au),ze.snapshot})(s,S,I,G);const c=await dv(s.localStore,e,!0),d=new AC(e,c.Qs),g=d.ru(c.documents),_=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,_);Av(s,i,y.au);const E=new SC(e,i,d);return s.Tu.set(e,E),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function IC(s,e,i){const a=Ne(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Nh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&dp(a.remoteStore,o.targetId),Cm(a,o.targetId)})).catch(Rl)):(Cm(a,o.targetId),await xm(a.localStore,o.targetId,!0))}async function DC(s,e){const i=Ne(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dp(i.remoteStore,a.targetId))}async function OC(s,e,i){const a=UC(s);try{const o=await(function(d,g){const _=Ne(d),y=Et.now(),E=g.reduce(((G,$)=>G.add($.key)),Qe());let S,I;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=Os(),te=Qe();return _.Ns.getEntries(G,E).next((ee=>{$=ee,$.forEach(((_e,Te)=>{Te.isValidDocument()||(te=te.add(_e))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,$))).next((ee=>{S=ee;const _e=[];for(const Te of g){const ge=Qw(Te,S.get(Te.key).overlayedDocument);ge!=null&&_e.push(new Dr(Te.key,ge,J1(ge.value.mapValue),Ti.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,_e,g)})).next((ee=>{I=ee;const _e=ee.applyToLocalDocumentSet(S,te);return _.documentOverlayCache.saveOverlays(G,ee.batchId,_e)}))})).then((()=>({batchId:I.batchId,changes:ob(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Rt(Ke)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await uu(a,o.changes),await zh(a.remoteStore)}catch(o){const c=_p(o,"Failed to persist write");i.reject(c)}}async function Fb(s,e){const i=Ne(s);try{const a=await FR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?st(d.hu,14607):o.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await uu(i,a,e)}catch(a){await Rl(a)}}function Tv(s,e,i){const a=Ne(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Ne(d);_.onlineState=g;let y=!1;_.queries.forEach(((E,S)=>{for(const I of S.Sa)I.va(g)&&(y=!0)})),y&&vp(_)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function MC(s,e,i){const a=Ne(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new Rt(be.comparator);d=d.insert(c,Tn.newNoDocument(c,Re.min()));const g=Qe().add(c),_=new Mh(Re.min(),new Map,new Rt(Ke),d,g);await Fb(a,_),a.du=a.du.remove(c),a.Au.delete(e),Ep(a)}else await xm(a.localStore,e,!1).then((()=>Cm(a,e,i))).catch(Rl)}async function VC(s,e){const i=Ne(s),a=e.batch.batchId;try{const o=await GR(i.localStore,e);Qb(i,a,null),Kb(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,o)}catch(o){await Rl(o)}}async function kC(s,e,i){const a=Ne(s);try{const o=await(function(d,g){const _=Ne(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(st(S!==null,37113),E=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>_.localDocuments.getDocuments(y,E)))}))})(a.localStore,e);Qb(a,e,i),Kb(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uu(a,o)}catch(o){await Rl(o)}}function Kb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Qb(s,e,i){const a=Ne(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Cm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||Yb(s,a)}))}function Yb(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(dp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Ep(s))}function Av(s,e,i){for(const a of i)a instanceof qb?(s.Ru.addReference(a.key,e),zC(s,a)):a instanceof Hb?(oe(bp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||Yb(s,a.key)):Ae(19791,{wu:a})}function zC(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(oe(bp,"New document in limbo: "+i),s.Eu.add(a),Ep(s))}function Ep(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new be(wt.fromString(e)),a=s.fu.next();s.Au.set(a,new xC(i)),s.du=s.du.insert(i,a),Mb(s.remoteStore,new yr(Qi(Ch(i.path)),a,"TargetPurposeLimboResolution",Sh.ce))}}async function uu(s,e,i){const a=Ne(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,E?"current":"not-current")}if(y){o.push(y);const E=hp.As(_.targetId,y);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const E=Ne(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(I=>X.forEach(I.Es,(G=>E.persistence.referenceDelegate.addReference(S,I.targetId,G))).next((()=>X.forEach(I.ds,(G=>E.persistence.referenceDelegate.removeReference(S,I.targetId,G)))))))))}catch(S){if(!Cl(S))throw S;oe(fp,"Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const G=E.Ms.get(I),$=G.snapshotVersion,te=G.withLastLimboFreeSnapshotVersion($);E.Ms=E.Ms.insert(I,te)}}})(a.localStore,c))}async function jC(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){oe(bp,"User change. New user:",e.toKey());const a=await Nb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new pe(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ls)}}function LC(s,e){const i=Ne(s),a=i.Au.get(e);if(a&&a.hu)return Qe().add(a.key);{let o=Qe();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function Xb(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MC.bind(null,e),e.Pu.H_=EC.bind(null,e.eventManager),e.Pu.yu=TC.bind(null,e.eventManager),e}function UC(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kC.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return HR(this.persistence,new PR,e.initialUser,this.serializer)}Cu(e){return new Cb(cp.mi,this.serializer)}Du(e){return new $R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class PC extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){st(this.persistence.referenceDelegate instanceof gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new xR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Cb((a=>gh.mi(a,i)),this.serializer)}}class Nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Tv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=jC.bind(null,this.syncEngine),await _C(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bC})()}createDatastore(e){const i=Vh(e.databaseInfo.databaseId),a=(function(c){return new tC(c)})(e.databaseInfo);return(function(c,d,g,_){return new rC(c,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new lC(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Tv(this.syncEngine,i,0)),(function(){return gv.v()?new gv:new ZR})())}createSyncEngine(e,i){return(function(o,c,d,g,_,y,E){const S=new wC(o,c,d,g,_,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);oe(ma,"RemoteStore shutting down."),a.Ea.add(5),await ou(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nm.provider={build:()=>new Nm};class $b{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Nr="FirestoreClient";class BC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{oe(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(oe(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_p(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function nm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await Nb(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Sv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await qC(s);oe(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>_v(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>_v(e.remoteStore,o))),s._onlineComponents=e}async function qC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Nr,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;gl("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new _h)}}else oe(Nr,"Using default OfflineComponentProvider"),await nm(s,new PC(void 0));return s._offlineComponents}async function Zb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Nr,"Using user provided OnlineComponentProvider"),await Sv(s,s._uninitializedComponentsProvider._online)):(oe(Nr,"Using default OnlineComponentProvider"),await Sv(s,new Nm))),s._onlineComponents}function HC(s){return Zb(s).then((e=>e.syncEngine))}async function Im(s){const e=await Zb(s),i=e.eventManager;return i.onListen=RC.bind(null,e.syncEngine),i.onUnlisten=IC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=CC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=DC.bind(null,e.syncEngine),i}function GC(s,e,i={}){const a=new Tr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const E=new $b({next:I=>{E.Nu(),d.enqueueAndForget((()=>Pb(c,S)));const G=I.docs.has(g);!G&&I.fromCache?y.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&I.fromCache&&_&&_.source==="server"?y.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new Bb(Ch(g.path),E,{includeMetadataChanges:!0,qa:!0});return Ub(c,S)})(await Im(s),s.asyncQueue,e,i,a))),a.promise}function Jb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const xv=new Map;const Wb="firestore.googleapis.com",wv=!0;class Rv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wb,this.ssl=wv}else this.host=e.host,this.ssl=e.ssl??wv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AR)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Yx;switch(a.type){case"firstParty":return new Jx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=xv.get(i);a&&(oe("ComponentProvider","Removing Datastore"),xv.delete(i),a.terminate())})(this),Promise.resolve()}}function FC(s,e,i,a={}){s=Ei(s,Tp);const o=Al(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Xv(`https://${g}`),$v("Firestore",!0)),c.host!==Wb&&c.host!==g&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!Ar(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=En.MOCK_USER;else{y=yA(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new En(S)}s._authCredentials=new Xx(new B1(y,E))}}class jh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class Xt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,Xt._jsonSchema))return new Xt(e,a||null,new be(wt.fromString(i.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Yt("string",Xt._jsonSchemaVersion),referencePath:Yt("string")};class Xo extends jh{constructor(e,i,a){super(e,i,Ch(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new be(e))}withConverter(e){return new Xo(this.firestore,e,this._path)}}function rn(s,e,...i){if(s=Cn(s),arguments.length===1&&(e=Zm.newId()),sw("doc","path",e),s instanceof Tp){const a=wt.fromString(e,...i);return B_(a),new Xt(s,null,new be(a))}{if(!(s instanceof Xt||s instanceof Xo))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(wt.fromString(e,...i));return B_(a),new Xt(s.firestore,s instanceof Xo?s.converter:null,new be(a))}}const Cv="AsyncQueue";class Nv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Db(this,"async_queue_retry"),this._c=()=>{const a=tm();a&&oe(Cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;oe(Cv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",Iv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=yp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Iv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Iv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function Dv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class pa extends Tp{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Nv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nv(e),this._firestoreClient=void 0,await e}}}function KC(s,e){const i=typeof s=="object"?s:e1(),a=typeof s=="string"?s:uh,o=Bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=pA("firestore");c&&FC(o,...c)}return o}function Ap(s){if(s._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||QC(s),s._firestoreClient}function QC(s){const e=s._freezeSettings(),i=(function(o,c,d,g){return new gw(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Jb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new BC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(_n.fromBase64String(e))}catch(i){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ui(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:Yt("string",ui._jsonSchemaVersion),bytes:Yt("string")};class Lh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uh{constructor(e){this._methodName=e}}class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Yt("string",Xi._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class $i{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new $i(e.vectorValues);throw new pe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Yt("string",$i._jsonSchemaVersion),vectorValues:Yt("object")};const YC=/^__.*__$/;class XC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class eE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function tE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Ph{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ph({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tE(this.Ac)&&YC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $C{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Vh(e)}Cc(e,i,a,o=!1){return new Ph({Ac:e,methodName:i,Dc:a,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nE(s){const e=s._freezeSettings(),i=Vh(s._databaseId);return new $C(s._databaseId,!!e.ignoreUndefinedProperties,i)}function ZC(s,e,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,o);xp("Data must be an object, but it was:",d,a);const g=iE(a,d);let _,y;if(c.merge)_=new Yn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const I=Dm(e,S,i);if(!d.contains(I))throw new pe(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);rE(E,I)||E.push(I)}_=new Yn(E),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new XC(new Ln(g),_,y)}class Bh extends Uh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function JC(s,e,i){return new Ph({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sp extends Uh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=JC(this,e,!0),a=this.vc.map((c=>cu(c,i))),o=new bl(a);return new Hw(e.path,o)}isEqual(e){return e instanceof Sp&&Ar(this.vc,e.vc)}}function WC(s,e,i,a){const o=s.Cc(1,e,i);xp("Data must be an object, but it was:",o,a);const c=[],d=Ln.empty();Ir(a,((_,y)=>{const E=wp(e,_,i);y=Cn(y);const S=o.yc(E);if(y instanceof Bh)c.push(E);else{const I=cu(y,S);I!=null&&(c.push(E),d.set(E,I))}}));const g=new Yn(c);return new eE(d,g,o.fieldTransforms)}function eN(s,e,i,a,o,c){const d=s.Cc(1,e,i),g=[Dm(e,a,i)],_=[o];if(c.length%2!=0)throw new pe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)g.push(Dm(e,c[I])),_.push(c[I+1]);const y=[],E=Ln.empty();for(let I=g.length-1;I>=0;--I)if(!rE(y,g[I])){const G=g[I];let $=_[I];$=Cn($);const te=d.yc(G);if($ instanceof Bh)y.push(G);else{const ee=cu($,te);ee!=null&&(y.push(G),E.set(G,ee))}}const S=new Yn(y);return new eE(E,S,d.fieldTransforms)}function cu(s,e){if(sE(s=Cn(s)))return xp("Unsupported field value:",e,s),iE(s,e);if(s instanceof Uh)return(function(a,o){if(!tE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=cu(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=Cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Pw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Et.fromDate(a);return{timestampValue:ph(o.serializer,c)}}if(a instanceof Et){const c=new Et(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ph(o.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ui)return{bytesValue:bb(o.serializer,a._byteString)};if(a instanceof Xt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:op(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof $i)return(function(d,g){return{mapValue:{fields:{[$1]:{stringValue:Z1},[ch]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return sp(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Jm(a)}`)})(s,e)}function iE(s,e){const i={};return G1(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ir(s,((a,o)=>{const c=cu(o,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function sE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Et||s instanceof Xi||s instanceof ui||s instanceof Xt||s instanceof Uh||s instanceof $i)}function xp(s,e,i){if(!sE(i)||!q1(i)){const a=Jm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Dm(s,e,i){if((e=Cn(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return wp(s,e);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const tN=new RegExp("[~\\*/\\[\\]]");function wp(s,e,i){if(e.search(tN)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Lh(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new pe(Z.INVALID_ARGUMENT,g+s+_)}function rE(s,e){return s.some((i=>i.isEqual(e)))}class aE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(lE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class nN extends aE{data(){return super.data()}}function lE(s,e){return typeof e=="string"?wp(s,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}function iN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sN{convertValue(e,i="none"){switch(Rr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Ir(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ch].arrayValue?.values?.map((a=>Ut(a.doubleValue)));return new $i(i)}convertGeoPoint(e){return new Xi(Ut(e.latitude),Ut(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const i=xr(e);return new Et(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=wt.fromString(e);st(wb(a),9688,{name:e});const o=new Ko(a.get(1),a.get(3)),c=new be(a.popFirst(5));return o.isEqual(i)||Ds(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function rN(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class ko{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends aE{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(lE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Yt("string",ca._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Zc extends ca{data(e={}){return super.data(e)}}class ml{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ko(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new ko(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ko(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Zc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ko(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:aN(g.type),doc:_,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function Ov(s){s=Ei(s,Xt);const e=Ei(s.firestore,pa);return GC(Ap(e),s._key).then((i=>uE(e,s,i)))}ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:Yt("string",ml._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class oE extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,i)}}function lN(s,e,i){s=Ei(s,Xt);const a=Ei(s.firestore,pa),o=rN(s.converter,e);return Rp(a,[ZC(nE(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Ti.none())])}function Rn(s,e,i,...a){s=Ei(s,Xt);const o=Ei(s.firestore,pa),c=nE(o);let d;return d=typeof(e=Cn(e))=="string"||e instanceof Lh?eN(c,"updateDoc",s._key,e,i,a):WC(c,"updateDoc",s._key,e),Rp(o,[d.toMutation(s._key,Ti.exists(!0))])}function oN(s){return Rp(Ei(s.firestore,pa),[new rp(s._key,Ti.none())])}function Mv(s,...e){s=Cn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Dv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Dv(e[a])){const _=e[a];e[a]=_.next?.bind(_),e[a+1]=_.error?.bind(_),e[a+2]=_.complete?.bind(_)}let c,d,g;if(s instanceof Xt)d=Ei(s.firestore,pa),g=Ch(s._key.path),c={next:_=>{e[a]&&e[a](uE(d,s,_))},error:e[a+1],complete:e[a+2]};else{const _=Ei(s,jh);d=Ei(_.firestore,pa),g=_._query;const y=new oE(d);c={next:E=>{e[a]&&e[a](new ml(d,y,_,E))},error:e[a+1],complete:e[a+2]},iN(s._query)}return(function(y,E,S,I){const G=new $b(I),$=new Bb(E,G,S);return y.asyncQueue.enqueueAndForget((async()=>Ub(await Im(y),$))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>Pb(await Im(y),$)))}})(Ap(d),g,o,c)}function Rp(s,e){return(function(a,o){const c=new Tr;return a.asyncQueue.enqueueAndForget((async()=>OC(await HC(a),o,c))),c.promise})(Ap(s),e)}function uE(s,e,i){const a=i.docs.get(e._key),o=new oE(s);return new ca(s,o,e._key,a,new ko(i.hasPendingWrites,i.fromCache),e.converter)}function Ts(...s){return new Sp("arrayUnion",s)}(function(e,i=!0){(function(o){wl=o})(Sl),pl(new ha("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new pa(new $x(a.getProvider("auth-internal")),new Wx(d,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(y.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),br(j_,L_,e),br(j_,L_,"esm2020")})();const uN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Vv=s=>{const e=cN(s);return e.charAt(0).toUpperCase()+e.slice(1)},cE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),hN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var fN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dN=tt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>tt.createElement("svg",{ref:_,...fN,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:cE("lucide",o),...!c&&!hN(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,E])=>tt.createElement(y,E)),...Array.isArray(c)?c:[c]]));const Ue=(s,e)=>{const i=tt.forwardRef(({className:a,...o},c)=>tt.createElement(dN,{ref:c,iconNode:e,className:cE(`lucide-${uN(Vv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Vv(s),i};const mN=[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]],Cp=Ue("bomb",mN);const pN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Om=Ue("book-open",pN);const gN=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],hE=Ue("box",gN);const yN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],hu=Ue("briefcase",yN);const _N=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vN=Ue("calendar",_N);const bN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EN=Ue("chevron-right",bN);const TN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AN=Ue("circle-check-big",TN);const SN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xN=Ue("clock",SN);const wN=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Jc=Ue("coins",wN);const RN=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],CN=Ue("cpu",RN);const NN=[["path",{d:"M4 9a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4a1 1 0 0 1 1 1v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a1 1 0 0 1 1-1h4a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-4a1 1 0 0 1-1-1V4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4a1 1 0 0 1-1 1z",key:"1xbrqy"}]],IN=Ue("cross",NN);const DN=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Mm=Ue("crown",DN);const ON=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fE=Ue("eye",ON);const MN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dE=Ue("file-text",MN);const VN=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],mE=Ue("flag",VN);const kN=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],pE=Ue("ghost",kN);const zN=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],gE=Ue("hammer",zN);const jN=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],kv=Ue("handshake",jN);const LN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],yE=Ue("history",LN);const UN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],PN=Ue("house",UN);const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qN=Ue("info",BN);const HN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vm=Ue("lock",HN);const GN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],km=Ue("log-out",GN);const FN=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],KN=Ue("octagon-alert",FN);const QN=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$o=Ue("package",QN);const YN=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],_E=Ue("scan",YN);const XN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Np=Ue("shield-check",XN);const $N=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Zo=Ue("shopping-bag",$N);const ZN=[["path",{d:"M7 18v-6a5 5 0 1 1 10 0v6",key:"pcx96s"}],["path",{d:"M5 21a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-1a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2z",key:"1b4s83"}],["path",{d:"M21 12h1",key:"jtio3y"}],["path",{d:"M18.5 4.5 18 5",key:"g5sp9y"}],["path",{d:"M2 12h1",key:"1uaihz"}],["path",{d:"M12 2v1",key:"11qlp1"}],["path",{d:"m4.929 4.929.707.707",key:"1i51kw"}],["path",{d:"M12 12v6",key:"3ahymv"}]],oa=Ue("siren",ZN);const JN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Ip=Ue("skull",JN);const WN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zv=Ue("sparkles",WN);const eI=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tI=Ue("trash",eI);const nI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],iI=Ue("trending-up",nI);const sI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wc=Ue("user",sI);const rI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],aI=Ue("utensils",rI);const lI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qh=Ue("x",lI);const oI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uI=Ue("zap",oI),cI={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2af23956db92c5956aa637"},vE=Wv(cI),im=Kx(vE),an=KC(vE),pn=typeof __app_id<"u"?__app_id:"contraband-game",hI="12",Bc=5e3,zm=5e3,Gi={DIPLOMAT:{id:"DIPLOMAT",name:"Diplomat",desc:"Pay 50% less fines.",icon:mE,color:"text-blue-400"},YAKUZA:{id:"YAKUZA",name:"Yakuza",desc:"+20% value for Contraband.",icon:pE,color:"text-purple-400"},SNITCH:{id:"SNITCH",name:"Snitch",desc:"Earn $1000 whenever another player is fined.",icon:fE,color:"text-yellow-400"},MERCHANT:{id:"MERCHANT",name:"Merchant",desc:"+20% value for Legal Goods.",icon:hu,color:"text-emerald-400"}},As={NORMAL:{id:"NORMAL",name:"Market Stable",desc:"Business as usual.",multiplier:1,target:null},WAR:{id:"WAR",name:"War Zone",desc:"Weapons value x2.",multiplier:2,target:"WEAPON"},PANDEMIC:{id:"PANDEMIC",name:"Pandemic",desc:"Meds value x2.",multiplier:2,target:"MEDS"},CRACKDOWN:{id:"CRACKDOWN",name:"Police Crackdown",desc:"All Fines Double.",multiplier:2,target:"ALL_FINES"},FREE_TRADE:{id:"FREE_TRADE",name:"Free Trade",desc:"All Fines Halved.",multiplier:.5,target:"ALL_FINES"}},bh={POCKETS:{id:"POCKETS",name:"Deep Pockets",desc:"Hand Size +1 (Immediate Draw)",cost:3e3,icon:hu},EXPANDED:{id:"EXPANDED",name:"Crate Extension",desc:"Load up to 5 cards",cost:5e3,icon:hE},CONCEAL:{id:"CONCEAL",name:"Hidden Compartment",desc:"First illegal item is safe per inspection",cost:4e3,icon:Vm},SCANNER:{id:"SCANNER",name:"X-Ray Scanner",desc:"As Inspector, reveal 1 random card per crate",cost:4e3,icon:_E}},Dt={MEDS:{id:"MEDS",name:"Medkits",val:1e3,penalty:1e3,type:"LEGAL",icon:IN,color:"text-green-400"},FOOD:{id:"FOOD",name:"Rations",val:1500,penalty:1e3,type:"LEGAL",icon:aI,color:"text-green-300"},PARTS:{id:"PARTS",name:"Machinery",val:2e3,penalty:1e3,type:"LEGAL",icon:gE,color:"text-green-200"},CHIP:{id:"CHIP",name:"AI Core",val:6e3,penalty:4e3,type:"ILLEGAL",icon:CN,color:"text-red-400"},WEAPON:{id:"WEAPON",name:"Plasma Rifle",val:8e3,penalty:5e3,type:"ILLEGAL",icon:uI,color:"text-red-500"},NARCO:{id:"NARCO",name:"Stims",val:1e4,penalty:6e3,type:"ILLEGAL",icon:Ip,color:"text-purple-500"},TRAP:{id:"TRAP",name:"Booby Trap",val:0,penalty:0,type:"TRAP",icon:Cp,color:"text-orange-500",desc:"If opened: Inspector pays $2000"}},jv=()=>v.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[v.jsx($o,{size:12,className:"text-emerald-400"}),v.jsx("span",{className:"text-[10px] font-black tracking-widest text-emerald-400 uppercase",children:"CONTRABAND"})]}),fI=s=>{let e=[];const i={MEDS:6*s,FOOD:6*s,PARTS:6*s,CHIP:4*s,WEAPON:4*s,NARCO:4*s,TRAP:2*s};return Object.entries(i).forEach(([a,o])=>{for(let c=0;c<o;c++)e.push(a)}),e},jm=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},sm=(s,e)=>{if(s.length===0)return null;let i=[],a=null;const o=e.includes("TRAP");for(;s.length>0;){let c=s.pop();if(c==="TRAP"&&o)i.push(c);else{a=c;break}}return i.length>0&&s.unshift(...i),a},Lv=s=>{const e=Object.keys(Gi),i=[...e];for(;i.length<s.length;)i.push(...e);const a=jm(i);return s.map((o,c)=>({...o,role:Gi[a[c]].id}))},ln=(s,e,i)=>{const a=s[e]||{income:0,expense:0,transactions:[],role:"",isInspector:!1,marketItems:[],roleBonus:0},o=i.transaction?[...a.transactions||[],i.transaction]:a.transactions||[],c=i.marketItem?[...a.marketItems||[],i.marketItem]:a.marketItems||[];return{...s,[e]:{...a,...i,income:(a.income||0)+(i.income||0),expense:(a.expense||0)+(i.expense||0),roleBonus:(a.roleBonus||0)+(i.roleBonus||0),transactions:o,marketItems:c}}},rm=()=>v.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-zinc-900 via-zinc-950 to-black"}),v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-emerald-900/5 mix-blend-overlay"}),v.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(45deg, #064e3b 25%, transparent 25%, transparent 75%, #064e3b 75%, #064e3b), linear-gradient(45deg, #064e3b 25%, transparent 25%, transparent 75%, #064e3b 75%, #064e3b)",backgroundPosition:"0 0, 10px 10px",backgroundSize:"20px 20px"}})]}),dI=({typeId:s,size:e=12})=>{const i=Dt[s];return i?v.jsx(i.icon,{size:e,className:i.color}):null},Uv=({players:s,roundData:e,isFinal:i})=>{const[a,o]=tt.useState(i?"FINAL":Math.max(0,e.length-1)),c=i?["FINAL",...e.map((g,_)=>`ROUND ${_+1}`)]:[],d=(g,_)=>{let y=[];if(_)y=s.map(E=>{let S=0,I=0,G=[];const $=E.stash||[];let te=0;e.forEach((Te,ge)=>{const Pe=Te.stats[E.id];Pe&&Pe.roleBonus>0&&(te+=Pe.roleBonus,G.push(`R${ge+1} (${Gi[Pe.role]?.name}): +$${Pe.roleBonus}`))}),I+=te;const ee=Math.floor(E.coins+S-zm),_e=$.reduce((Te,ge)=>Te+(Dt[ge]?.val||0),0);return{id:E.id,name:E.name,role:E.role,cash:E.coins,stashVal:_e,bonus:Math.floor(I),bonusDetails:G,loan:-zm,total:ee,isWinner:!1}}),y.sort((E,S)=>S.total-E.total),y.length>0&&(y[0].isWinner=!0);else{typeof a=="string"&&parseInt(a.split(" ")[1])-1;const E=Array.isArray(e)?e[a==="FINAL"?0:typeof a=="number"?a:parseInt(a.split(" ")[1])-1]:null,S=E?E.stats:null,I=E?E.event:null;if(!S)return v.jsx("div",{className:"p-12 text-center text-zinc-500 italic",children:"No Data Available"});y=Object.keys(S).map(G=>{const $=S[G],te=s.find(ee=>ee.id===G)?.name||"Unknown";return{id:G,name:te,role:$.role,isInspector:$.isInspector,marketItems:$.marketItems||[],roleBonus:$.roleBonus||0,transactions:$.transactions||[],income:$.income,expense:$.expense,net:$.income-$.expense,activeEvent:I}})}return v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-zinc-900/50 text-xs uppercase text-zinc-500 font-bold tracking-wider",children:[v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800",children:"Agent"}),_?v.jsxs(v.Fragment,{children:[v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right",children:"Cash"}),v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right text-emerald-300",children:"Stash"}),v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right text-yellow-400",children:"All Role Bonuses"}),v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right text-red-400",children:"Loan"}),v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right text-white",children:"Final Score"})]}):v.jsxs(v.Fragment,{children:[v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800",children:"Event Impact"}),v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800",children:"Market"}),v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800",children:"Role Bonus"}),v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 w-1/3",children:"Activity Log"}),v.jsx("th",{className:"px-6 py-3 border-b border-zinc-800 text-right",children:"Net Change"})]})]})}),v.jsx("tbody",{className:"divide-y divide-zinc-800 text-sm",children:y.map((E,S)=>_?v.jsxs("tr",{className:`group hover:bg-zinc-800/30 transition-colors ${E.isWinner?"bg-emerald-900/10":""}`,children:[v.jsx("td",{className:"px-6 py-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`flex items-center justify-center w-6 h-6 rounded-full font-bold text-[10px] ${E.isWinner?"bg-yellow-500 text-black":"bg-zinc-800 text-zinc-500"}`,children:S+1}),v.jsx("span",{className:`font-medium ${E.isWinner?"text-white":"text-zinc-400"}`,children:E.name}),E.isWinner&&v.jsx(Mm,{size:14,className:"text-yellow-500"})]})}),v.jsxs("td",{className:"px-6 py-4 text-right font-mono text-zinc-400",children:["$",E.cash]}),v.jsxs("td",{className:"px-6 py-4 text-right font-mono text-emerald-300",children:["$",E.stashVal]}),v.jsx("td",{className:"px-6 py-4 text-right",children:v.jsxs("div",{className:"flex flex-col items-end",children:[v.jsxs("span",{className:"font-mono text-yellow-400",children:["+",E.bonus]}),E.bonusDetails.map((I,G)=>v.jsx("span",{className:"text-[9px] text-zinc-500",children:I},G))]})}),v.jsx("td",{className:"px-6 py-4 text-right font-mono text-red-400",children:E.loan}),v.jsxs("td",{className:"px-6 py-4 text-right font-mono font-bold text-white text-lg",children:["$",E.total]})]},E.id):v.jsxs("tr",{className:"group hover:bg-zinc-800/30",children:[v.jsxs("td",{className:"px-6 py-4 align-top",children:[v.jsx("div",{className:"font-medium text-white mb-1",children:E.name}),v.jsxs("div",{className:"flex items-center gap-1 text-xs text-zinc-500 mb-2",children:[E.isInspector?v.jsx(Np,{size:12,className:"text-blue-400"}):v.jsx(Wc,{size:12}),E.isInspector?"Inspector":Gi[E.role]?.name]})]}),v.jsx("td",{className:"px-6 py-4 align-top",children:E.activeEvent&&v.jsxs("div",{className:"text-xs text-zinc-400",children:[v.jsx("div",{className:"font-bold text-zinc-300",children:E.activeEvent.name}),v.jsx("div",{className:"text-[10px] italic",children:E.activeEvent.desc})]})}),v.jsx("td",{className:"px-6 py-4 align-top",children:E.marketItems.length>0?v.jsx("div",{className:"flex flex-col gap-1",children:E.marketItems.map((I,G)=>{const $=bh[I];return v.jsxs("div",{className:"text-xs text-zinc-400 flex items-center gap-1",children:[v.jsx(Zo,{size:10})," ",$?.name," ",v.jsxs("span",{className:"text-red-400",children:["-$",$?.cost]})]},G)})}):v.jsx("span",{className:"text-zinc-600 italic text-xs",children:"-"})}),v.jsx("td",{className:"px-6 py-4 align-top",children:E.roleBonus>0?v.jsxs("span",{className:"text-yellow-400 font-mono text-xs",children:["+$",E.roleBonus]}):v.jsx("span",{className:"text-zinc-600 text-xs",children:"-"})}),v.jsx("td",{className:"px-6 py-4 align-top",children:v.jsx("div",{className:"space-y-2",children:E.transactions.length===0?v.jsx("span",{className:"text-zinc-600 italic text-xs",children:"No activity."}):E.transactions.map((I,G)=>v.jsxs("div",{className:"flex flex-col text-xs border-b border-zinc-800 pb-1 last:border-0",children:[v.jsxs("div",{className:"flex justify-between w-full",children:[v.jsx("span",{className:"text-zinc-300 font-bold",children:I.label}),v.jsxs("span",{className:`font-mono ${I.amount>=0?"text-emerald-400":"text-red-400"}`,children:[I.amount>=0?"+":"",I.amount]})]}),I.items&&I.items.length>0&&v.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:I.items.map(($,te)=>v.jsx("div",{className:"bg-black/40 p-0.5 rounded border border-zinc-700",title:Dt[$]?.name,children:v.jsx(dI,{typeId:$,size:10})},te))}),I.detail&&v.jsx("div",{className:"text-[10px] text-zinc-500 mt-0.5",children:I.detail})]},G))})}),v.jsx("td",{className:"px-6 py-4 text-right font-mono font-bold align-top",children:v.jsxs("span",{className:E.net>=0?"text-emerald-400":"text-red-400",children:[E.net>=0?"+":"",E.net]})})]},E.id))})]})})};return v.jsxs("div",{className:"w-full max-w-5xl bg-zinc-900 rounded-xl border border-zinc-700 overflow-hidden shadow-2xl mb-6 animate-in fade-in slide-in-from-bottom-10 duration-700",children:[v.jsx("div",{className:"bg-zinc-950 px-6 py-4 border-b border-zinc-800 flex justify-between items-center",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg border border-emerald-500/20",children:v.jsx(dE,{className:"text-emerald-500",size:20})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-white",children:"Mission Report"}),v.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:i?"Final Operation Audit":"Round Summary"})]})]})}),i&&v.jsx("div",{className:"flex border-b border-zinc-800 bg-zinc-900/50 overflow-x-auto",children:c.map(g=>v.jsx("button",{onClick:()=>o(g),className:`px-6 py-3 text-sm font-bold transition-colors whitespace-nowrap ${a===g?"text-emerald-400 border-b-2 border-emerald-500 bg-emerald-900/10":"text-zinc-500 hover:text-zinc-300"}`,children:g},g))}),d(e,i&&a==="FINAL")]})},mI=({stash:s,onClose:e})=>v.jsx("div",{className:"fixed inset-0 bg-black/90 z-[160] flex items-center justify-center p-4 animate-in fade-in",children:v.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-lg w-full shadow-2xl flex flex-col max-h-[80vh]",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-zinc-800 pb-2",children:[v.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[v.jsx(hu,{className:"text-emerald-500"})," Stash (",s.length,")"]}),v.jsx("button",{onClick:e,className:"p-1 hover:bg-zinc-800 rounded text-zinc-400",children:v.jsx(qh,{size:20})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto grid grid-cols-4 gap-2",children:s.length===0?v.jsx("div",{className:"col-span-4 text-center text-zinc-500 py-8 italic",children:"Your stash is empty."}):s.map((i,a)=>{const o=Dt[i];if(!o)return null;const c=o.type==="ILLEGAL";return v.jsxs("div",{className:`p-2 rounded border flex flex-col items-center gap-1 ${c?"bg-red-900/10 border-red-900/30":"bg-emerald-900/10 border-emerald-900/30"}`,children:[v.jsx(o.icon,{size:24,className:o.color}),v.jsx("span",{className:`text-[10px] font-bold ${o.color}`,children:o.name}),v.jsxs("span",{className:"text-[9px] text-zinc-500",children:["$",o.val]})]},a)})}),v.jsxs("div",{className:"mt-4 pt-2 border-t border-zinc-800 text-center text-xs text-zinc-500",children:["Total Base Value: $",s.reduce((i,a)=>i+(Dt[a]?.val||0),0)]})]})}),Pv=({typeId:s,small:e,selected:i,onClick:a,faceDown:o})=>{const c=Dt[s];if(!c)return null;const d=c.icon,g=c.type==="ILLEGAL",_=c.type==="TRAP";return o?v.jsx("div",{className:`
        relative rounded-xl border-2 border-zinc-700 bg-zinc-800 
        flex flex-col items-center justify-center shadow-lg
        ${e?"w-10 h-14":"w-20 h-32"}
      `,children:v.jsx("div",{className:"opacity-20",children:v.jsx($o,{size:e?16:32})})}):v.jsxs("div",{onClick:a,className:`
        relative rounded-xl border-2 flex flex-col items-center justify-between shadow-lg transition-all 
        ${i?"ring-4 ring-yellow-400 -translate-y-2 z-10 scale-105":"hover:-translate-y-1"}
        ${_?"bg-orange-950/50 border-orange-600/50":g?"bg-red-950/30 border-red-900/50":"bg-emerald-950/30 border-emerald-900/50"}
        ${e?"w-12 h-16 p-1":"w-24 h-36 md:w-32 md:h-44 p-2 md:p-3"}
        ${a?"cursor-pointer":""}
      `,children:[v.jsxs("div",{className:"w-full flex justify-between items-start",children:[v.jsx("span",{className:`font-black ${e?"text-[8px]":"text-xs"} text-zinc-500`,children:_?"TRAP":g?"!!":"OK"}),v.jsx(d,{size:e?10:16,className:c.color})]}),v.jsxs("div",{className:"flex flex-col items-center gap-1",children:[v.jsx(d,{size:e?16:32,className:`${c.color} drop-shadow-md`}),!e&&v.jsx("span",{className:`text-[10px] uppercase font-bold text-center leading-tight ${c.color}`,children:c.name})]}),!e&&v.jsx("div",{className:"w-full bg-black/40 rounded p-1 text-[8px] text-zinc-400 text-center leading-tight",children:_?"Inspector pays fine":v.jsxs(v.Fragment,{children:["val: ",c.val," ",v.jsx("br",{})," fine: ",c.penalty]})})]})},Bv=({onConfirm:s,onCancel:e,isHost:i,onLobby:a})=>v.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:v.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:i?"Disband Operation?":"Abandon Cargo?"}),v.jsx("p",{className:"text-zinc-400 mb-6 text-sm",children:i?"You are the Host. Leaving will close the checkpoint and kick all players.":"Leaving now will forfeit your progress."}),v.jsxs("div",{className:"flex flex-col gap-3",children:[i&&a&&v.jsxs("button",{onClick:a,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded font-bold transition-colors flex items-center justify-center gap-2",children:[v.jsx(PN,{size:18})," Return Everyone to Lobby"]}),v.jsxs("button",{onClick:s,className:"bg-red-900/80 hover:bg-red-800 text-red-200 py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-red-900",children:[v.jsx(km,{size:18})," ",i?"Destroy Room & Exit":"Leave Game"]}),v.jsx("button",{onClick:e,className:"text-zinc-500 hover:text-white py-2 text-sm",children:"Cancel"})]})]})}),pI=({type:s,message:e,subtext:i,icon:a})=>v.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none p-4",children:v.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] 
      transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-5 duration-300 backdrop-blur-xl
      ${s==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":""}
      ${s==="danger"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${s==="neutral"?"bg-zinc-800/90 border-zinc-500 text-zinc-100":""}
      ${s==="bribe"?"bg-yellow-900/90 border-yellow-500 text-yellow-100":""}
    `,children:[a&&v.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20 shadow-xl",children:v.jsx(a,{size:48,className:"animate-bounce"})}),v.jsx("h2",{className:"text-4xl md:text-6xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:e}),i&&v.jsx("p",{className:"text-xl md:text-2xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),gI=({isOpen:s,onClose:e,player:i,onBuy:a})=>s?v.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4 animate-in fade-in",children:v.jsxs("div",{className:"bg-zinc-900 rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col border border-yellow-600/30 shadow-2xl overflow-hidden",children:[v.jsxs("div",{className:"p-4 bg-zinc-950 border-b border-zinc-800 flex justify-between items-center",children:[v.jsxs("h2",{className:"text-2xl font-bold text-yellow-500 flex items-center gap-2",children:[v.jsx(Zo,{})," Black Market"]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("span",{className:"text-white font-mono flex items-center gap-1 bg-zinc-800 px-3 py-1 rounded-full",children:[v.jsx(Jc,{size:14,className:"text-yellow-500"})," $",i.coins]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-zinc-800 rounded-full",children:v.jsx(qh,{className:"text-zinc-400"})})]})]}),v.jsx("div",{className:"p-6 overflow-y-auto grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.values(bh).map(o=>{const c=i.upgrades?.includes(o.id),d=i.coins>=o.cost;return v.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-xl border border-zinc-700 flex flex-col justify-between group hover:border-yellow-500/50 transition-colors",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsx("div",{className:"p-2 bg-black/50 rounded-lg text-yellow-500",children:v.jsx(o.icon,{size:24})}),v.jsxs("span",{className:"text-sm font-mono text-zinc-400",children:["$",o.cost]})]}),v.jsx("h3",{className:"font-bold text-lg text-white mb-1",children:o.name}),v.jsx("p",{className:"text-xs text-zinc-400 mb-4 h-8",children:o.desc}),v.jsx("button",{onClick:()=>a(o),disabled:c||!d,className:`w-full py-2 rounded font-bold text-sm transition-all
                    ${c?"bg-zinc-700 text-zinc-500 cursor-default":d?"bg-yellow-600 hover:bg-yellow-500 text-black shadow-lg shadow-yellow-900/20":"bg-zinc-800 text-zinc-600 cursor-not-allowed"}`,children:c?"OWNED":d?"BUY":"TOO POOR"})]},o.id)})})]})}):null,yI=({logs:s,onClose:e})=>v.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:v.jsxs("div",{className:"bg-zinc-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-zinc-700 shadow-2xl",children:[v.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[v.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[v.jsx(yE,{size:18,className:"text-emerald-500"})," Operation Logs"]}),v.jsx("button",{onClick:e,className:"p-2 bg-zinc-800 rounded-full hover:bg-zinc-700",children:v.jsx(qh,{className:"text-zinc-400"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...s].reverse().map((i,a)=>v.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${i.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":i.type==="success"?"bg-green-900/10 border-green-500 text-green-300":i.type==="bribe"?"bg-yellow-900/10 border-yellow-500 text-yellow-300":"bg-zinc-800/50 border-zinc-600 text-zinc-400"}`,children:[v.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(i.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),i.text]},a))})]})}),qv=({onClose:s})=>v.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:v.jsxs("div",{className:"bg-zinc-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-emerald-500/30 flex flex-col shadow-2xl",children:[v.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[v.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[v.jsx(Om,{className:"text-emerald-500"})," Smuggler's Guide"]}),v.jsx("button",{onClick:s,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",children:v.jsx(qh,{})})]}),v.jsxs("div",{className:"p-6 overflow-y-auto text-zinc-300 space-y-8 scrollbar-thin scrollbar-thumb-zinc-700",children:[v.jsxs("section",{className:"text-center space-y-2",children:[v.jsx("h3",{className:"text-3xl font-black text-emerald-400 uppercase tracking-widest",children:"The Goal"}),v.jsx("p",{className:"text-lg text-zinc-400",children:"Amass the biggest fortune. Money is earned by smuggling goods and collecting fines. The player with the highest total value (Cash + Stash Bonus) when the deck runs out wins."})]}),v.jsxs("section",{className:"grid md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-xl border border-zinc-700",children:[v.jsxs("h4",{className:"font-bold text-yellow-500 mb-2 flex items-center gap-2",children:[v.jsx(Zo,{size:16})," 1. The Market"]}),v.jsx("p",{className:"text-sm",children:"Buy illegal upgrades from the Black Market. Deep pockets, crate extensions, and scanners can turn the tide."})]}),v.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-xl border border-zinc-700",children:[v.jsxs("h4",{className:"font-bold text-emerald-500 mb-2 flex items-center gap-2",children:[v.jsx($o,{size:16})," 2. Load & Bluff"]}),v.jsxs("p",{className:"text-sm",children:["Pack up to 3 cards. You must declare a legal good type. You can lie. You can also attach a cash ",v.jsx("strong",{children:"Bribe"})," to tempt the Inspector."]})]}),v.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-xl border border-zinc-700",children:[v.jsxs("h4",{className:"font-bold text-red-500 mb-2 flex items-center gap-2",children:[v.jsx(oa,{size:16})," 3. Inspection"]}),v.jsxs("p",{className:"text-sm",children:["The Inspector chooses to ",v.jsx("strong",{children:"PASS"})," or"," ",v.jsx("strong",{children:"OPEN"}),". If passed, you sell goods immediately. If opened and caught lying, you pay a fine!"]})]})]}),v.jsxs("section",{className:"bg-zinc-800/30 p-5 rounded-xl border border-zinc-700/50",children:[v.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[v.jsx(Np,{className:"text-emerald-500"})," Inspection Mechanics"]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[v.jsxs("ul",{className:"space-y-2",children:[v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-green-400 font-bold min-w-[60px]",children:"PASS:"})," ","Smuggler keeps goods & earns full value immediately."]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-yellow-400 font-bold min-w-[60px]",children:"BRIBE:"})," ","If Inspector accepts bribe, crate passes. Inspector keeps bribe."]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-orange-400 font-bold min-w-[60px]",children:"TRAP:"})," ","If opened crate has a"," ",v.jsx("span",{className:"text-orange-500 font-bold",children:"Booby Trap"}),", Inspector pays $2000 fine!"]})]}),v.jsxs("ul",{className:"space-y-2",children:[v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-red-400 font-bold min-w-[60px]",children:"BUSTED:"})," ","If opened & lying (or contraband): Smuggler pays fine. Illegal goods seized."]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:"text-blue-400 font-bold min-w-[60px]",children:"CLEAN:"})," ","If opened & telling truth: Inspector pays fine to Smuggler for wasting time."]})]})]})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Player Roles"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[v.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 font-bold text-blue-400 mb-1",children:[v.jsx(mE,{size:16})," Diplomat"]}),v.jsx("div",{className:"text-xs text-zinc-400",children:"Pays 50% less fines when caught."})]}),v.jsxs("div",{className:"p-3 bg-purple-900/20 border border-purple-500/30 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 font-bold text-purple-400 mb-1",children:[v.jsx(pE,{size:16})," Yakuza"]}),v.jsx("div",{className:"text-xs text-zinc-400",children:"+20% immediate value for Illegal goods."})]}),v.jsxs("div",{className:"p-3 bg-emerald-900/20 border border-emerald-500/30 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 font-bold text-emerald-400 mb-1",children:[v.jsx(hu,{size:16})," Merchant"]}),v.jsx("div",{className:"text-xs text-zinc-400",children:"+20% immediate value for Legal goods."})]}),v.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 font-bold text-yellow-400 mb-1",children:[v.jsx(fE,{size:16})," Snitch"]}),v.jsx("div",{className:"text-xs text-zinc-400",children:"Get $500 whenever someone else is fined."})]})]})]}),v.jsxs("section",{children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Global Events"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[v.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-800 rounded",children:[v.jsx(Cp,{size:16,className:"text-red-500"})," ",v.jsxs("span",{children:[v.jsx("strong",{children:"War Zone:"})," Weapons sell for 2x value."]})]}),v.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-800 rounded",children:[v.jsx(Ip,{size:16,className:"text-purple-500"})," ",v.jsxs("span",{children:[v.jsx("strong",{children:"Pandemic:"})," Meds sell for 2x value."]})]}),v.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-800 rounded",children:[v.jsx(oa,{size:16,className:"text-blue-500"})," ",v.jsxs("span",{children:[v.jsx("strong",{children:"Crackdown:"})," All fines are doubled."]})]}),v.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-800 rounded",children:[v.jsx(iI,{size:16,className:"text-green-500"})," ",v.jsxs("span",{children:[v.jsx("strong",{children:"Free Trade:"})," All fines are halved."]})]})]})]})]})]})});function _I(){const[s,e]=tt.useState(null),[i,a]=tt.useState("menu"),[o,c]=tt.useState(""),[d,g]=tt.useState(""),[_,y]=tt.useState(""),[E,S]=tt.useState(null),[I,G]=tt.useState(!1),[$,te]=tt.useState(""),[ee,_e]=tt.useState(!1),[Te,ge]=tt.useState(!1),[Pe,ot]=tt.useState(!1),[ze,N]=tt.useState(!1),[x,w]=tt.useState(!1),[V,D]=tt.useState(!1),[k,R]=tt.useState(null),[Xe,St]=tt.useState([]),[F,re]=tt.useState("MEDS"),[me,Ve]=tt.useState(0),[Ze,M]=tt.useState(0);tt.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await O2(im,__initial_auth_token):await R2(im))();const ne=k2(im,e);return()=>ne()},[]),tt.useEffect(()=>{const W=localStorage.getItem("contraband_roomId");W&&g(W)},[]),tt.useEffect(()=>{if(!d||!s)return;const W=Mv(rn(an,"artifacts",pn,"public","data","rooms",d),ne=>{if(ne.exists()){const ve=ne.data();if(!ve.players?.some(J=>J.id===s.uid)){g(""),a("menu"),localStorage.removeItem("contraband_roomId"),te("Connection Lost or Room Closed.");return}S(ve),ve.status==="lobby"?a("lobby"):a("game"),ve.feedbackTrigger&&ve.feedbackTrigger.id!==E?.feedbackTrigger?.id&&(R(ve.feedbackTrigger),setTimeout(()=>R(null),3e3))}else g(""),a("menu"),localStorage.removeItem("contraband_roomId"),te("Room Closed.")});return()=>W()},[d,s,E?.feedbackTrigger?.id]);const P=E?.players.find(W=>W.id===s?.uid)||{},se=E?.players[E?.inspectorIndex]?.id===s?.uid,ae=E?.hostId===s?.uid,le=E?.marketEvent?As[E.marketEvent.id]:As.NORMAL,xe=E?.players.length||0;tt.useEffect(()=>{P.loadedCrate&&P.loadedCrate.bribe!==void 0&&Ve(P.loadedCrate.bribe)},[P.loadedCrate]),tt.useEffect(()=>{const W=Mv(rn(an,"game_hub_settings","config"),ne=>{ne.exists()&&ne.data()[hI]?.maintenance?_e(!0):_e(!1)});return()=>W()},[]);const Be=async()=>{if(!o.trim())return te("Codename required.");G(!0);const W=Math.random().toString(36).substring(2,7).toUpperCase(),ne={roomId:W,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:o,coins:Bc,hand:[],stash:[],upgrades:[],role:null,loadedCrate:null,ready:!1}],deck:[],inspectorIndex:0,turnState:"IDLE",marketEvent:As.NORMAL,logs:[],currentRound:1,inspectorOrder:[],roundHistory:[],currentRoundStats:{}};await lN(rn(an,"artifacts",pn,"public","data","rooms",W),ne),localStorage.setItem("contraband_roomId",W),g(W),G(!1)},Ot=async()=>{if(!_||!o)return te("Missing Info.");G(!0);try{const W=rn(an,"artifacts",pn,"public","data","rooms",_),ne=await Ov(W);if(!ne.exists())throw new Error("Room not found.");if(ne.data().status!=="lobby")throw new Error("Game in progress.");if(ne.data().players.length>=6)throw new Error("Full.");const ve={id:s.uid,name:o,coins:Bc,hand:[],stash:[],upgrades:[],role:null,loadedCrate:null,ready:!1};await Rn(W,{players:Ts(ve)}),localStorage.setItem("contraband_roomId",_),g(_)}catch(W){te(W.message)}G(!1)},mt=async()=>{if(!d)return;const W=rn(an,"artifacts",pn,"public","data","rooms",d);try{const ne=await Ov(W);if(ne.exists()){const ve=ne.data();if(ve.hostId===s.uid)await oN(W);else{const J=ve.players.filter(ue=>ue.id!==s.uid);await Rn(W,{players:J})}}}catch(ne){console.error(ne)}localStorage.removeItem("contraband_roomId"),g(""),a("menu"),w(!1)},Wi=async W=>{if(!ae||!d)return;const ne=E.players.filter(ve=>ve.id!==W);await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:ne})},es=async()=>{const W=E.players.map(ne=>({...ne,coins:Bc,hand:[],stash:[],upgrades:[],role:null,loadedCrate:null,ready:!1}));await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{status:"lobby",players:W,logs:[],deck:[],turnState:"IDLE",winner:null,feedbackTrigger:null,marketEvent:As.NORMAL,currentRound:1,inspectorOrder:[],roundHistory:[],currentRoundStats:{}}),w(!1)},ts=async()=>{if(E.players.length<3)return te("Need 3+ Players.");const W=jm(fI(E.players.length)),ne=jm(E.players.map((he,un)=>un)),ve=ne[0],J=E.players[ve].id,ue={};let Oe=Lv(E.players);Oe[ve].role=null,Oe=Oe.map(he=>{const un=[];for(let fe=0;fe<6;fe++){const yt=sm(W,un);yt&&un.push(yt)}return ue[he.id]={role:he.role,isInspector:he.id===J,income:0,expense:0,transactions:[]},{...he,hand:un,coins:Bc,stash:[],upgrades:[],loadedCrate:null,ready:!1}}),await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{status:"playing",players:Oe,deck:W,inspectorOrder:ne,inspectorIndex:ve,currentRound:1,currentRoundStats:ue,roundHistory:[],turnState:"SHOPPING",marketEvent:As.NORMAL,logs:[{id:Date.now().toString(),text:"Market Open. Roles Assigned.",type:"neutral"}]})},Ai=async()=>{const W=E.players.map(ne=>ne.id===s.uid?{...ne,ready:!ne.ready}:ne);if(E.status==="playing"&&E.turnState==="SHOPPING"&&W.every(ne=>ne.ready)){W.forEach(ne=>ne.ready=!1),await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:W,turnState:"LOADING",logs:Ts({id:Date.now().toString(),text:"Loading Phase Begun.",type:"neutral"})});return}if(E.status==="playing"&&E.turnState==="ROUND_SUMMARY"&&W.every(ne=>ne.ready)){await Mr();return}await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:W})},Xn=async W=>{if(P.coins<W.cost)return;let ne=[...E.deck],ve=ln(E.currentRoundStats,s.uid,{expense:W.cost,marketItem:W.id});const J=E.players.map(ue=>{if(ue.id===s.uid){let Oe=[...ue.hand];if(W.id==="POCKETS"&&ne.length>0){const he=sm(ne,Oe);he&&Oe.push(he)}return{...ue,hand:Oe,coins:ue.coins-W.cost,upgrades:[...ue.upgrades||[],W.id]}}return ue});await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:J,deck:ne,currentRoundStats:ve})},Or=async()=>{if(Date.now()-Ze<2e3)return;const W=parseInt(me);if(isNaN(W)||W<0)return;const ne=P.loadedCrate?.bribe||0,ve=W-ne;if(P.coins-ve<0)return;M(Date.now());const J=E.players.map(ue=>ue.id===s.uid?{...ue,coins:ue.coins-ve,loadedCrate:{...ue.loadedCrate,bribe:W}}:ue);await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:J})},ns=async()=>{const W=P.upgrades?.includes("EXPANDED")?5:4;if(Xe.length===0||Xe.length>W)return;const ne=Math.max(0,parseInt(me)||0);if(ne>0&&ne>P.coins)return;const ve=E.players.findIndex(fe=>fe.id===s.uid),J=[...E.players],ue=[...J[ve].hand],Oe=[];[...Xe].sort((fe,yt)=>yt-fe).forEach(fe=>{Oe.push(ue[fe]),ue.splice(fe,1)}),J[ve].hand=ue,J[ve].coins-=ne,J[ve].loadedCrate={cards:Oe,declaration:F,bribe:ne};const he=J[E.inspectorIndex].id,un=J.every(fe=>fe.id===he||fe.loadedCrate!==null);let Sn={players:J};un&&(Sn.turnState="INSPECTING",Sn.logs=Ts({id:Date.now().toString(),text:"Inspection Phase.",type:"neutral"})),await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),Sn),St([]),Ve(0)},Si=async(W,ne)=>{const ve=E.players[E.inspectorIndex],J=[...E.players],ue=J.findIndex(we=>we.id===W),Oe=J.findIndex(we=>we.id===ve.id),he=J[ue];if(!he.loadedCrate)return;ve.upgrades?.includes("SCANNER");const un=he.upgrades?.includes("CONCEAL"),Sn=J.filter(we=>we.role==="SNITCH"&&we.id!==he.id);let fe={...E.currentRoundStats};const yt=(we,ke)=>{const Mt=J[we];let Je=0;if(Mt.role==="MERCHANT"){const qe=ke.filter(_t=>Dt[_t].type==="LEGAL").reduce((_t,pt)=>_t+(Dt[pt].val||0),0);Je=Math.floor(qe*.2)}else if(Mt.role==="YAKUZA"){const qe=ke.filter(_t=>Dt[_t].type==="ILLEGAL").reduce((_t,pt)=>_t+(Dt[pt].val||0),0);Je=Math.floor(qe*.2)}Je>0&&(J[we].coins+=Je,fe=ln(fe,Mt.id,{income:Je,roleBonus:Je,transaction:{label:`${Gi[Mt.role].name} Bonus`,amount:Je,detail:"Role ability triggered"}}))};if(ne==="PEEK"){if(he.loadedCrate.scanned)return;const we=he.loadedCrate.cards[Math.floor(Math.random()*he.loadedCrate.cards.length)],ke=[...J];ke[ue].loadedCrate={...ke[ue].loadedCrate,scanned:!0},await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:ke,logs:Ts({id:Date.now().toString(),text:`Scanner reveals a ${Dt[we].name} in ${he.name}'s crate!`,type:"neutral"}),feedbackTrigger:{id:Date.now(),type:"neutral",message:"SCAN RESULT",subtext:`Found: ${Dt[we].name}`}});return}let xt=[],Nn=null;if(ne==="PASS"||ne==="ACCEPT_BRIBE"){const we=he.loadedCrate.bribe||0;ne==="ACCEPT_BRIBE"&&we>0?(J[Oe].coins+=we,xt.push({id:Date.now().toString(),text:`Inspector accepted $${we} bribe from ${he.name}.`,type:"bribe"}),fe=ln(fe,ve.id,{income:we,transaction:{label:"Bribe Accepted",amount:we,detail:`From ${he.name}`}}),fe=ln(fe,he.id,{expense:we,transaction:{label:"Bribe Paid",amount:-we,detail:`To ${ve.name}`}})):(J[ue].coins+=we,xt.push({id:Date.now().toString(),text:`Inspector passed ${he.name}.`,type:"success"}),fe=ln(fe,ve.id,{transaction:{label:"Pass Decision",amount:0,detail:`Passed ${he.name}`}}),we>0&&(fe=ln(fe,he.id,{income:we,transaction:{label:"Bribe Returned",amount:we}})));const ke=he.loadedCrate.cards.reduce((Mt,Je)=>{let Vt=Dt[Je].val;return le.target===Je&&(Vt*=le.multiplier),Mt+Vt},0);J[ue].coins+=ke,fe=ln(fe,he.id,{income:ke,transaction:{label:"Goods Sold",amount:ke,items:he.loadedCrate.cards,detail:le.target?`Event Mult: x${le.multiplier}`:""}}),J[ue].stash.push(...he.loadedCrate.cards),yt(ue,he.loadedCrate.cards)}else if(ne==="OPEN"){const we=he.loadedCrate.bribe||0;J[ue].coins+=we,we>0&&(fe=ln(fe,he.id,{income:we,transaction:{label:"Bribe Returned",amount:we}}));const ke=he.loadedCrate.cards,Mt=he.loadedCrate.declaration;if(ke.includes("TRAP")){J[Oe].coins-=2e3,J[ue].coins+=2e3,fe=ln(fe,ve.id,{expense:2e3,transaction:{label:"Trap Exploded",amount:-2e3,detail:"Booby Trap triggered"}}),fe=ln(fe,he.id,{income:2e3,transaction:{label:"Trap Reward",amount:2e3,detail:"Inspector triggered trap"}});const Vt=ke.filter(_t=>_t!=="TRAP"),qe=Vt.reduce((_t,pt)=>{let Wt=Dt[pt].val;return le.target===pt&&(Wt*=le.multiplier),_t+Wt},0);J[ue].coins+=qe,fe=ln(fe,he.id,{income:qe,transaction:{label:"Survivors Sold",amount:qe,items:Vt}}),J[ue].stash.push(...Vt),yt(ue,Vt),xt.push({id:Date.now().toString(),text:"BOOM! Booby Trap! Inspector pays $2000.",type:"danger"}),Nn={id:Date.now(),type:"danger",message:"BOOBY TRAP!",subtext:"Inspector blown up."}}else{let Vt=ke.filter(qe=>Dt[qe].type==="ILLEGAL"||qe!==Mt);if(un&&Vt.length>0&&(Vt.shift(),xt.push({id:Date.now().toString(),text:`${he.name}'s Hidden Compartment saved an item!`,type:"neutral"})),Vt.length===0){let qe=ke.reduce((pt,Wt)=>pt+Dt[Wt].penalty,0);le.id==="CRACKDOWN"&&(qe*=2),le.id==="FREE_TRADE"&&(qe*=.5),J[Oe].coins-=qe,J[ue].coins+=qe,fe=ln(fe,ve.id,{expense:qe,transaction:{label:"Wrongful Search",amount:-qe,detail:"Paid compensation"}}),fe=ln(fe,he.id,{income:qe,transaction:{label:"Clean Bonus",amount:qe,detail:"Compensation received"}});const _t=ke.reduce((pt,Wt)=>{let ut=Dt[Wt].val;return le.target===Wt&&(ut*=le.multiplier),pt+ut},0);J[ue].coins+=_t,fe=ln(fe,he.id,{income:_t,transaction:{label:"Goods Sold",amount:_t,items:ke}}),J[ue].stash.push(...ke),yt(ue,ke),xt.push({id:Date.now().toString(),text:`CLEAN! Inspector pays $${qe} fine.`,type:"danger"}),Nn={id:Date.now(),type:"danger",message:"CLEAN",subtext:"Inspector pays fine."}}else{let qe=0,_t=[],pt=[],Wt=0;ke.forEach(kt=>{if(Vt.includes(kt)){let Ct=Dt[kt].penalty,en=Ct;he.role==="DIPLOMAT"&&(Ct*=.5),le.id==="CRACKDOWN"&&(Ct*=2),le.id==="FREE_TRADE"&&(Ct*=.5),he.role==="DIPLOMAT"&&(Wt+=en*.5),qe+=Ct,_t.push(kt);const _a=Vt.indexOf(kt);_a>-1&&Vt.splice(_a,1)}else pt.push(kt)}),J[ue].coins-=qe,J[Oe].coins+=qe,fe=ln(fe,he.id,{expense:qe,roleBonus:Wt,transaction:{label:"Fine Paid",amount:-qe,detail:`Seized: ${_t.length} items`}}),fe=ln(fe,ve.id,{income:qe,transaction:{label:"Fine Collected",amount:qe,items:_t}});const ut=pt.reduce((kt,Ct)=>{let en=Dt[Ct].val;return le.target===Ct&&(en*=le.multiplier),kt+en},0);J[ue].coins+=ut,ut>0&&(fe=ln(fe,he.id,{income:ut,transaction:{label:"Kept Goods Sold",amount:ut,items:pt}})),J[ue].stash.push(...pt),yt(ue,pt),Sn.forEach(kt=>{const Ct=J.findIndex(en=>en.id===kt.id);Ct>-1&&(J[Ct].coins+=1e3,fe=ln(fe,kt.id,{income:1e3,roleBonus:1e3,transaction:{label:"Snitch Reward",amount:1e3,detail:`${he.name} busted`}}))}),xt.push({id:Date.now().toString(),text:`BUSTED! ${he.name} pays $${qe}. ${_t.length} items seized.`,type:"success"}),Nn={id:Date.now(),type:"success",message:"BUSTED",subtext:"Contraband Seized!"}}}}if(J[ue].loadedCrate=null,J.filter(we=>we.id!==ve.id&&we.loadedCrate!==null).length===0){const we={stats:fe,event:le||As.NORMAL};await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:J,logs:Ts(...xt),currentRoundStats:fe,roundHistory:Ts(we),turnState:"ROUND_SUMMARY",feedbackTrigger:Nn})}else await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:J,logs:Ts(...xt),currentRoundStats:fe,feedbackTrigger:Nn})},Mr=async()=>{const W=E.currentRound+1;if(W>xe){const yt=E.players.map(xt=>({...xt,finalScore:Math.floor(xt.coins-zm),ready:!1})).sort((xt,Nn)=>Nn.finalScore-xt.finalScore);await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:yt,status:"finished",turnState:"IDLE",winner:yt[0].name,feedbackTrigger:{id:Date.now(),type:"success",message:"GAME OVER",subtext:`${yt[0].name} wins!`}});return}let ne=E.inspectorOrder[W-1],ve=[...E.deck];const J=Object.keys(As),ue=J[Math.floor(Math.random()*J.length)],Oe=As[ue];let he=Lv(E.players);he[ne].role=null;const un=he[ne].id,Sn={};he.forEach(yt=>{Sn[yt.id]={role:yt.role,isInspector:yt.id===un,income:0,expense:0,transactions:[],marketItems:[],roleBonus:0}});const fe=he.map(yt=>{const xt=[...yt.hand],Nn=yt.upgrades?.includes("POCKETS")?7:6;for(;xt.length<Nn&&ve.length>0;){const Vs=sm(ve,xt);Vs&&xt.push(Vs)}return{...yt,hand:xt,loadedCrate:null,ready:!1}});await Rn(rn(an,"artifacts",pn,"public","data","rooms",d),{players:fe,deck:ve,inspectorIndex:ne,currentRound:W,currentRoundStats:Sn,roundHistory:Ts({stats:E.currentRoundStats,event:E.marketEvent||As.NORMAL}),turnState:"SHOPPING",marketEvent:Oe,logs:Ts({id:Date.now().toString(),text:`Round ${W} Started. Event: ${Oe.name}`,type:"neutral"})})};if(ee)return v.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[v.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[v.jsx(gE,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),v.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),v.jsx("p",{className:"text-gray-400",children:"Border crossing closed. Inspections are paused."})]}),v.jsx("div",{className:"h-8"}),v.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:v.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:v.jsx("div",{className:"text-center pb-12 animate-pulse",children:v.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[v.jsx(zv,{size:16})," Visit Gamehub...Try our other releases..."," ",v.jsx(zv,{size:16})]})})})})]});if(i==="menu")return v.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[v.jsx(rm,{}),Te&&v.jsx(qv,{onClose:()=>ge(!1)}),v.jsxs("div",{className:"z-10 text-center mb-10",children:[v.jsx($o,{size:64,className:"text-emerald-500 mx-auto mb-4 animate-bounce"}),v.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-emerald-400 to-green-700 tracking-widest",children:"CONTRABAND"}),v.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Black Market Edition"})]}),v.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur border border-emerald-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[$&&v.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm",children:$}),v.jsx("input",{className:"w-full bg-black/50 border border-zinc-600 p-3 rounded mb-4 text-white placeholder-zinc-500 focus:border-emerald-500 outline-none",placeholder:"Alias",value:o,onChange:W=>c(W.target.value)}),v.jsxs("button",{onClick:Be,disabled:I,className:"w-full bg-emerald-700 hover:bg-emerald-600 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 transition-all",children:[v.jsx(Np,{size:20})," Create Operation"]}),v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsx("input",{className:"flex-1 min-w-0 bg-black/50 border border-zinc-600 p-3 rounded text-white placeholder-zinc-500 uppercase tracking-wider",placeholder:"CODE",value:_,onChange:W=>y(W.target.value.toUpperCase())}),v.jsx("button",{onClick:Ot,disabled:I,className:"bg-zinc-800 hover:bg-zinc-700 px-6 rounded font-bold flex-shrink-0",children:"Join"})]}),v.jsxs("button",{onClick:()=>ge(!0),className:"w-full text-center text-zinc-500 hover:text-white text-sm mt-2 flex items-center justify-center gap-2",children:[v.jsx(Om,{size:14})," Rules"]})]}),v.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Sheriff of Nottingham. A tribute game.",v.jsx("br",{}),"Developed by ",v.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",v.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-green-500 underline hover:text-green-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E)return v.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-6 relative",children:[v.jsx(rm,{}),x&&v.jsx(Bv,{isHost:ae,onConfirm:mt,onCancel:()=>w(!1)}),v.jsxs("div",{className:"z-10 w-full max-w-lg bg-zinc-900/90 backdrop-blur p-8 rounded-2xl border border-emerald-900/50 shadow-2xl",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("h2",{className:"text-2xl font-serif text-emerald-500",children:["Lobby ",v.jsx("span",{className:"text-white font-mono",children:d})]}),v.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:v.jsx(km,{size:16})})]}),v.jsx("div",{className:"space-y-2 mb-8",children:E.players.map(W=>v.jsxs("div",{className:"flex items-center justify-between bg-zinc-800/50 p-3 rounded border border-zinc-700/50",children:[v.jsxs("span",{className:"font-bold flex items-center gap-2",children:[v.jsx(Wc,{size:14,className:W.id===s.uid?"text-emerald-500":"text-zinc-500"}),W.name," ",W.id===E.hostId&&v.jsx(Mm,{size:14,className:"text-yellow-500"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-zinc-500 text-xs",children:"Waiting"}),E.hostId===s.uid&&W.id!==s.uid&&v.jsx("button",{onClick:()=>Wi(W.id),className:"p-1.5 bg-zinc-700 hover:bg-red-900/50 text-zinc-400 hover:text-red-400 rounded transition-colors",title:"Kick Player",children:v.jsx(tI,{size:12})})]})]},W.id))}),E.hostId===s.uid&&v.jsx("button",{onClick:ts,disabled:E.players.length<3,className:"w-full py-4 bg-emerald-700 hover:bg-emerald-600 rounded-xl font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:E.players.length<3?"Need 3+ Players":"Start Game"})]}),v.jsx(jv,{})]});if(i==="game"&&E){const W=E.players[E.inspectorIndex],ne=E.players.filter(J=>J.id!==E.hostId).every(J=>J.ready),ve=P.ready||E.turnState!=="SHOPPING";return v.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col relative overflow-hidden font-sans",children:[v.jsx(rm,{}),k&&v.jsx(pI,{type:k.type,message:k.message,subtext:k.subtext,icon:k.type==="danger"?oa:k.type==="bribe"?kv:KN}),Te&&v.jsx(qv,{onClose:()=>ge(!1)}),ze&&v.jsx(yI,{logs:E.logs,onClose:()=>N(!1)}),x&&v.jsx(Bv,{isHost:ae,onLobby:es,onConfirm:mt,onCancel:()=>w(!1)}),V&&v.jsx(mI,{stash:P.stash||[],onClose:()=>D(!1)}),v.jsx(gI,{isOpen:Pe,onClose:()=>ot(!1),player:P,onBuy:Xn}),v.jsxs("div",{className:"h-16 bg-zinc-900/90 border-b border-zinc-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0 shadow-xl",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"hidden md:flex flex-col",children:[v.jsx("span",{className:"text-xs text-zinc-500 uppercase tracking-widest",children:"Event"}),v.jsxs("span",{className:"text-sm font-bold text-yellow-500 flex items-center gap-1",children:[le.id==="WAR"&&v.jsx(Cp,{size:14}),le.id==="PANDEMIC"&&v.jsx(Ip,{size:14}),le.id==="CRACKDOWN"&&v.jsx(oa,{size:14}),le.name]})]}),v.jsxs("div",{className:"bg-black/40 px-3 py-1 rounded-full border border-zinc-700 flex items-center gap-2",children:[v.jsx(Jc,{size:14,className:"text-yellow-500"}),v.jsxs("span",{className:"font-mono font-bold",children:["$",P.coins]})]}),v.jsxs("div",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded border border-zinc-800 flex items-center gap-1",children:[v.jsx(vN,{size:14}),v.jsxs("span",{children:[E.currentRound,"/",xe]})]}),v.jsxs("div",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded border border-zinc-800 flex items-center gap-1",children:[v.jsx("div",{className:"w-2 h-3 bg-zinc-600 rounded-sm"}),E.deck.length]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>N(!ze),className:`p-2 rounded-full ${ze?"bg-green-900 text-green-400":"text-gray-400 hover:bg-gray-800"}`,children:v.jsx(yE,{size:20})}),v.jsx("button",{onClick:()=>ge(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:v.jsx(Om,{size:20})}),v.jsx("button",{onClick:()=>w(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:v.jsx(km,{size:20})})]})]}),v.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-6xl mx-auto w-full gap-6",children:[v.jsx("div",{className:"flex items-center justify-center gap-4",children:v.jsxs("div",{className:`px-6 py-2 rounded-full border flex items-center gap-2 shadow-lg ${E.turnState==="INSPECTING"?"bg-red-900/30 border-red-500 text-red-200":"bg-emerald-900/30 border-emerald-500 text-emerald-200"}`,children:[E.turnState==="SHOPPING"?v.jsx(Zo,{size:18}):E.turnState==="LOADING"?v.jsx($o,{size:18}):E.turnState==="ROUND_SUMMARY"?v.jsx(dE,{size:18}):v.jsx(oa,{size:18}),v.jsx("span",{className:"font-bold tracking-wide",children:E.turnState==="SHOPPING"?"MARKET PHASE":E.turnState==="LOADING"?"LOAD CRATES":E.turnState==="ROUND_SUMMARY"?"ROUND REPORT":`INSPECTOR: ${W.name}`})]})}),v.jsx("div",{className:`flex gap-3 justify-center flex-wrap w-full transition-opacity duration-500 ${E.status==="finished"?"opacity-20 pointer-events-none":"opacity-100"}`,children:E.players.map(J=>{if(J.id===s.uid)return null;const ue=J.id===W.id;let Oe=Wc,he="text-zinc-500";return ue?(Oe=oa,he="text-red-500 animate-pulse"):J.role&&(Oe=Gi[J.role].icon,he=Gi[J.role].color),v.jsxs("div",{className:`relative bg-zinc-900/90 p-3 rounded-xl border-2 w-32 transition-all flex flex-col items-center ${ue?"border-yellow-500 shadow-[0_0_15px_rgba(234,179,8,0.2)]":"border-zinc-700"} ${J.loadedCrate?"bg-zinc-800":""}`,children:[v.jsx("div",{className:"absolute top-1 right-1 flex items-center gap-1 opacity-70",children:v.jsx(Oe,{size:12,className:he})}),v.jsx(Wc,{size:24,className:ue?"text-yellow-500":"text-zinc-600"}),v.jsx("span",{className:`font-bold text-xs truncate w-full text-center mt-1 ${ue?"text-yellow-200":"text-zinc-400"}`,children:J.name}),J.loadedCrate?v.jsxs("div",{className:"mt-2 w-full bg-black/40 rounded p-2 text-center border border-zinc-600",children:[v.jsx("div",{className:"flex justify-center items-center gap-1 mb-1",children:v.jsxs("div",{className:"bg-zinc-700 text-zinc-300 text-[9px] px-1.5 py-0.5 rounded flex items-center gap-1",children:[v.jsx(hE,{size:8})," ",J.loadedCrate.cards.length]})}),v.jsxs("div",{className:"text-[10px] text-zinc-500 uppercase flex justify-center items-center gap-1",children:[Dt[J.loadedCrate.declaration].name," ",J.loadedCrate.bribe>0&&v.jsx(Jc,{size:10,className:"text-yellow-500"})]}),se&&P.id===W.id&&E.turnState==="INSPECTING"&&v.jsxs("div",{className:"grid grid-cols-2 gap-1 mt-2",children:[v.jsx("button",{onClick:()=>Si(J.id,"PASS"),className:"bg-emerald-700 hover:bg-emerald-600 text-[8px] py-2 rounded text-white font-bold",children:"PASS"}),v.jsx("button",{onClick:()=>Si(J.id,"OPEN"),className:"bg-red-700 hover:bg-red-600 text-[8px] py-2 rounded text-white font-bold",children:"OPEN"}),J.loadedCrate.bribe>0&&v.jsxs("button",{onClick:()=>Si(J.id,"ACCEPT_BRIBE"),className:"col-span-2 bg-yellow-600 hover:bg-yellow-500 text-[9px] py-1 rounded text-black font-bold flex items-center justify-center gap-1",children:["Take $",J.loadedCrate.bribe," Bribe"]}),P.upgrades?.includes("SCANNER")&&!J.loadedCrate.scanned&&v.jsxs("button",{onClick:()=>Si(J.id,"PEEK"),className:"col-span-2 bg-blue-600 hover:bg-blue-500 text-[9px] py-1 rounded text-white font-bold flex items-center justify-center gap-1",children:[v.jsx(_E,{size:10})," SCAN (1)"]})]})]}):!ue&&v.jsx("div",{className:"mt-2 text-[9px] text-zinc-600 animate-pulse",children:J.ready?"Ready":"Thinking..."})]},J.id)})}),v.jsx("div",{className:`w-full max-w-4xl bg-zinc-900/95 p-4 md:p-6 rounded-t-3xl border-t border-emerald-500/30 backdrop-blur-md mt-auto shadow-[0_-10px_40px_rgba(0,0,0,0.5)] z-20 transition-opacity duration-500 ${E.status==="finished"?"opacity-20 pointer-events-none":"opacity-100"}`,children:v.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[v.jsxs("div",{className:"flex flex-col gap-2 min-w-[140px]",children:[se?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"font-bold text-lg text-white flex items-center gap-2",children:[v.jsx(oa,{size:18,className:"text-red-500 animate-pulse"}),P.name]}),v.jsx("div",{className:"text-xs text-red-300 font-bold",children:"You are the Inspector. Check crates!"})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"font-bold text-lg text-white flex items-center gap-2",children:[P.role&&t_.createElement(Gi[P.role].icon,{size:18,className:Gi[P.role].color}),P.name]}),v.jsx("div",{className:"text-xs text-zinc-500",children:Gi[P.role]?.desc})]}),v.jsxs("div",{className:"mt-2 border-t border-zinc-700 pt-2",children:[v.jsxs("div",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 flex items-center gap-1",children:[v.jsx(qN,{size:10})," Event Active"]}),v.jsx("div",{className:"text-sm font-bold text-yellow-500",children:le.name}),v.jsx("div",{className:"text-[10px] text-zinc-400 leading-tight",children:le.desc})]}),v.jsx("div",{className:"mt-2 flex gap-1 flex-wrap",children:P.upgrades?.map(J=>{const ue=bh[J].icon;return v.jsx("div",{className:"p-1 bg-zinc-800 rounded border border-zinc-700 text-yellow-500",title:bh[J].name,children:v.jsx(ue,{size:12})},J)})}),v.jsxs("button",{onClick:()=>D(!0),className:"mt-2 w-full py-2 bg-zinc-800 hover:bg-zinc-700 rounded text-xs text-zinc-300 border border-zinc-600 flex items-center justify-center gap-2 transition-colors",children:[v.jsx(hu,{size:12})," View Stash (",P.stash.length,")"]}),E.turnState==="SHOPPING"&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>!ve&&ot(!0),disabled:ve,className:`mt-2 w-full py-2 rounded text-xs border flex items-center justify-center gap-2 transition-colors ${ve?"bg-zinc-800 text-zinc-600 border-zinc-700 cursor-not-allowed":"bg-yellow-900/20 hover:bg-yellow-900/30 text-yellow-500 border-yellow-500/50"}`,children:[v.jsx(Zo,{size:12})," Open Black Market"]}),v.jsx("button",{onClick:Ai,disabled:P.ready,className:`mt-2 py-2 px-4 rounded font-bold transition-all ${P.ready?"bg-green-600/50 text-white/50 cursor-not-allowed":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"}`,children:P.ready?"READY":"MARKET DONE"})]})]}),v.jsx("div",{className:"flex-1 overflow-x-auto min-h-[160px]",children:se?null:P.loadedCrate?v.jsxs("div",{className:"h-full flex flex-col items-center justify-center w-full min-w-0",children:[v.jsx("div",{className:"w-full overflow-x-auto no-scrollbar",children:v.jsx("div",{className:"flex gap-2 w-max mx-auto px-4 py-4 grayscale-[0.3] scale-90 origin-bottom",children:P.loadedCrate.cards.map((J,ue)=>v.jsxs("div",{className:"relative group flex-shrink-0 transition-transform hover:-translate-y-2",children:[v.jsx(Pv,{typeId:J,small:!1}),v.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(Vm,{className:"text-white/80 drop-shadow-md"})})]},ue))})}),v.jsxs("div",{className:"flex items-center gap-3 bg-zinc-900/80 px-4 py-2 rounded-full border border-emerald-500/30 text-xs shadow-xl backdrop-blur-md whitespace-nowrap z-20",children:[v.jsxs("span",{className:"flex items-center gap-1 text-emerald-400 font-bold",children:[v.jsx(Vm,{size:12})," LOCKED"]}),v.jsx("div",{className:"w-px h-3 bg-zinc-700"}),v.jsxs("span",{className:"text-zinc-400",children:["Declared:"," ",v.jsx("strong",{className:"text-white",children:Dt[P.loadedCrate.declaration]?.name})]}),P.loadedCrate.bribe>0&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-px h-3 bg-zinc-700"}),v.jsxs("span",{className:"flex items-center gap-1 text-yellow-500 font-mono",children:[v.jsx(Jc,{size:12})," $",P.loadedCrate.bribe]})]})]})]}):E.turnState==="LOADING"?v.jsx("div",{className:"flex gap-2 pb-2",children:P.hand.map((J,ue)=>v.jsx(Pv,{typeId:J,selected:Xe.includes(ue),onClick:()=>{Xe.includes(ue)?St(Xe.filter(Oe=>Oe!==ue)):Xe.length<(P.upgrades?.includes("EXPANDED")?5:4)&&St([...Xe,ue])}},ue))}):v.jsx("div",{className:"h-full flex items-center justify-center text-zinc-600 italic",children:"Market Phase - Check Shop"})}),!se&&E.turnState!=="SHOPPING"&&v.jsxs("div",{className:"min-w-[200px] flex flex-col gap-3",children:[!P.loadedCrate&&E.turnState==="LOADING"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-zinc-800 p-2 rounded-xl border border-zinc-700",children:[v.jsx("label",{className:"text-[10px] text-zinc-500 uppercase font-bold mb-1 block",children:"Declare As"}),v.jsx("div",{className:"grid grid-cols-3 gap-1",children:["MEDS","FOOD","PARTS"].map(J=>v.jsx("button",{onClick:()=>re(J),className:`p-2 rounded flex items-center justify-center ${F===J?"bg-emerald-600 text-white":"bg-zinc-700 text-zinc-400"}`,children:t_.createElement(Dt[J].icon,{size:16})},J))})]}),v.jsxs("div",{className:"bg-zinc-800 p-2 rounded-xl border border-zinc-700 flex items-center gap-2",children:[v.jsx("div",{className:"text-[10px] text-zinc-500 uppercase font-bold w-12",children:"Bribe"}),v.jsx("input",{type:"range",min:"0",max:Math.max(0,Math.min(P.coins,1e4)),step:"100",value:me,onChange:J=>Ve(J.target.value),className:"flex-1 accent-yellow-500 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer"}),v.jsxs("span",{className:"text-xs font-mono text-yellow-500 w-10 text-right",children:["$",me]})]}),v.jsx("button",{onClick:ns,disabled:Xe.length===0,className:"w-full py-3 bg-gradient-to-r from-emerald-600 to-green-500 hover:from-emerald-500 hover:to-green-400 disabled:opacity-50 text-white font-bold rounded-xl shadow-lg",children:"LOAD CRATE"})]}),P.loadedCrate&&v.jsxs("div",{className:"bg-zinc-800/80 p-3 rounded-xl border border-yellow-500/30 animate-in fade-in",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsxs("div",{className:"text-xs font-bold text-white flex items-center gap-2",children:[v.jsx(kv,{size:14,className:"text-yellow-500"})," ","Negotiation"]}),v.jsx("div",{className:"text-[10px] text-zinc-400 uppercase tracking-wider",children:"Active"})]}),v.jsxs("div",{className:"bg-zinc-900 p-2 rounded-lg border border-zinc-700 flex items-center gap-2 mb-2",children:[v.jsx("div",{className:"text-[10px] text-zinc-500 uppercase font-bold w-8",children:"Offer"}),v.jsx("input",{type:"range",min:"0",max:Math.min(1e4,P.coins+(P.loadedCrate?.bribe||0)),step:"100",value:me,onChange:J=>Ve(J.target.value),className:"flex-1 accent-yellow-500 h-2 bg-zinc-800 rounded-lg appearance-none cursor-pointer"}),v.jsxs("span",{className:"text-xs font-mono text-yellow-500 w-10 text-right",children:["$",me]})]}),v.jsx("button",{onClick:Or,disabled:Date.now()-Ze<2e3,className:"w-full py-2 bg-yellow-600 hover:bg-yellow-500 disabled:bg-zinc-700 disabled:text-zinc-500 text-black font-bold rounded-lg text-xs shadow-lg shadow-yellow-900/20 transition-colors flex items-center justify-center gap-2",children:Date.now()-Ze<2e3?v.jsxs(v.Fragment,{children:[v.jsx(xN,{size:12,className:"animate-spin"})," WAIT"]}):"UPDATE OFFER"})]})]})]})}),E.status==="finished"&&v.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:v.jsxs("div",{className:"w-full max-w-4xl bg-zinc-900 border border-emerald-500/50 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[v.jsx("div",{className:"p-6 bg-zinc-950 border-b border-zinc-800 text-center",children:v.jsxs("h2",{className:"text-4xl font-bold text-emerald-400 drop-shadow-md",children:[E.winner," Wins!"]})}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:v.jsx(Uv,{players:E.players,roundData:E.roundHistory,isFinal:!0})}),v.jsx("div",{className:"p-6 bg-zinc-950 border-t border-zinc-800 flex justify-center gap-4",children:ae?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:ts,disabled:!ne,className:`px-6 py-3 rounded-xl font-bold text-white shadow-lg transition-all ${ne?"bg-emerald-600 hover:bg-emerald-500":"bg-zinc-800 text-zinc-600 cursor-not-allowed"}`,children:"New Game"}),v.jsx("button",{onClick:es,disabled:!ne,className:`px-6 py-3 rounded-xl font-bold text-white transition-all ${ne?"bg-zinc-700 hover:bg-zinc-600":"bg-zinc-800 text-zinc-600 cursor-not-allowed"}`,children:"Return Team to Lobby"})]}):v.jsx("button",{onClick:Ai,className:`px-8 py-3 rounded-xl font-bold transition-all ${P.ready?"bg-green-600 text-white":"bg-zinc-700 hover:bg-zinc-600 text-white"}`,children:P.ready?"Ready! Waiting for Host...":"Ready for Next Round"})}),ae&&!ne&&v.jsx("div",{className:"pb-4 text-center text-xs text-zinc-500 animate-pulse",children:"Waiting for squad..."})]})}),E.turnState==="ROUND_SUMMARY"&&v.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:v.jsxs("div",{className:"w-full max-w-4xl bg-zinc-900 border border-zinc-700 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"p-4 bg-zinc-950 border-b border-zinc-800 flex justify-between items-center",children:[v.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Round ",E.currentRound," Complete"]}),v.jsx("div",{className:"text-xs text-zinc-500 uppercase tracking-widest",children:E.currentRound>=xe?"Game Sequence Complete":"Next Event Loading..."})]}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:v.jsx(Uv,{players:E.players,roundData:E.roundHistory,isFinal:!1})}),v.jsx("div",{className:"p-6 bg-zinc-950 border-t border-zinc-800 flex justify-center",children:v.jsx("button",{onClick:Ai,className:`px-8 py-3 rounded-xl font-bold transition-all shadow-lg flex items-center gap-2 ${P.ready?"bg-green-600 text-white shadow-green-900/20":"bg-emerald-600 hover:bg-emerald-500 text-white shadow-emerald-900/20"}`,children:P.ready?v.jsxs(v.Fragment,{children:[v.jsx(AN,{size:20})," Waiting for others..."]}):v.jsx(v.Fragment,{children:E.currentRound>=xe?v.jsxs(v.Fragment,{children:["Show Final Results ",v.jsx(Mm,{size:20})]}):v.jsxs(v.Fragment,{children:["Start Round ",E.currentRound+1," ",v.jsx(EN,{size:20})]})})})}),v.jsx("div",{className:"pb-4 bg-zinc-950 flex justify-center gap-2",children:E.players.map(J=>v.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${J.ready?"bg-green-500":"bg-zinc-700"}`,title:J.name},J.id))})]})})]}),v.jsx(jv,{})]})}return null}aA.createRoot(document.getElementById("root")).render(v.jsx(tt.StrictMode,{children:v.jsx(_I,{})}));
